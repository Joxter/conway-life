const Wu=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}};Wu();function Ft(e,r){for(let t in e)r(e[t],t)}function G(e,r){e.forEach(r)}function X(e,r){if(!e)throw Error(r)}function ea(e,r){U={parent:U,value:e,template:M(e,"template")||vr(),sidRoot:M(e,"sidRoot")||U&&U.sidRoot};try{return r()}finally{U=pe(U)}}function ke({node:e=[],from:r,source:t,parent:n=r||t,to:a,target:o,child:i=a||o,scope:l={},meta:g={},family:d={type:"regular"},regional:u}={}){let v=Or(n),f=Or(d.links),s=Or(d.owners),c=[];G(e,h=>h&&xe(c,h));let y={id:Zu(),seq:c,next:Or(i),meta:g,scope:l,family:{type:d.type||"crosslink",links:f,owners:s}};return G(f,h=>xe(Dt(h),y)),G(s,h=>xe(Mt(h),y)),G(v,h=>xe(h.next,y)),u&&U&&lr(Pr(U),[y]),y}function C(e,r,t){let n=ve,a=null,o=A;if(e.target&&(r=e.params,t=e.defer,n="page"in e?e.page:n,e.stack&&(a=e.stack),o=Se(e)||o,e=e.target),o&&A&&o!==A&&(A=null),Array.isArray(e))for(let s=0;s<e.length;s++)je("pure",n,Y(e[s]),a,r[s],o);else je("pure",n,Y(e),a,r,o);if(t&&!Yr)return;let i,l,g,d,u,v,f={isRoot:Yr,currentPage:ve,scope:A,isWatch:it,isPure:lt};Yr=0;e:for(;d=ac();){let{idx:s,stack:c,type:y}=d;g=c.node,ve=u=c.page,A=Se(c),u?v=u.reg:A&&(v=A.reg);let h=!!u,p=!!A,m={fail:0,scope:g.scope};i=l=0;for(let b=s;b<g.seq.length&&!i;b++){let $=g.seq[b];if($.order){let{priority:S,barrierID:w}=$.order,x=w?u?`${u.fullID}_${w}`:w:0;if(b!==s||y!==S){w?cn.has(x)||(cn.add(x),na(b,c,S,w)):na(b,c,S);continue e}w&&cn.delete(x)}switch($.type){case"mov":{let w,x=$.data;switch(x.from){case Le:w=Pr(c);break;case"a":case"b":w=c[x.from];break;case"value":w=x.store;break;case"store":if(v&&!v[x.store.id])if(h){let E=Bl(u,x.store.id);c.page=u=E,E?v=E.reg:p?(ur(A,x.store,0,1,x.softRead),v=A.reg):v=void 0}else p&&ur(A,x.store,0,1,x.softRead);w=Rr(v&&v[x.store.id]||x.store)}switch(x.to){case Le:c.value=w;break;case"a":case"b":c[x.to]=w;break;case"store":ic(u,A,g,x.target).current=w}break}case"compute":let S=$.data;if(S.fn){it=M(g,"op")==="watch",lt=S.pure;let w=S.safe?(0,S.fn)(Pr(c),m.scope,c):lc(m,S.fn,c);S.filter?l=!w:c.value=w,it=f.isWatch,lt=f.isPure}}i=m.fail||l}if(!i){let b=Pr(c);G(g.next,S=>{je("child",u,S,c,b,Se(c))});let $=Se(c);if($){M(g,"needFxCounter")&&je("child",u,$.fxCount,c,b,$),M(g,"storeChange")&&je("child",u,$.storeChange,c,b,$),M(g,"warnSerialize")&&je("child",u,$.warnSerializeNode,c,b,$);let S=$.additionalLinks[g.id];S&&G(S,w=>{je("child",u,w,c,b,$)})}}}Yr=f.isRoot,ve=f.currentPage,A=Se(f)}function Cl(e,r="combine"){let t=r+"(",n="",a=0;return Ft(e,o=>{a<25&&(o!=null&&(t+=n,t+=Be(o)?Ra(o).fullName:o.toString()),a+=1,n=", ")}),t+")"}function _l(e,r){let t,n,a=e;if(r){let o=Ra(r);e.length===0?(t=o.path,n=o.fullName):(t=o.path.concat([e]),n=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],n=e;return{shortName:a,fullName:n,path:t}}function qr(e,r){let t=r?e:e[0];Nl(t);let n=t.or,a=t.and;if(a){let o=r?a:a[0];if(ge(o)&&"and"in o){let i=qr(a,r);e=i[0],n={...n,...i[1]}}else e=a}return[e,n]}function te(e,...r){let t=vr();if(t){let n=t.handlers[e];if(n)return n(t,...r)}}function I(e,r){let t=(a,...o)=>(qe(!M(t,"derived"),"call of derived event","createEvent"),qe(!lt,"unit call from pure function","operators like sample"),ve?((i,l,g,d)=>{let u=ve,v=null;if(l)for(v=ve;v&&v.template!==l;)v=pe(v);Ro(v);let f=i.create(g,d);return Ro(u),f})(t,n,a,o):t.create(a,o)),n=vr();return Object.assign(t,{graphite:ke({meta:zl("event",t,e,r),regional:1}),create:a=>(C({target:t,params:a,scope:A}),a),watch:a=>Ul(t,a),map:a=>fn(t,ir,a,[Ie()]),filter:a=>fn(t,"filter",a.fn?a:a.fn,[Ie(_a,1)]),filterMap:a=>fn(t,"filterMap",a,[Ie(),de(o=>!W(o),1)]),prepend(a){let o=I("* \u2192 "+t.shortName,{parent:pe(t)});return te("eventPrepend",Y(o)),ze(o,t,[Ie()],"prepend",a),Gl(t,o),o}})}function T(e,r){let t=sr(e),n=I({named:"updates",derived:1});te("storeBase",t);let a=t.id,o={subscribers:new Map,updates:n,defaultState:e,stateRef:t,getState(){let v,f=t;if(ve){let s=ve;for(;s&&!s.reg[a];)s=pe(s);s&&(v=s)}return!v&&A&&(ur(A,t,1),v=A),v&&(f=v.reg[a]),Rr(f)},setState:v=>C({target:o,params:v,defer:1,scope:A}),reset:(...v)=>(G(v,f=>o.on(f,()=>o.defaultState)),o),on:(v,f)=>(bt(v,".on","first argument"),qe(!M(o,"derived"),".on in derived store","createStore"),G(Array.isArray(v)?v:[v],s=>{o.off(s),ot(o).set(s,ql(_o(s,o,"on",tc,f)))}),o),off(v){let f=ot(o).get(v);return f&&(f(),ot(o).delete(v)),o},map(v,f){let s,c;ge(v)&&(s=v,v=v.fn),qe(W(f),"second argument of store.map","updateFilter");let y=o.getState();vr()?c=null:W(y)||(c=v(y,f));let h=T(c,{name:`${o.shortName} \u2192 *`,derived:1,and:s}),p=_o(o,h,ir,ra,v);return ta(ne(h),{type:ir,fn:v,from:t}),ne(h).noInit=1,te("storeMap",t,p),h},watch(v,f){if(!f||!Be(v)){let s=Ul(o,v);return te("storeWatch",t,v)||v(o.getState()),s}return X(ae(f),"second argument should be a function"),v.watch(s=>f(o.getState(),s))}},i=zl("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=ke({scope:{state:t,fn:l},node:[de((v,f,s)=>(s.scope&&!s.scope.reg[t.id]&&(s.b=1),v)),Ue(t),de((v,f,{a:s,b:c})=>!W(v)&&(v!==s||c),1),l&&Ie(ra,1),re({from:Le,target:t})],child:n,meta:i,regional:1});let g=M(o,"derived"),d=M(o,"serialize")==="ignore",u=M(o,"sid");return u&&(d||Me(o,"storeChange",1),t.sid=u),u||d||g||Me(o,"warnSerialize",1),X(g||!W(e),"current state can't be undefined, use null instead"),lr(o,[n]),o}function Te(...e){let r,t,n;[e,n]=qr(e);let a,o,i,l=e[e.length-1];if(ae(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let g=t[0];ie(g)||(a=g,o=1)}if(!o&&(a=t,r)){i=1;let g=r;r=d=>g(...d)}return X(ge(a),"shape should be an object"),uc(Array.isArray(a),!i,a,n,r)}function Hu(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function Pa(e,r){let t=I(ae(e)?{handler:e}:e,r),n=Y(t);Me(n,"op",t.kind="effect"),t.use=f=>(X(ae(f),".use argument should be a function"),d.scope.handler=f,t),t.use.getCurrent=()=>d.scope.handler;let a=t.finally=I({named:"finally",derived:1}),o=t.done=a.filterMap({named:"done",fn({status:f,params:s,result:c}){if(f==="done")return{params:s,result:c}}}),i=t.fail=a.filterMap({named:"fail",fn({status:f,params:s,error:c}){if(f==="fail")return{params:s,error:c}}}),l=t.doneData=o.map({named:"doneData",fn:({result:f})=>f}),g=t.failData=i.map({named:"failData",fn:({error:f})=>f}),d=ke({scope:{handlerId:M(n,"sid"),handler:t.defaultConfig.handler||(()=>X(0,`no handler used in ${t.getType()}`))},node:[de((f,s,c)=>{let y=s,h=y.handler;if(Se(c)){let p=Se(c).handlers[y.handlerId];p&&(h=p)}return f.handler=h,f},0,1),de(({params:f,req:s,handler:c,args:y=[f]},h,p)=>{let m=$t(f,s,1,a,p),b=$t(f,s,0,a,p),[$,S]=Kl(c,b,y);$&&(ge(S)&&ae(S.then)?S.then(m,b):m(S))},0,1)],meta:{op:"fx",fx:"runner"}});n.scope.runner=d,xe(n.seq,de((f,{runner:s},c)=>{let y=pe(c)?{params:f,req:{rs(h){},rj(h){}}}:f;return C({target:s,params:y,defer:1,scope:Se(c)}),y.params},0,1)),t.create=f=>{let s=Hu(),c={params:f,req:s};if(A){if(!it){let y=A;s.req.finally(()=>{oc(y)}).catch(()=>{})}C({target:t,params:c,scope:A})}else C(t,c);return s.req};let u=t.inFlight=T(0,{serialize:"ignore"}).on(t,f=>f+1).on(a,f=>f-1).map({fn:f=>f,named:"inFlight"});Me(a,"needFxCounter","dec"),Me(t,"needFxCounter",1);let v=t.pending=u.map({fn:f=>f>0,named:"pending"});return lr(t,[a,o,i,l,g,v,u]),t}function Xu(e){let r;[e,r]=qr(e,1);let{source:t,effect:n,mapParams:a}=e,o=Pa(e,r);Me(o,"attached",1);let i,{runner:l}=Y(o).scope,g=de((u,v,f)=>{let s,{params:c,req:y,handler:h}=u,p=o.finally,m=$t(c,y,0,p,f),b=f.a,$=yt(h),S=1;if(a?[S,s]=Kl(a,m,[c,b]):s=t&&$?b:c,S){if(!$)return u.args=[b,s],1;C({target:h,params:{params:s,req:{rs:$t(c,y,1,p,f),rj:m}},page:f.page,defer:1})}},1,1);if(t){let u;ie(t)?(u=t,lr(u,[o])):(u=Te(t),lr(o,[u])),i=[Ue(ne(u)),g]}else i=[g];l.seq.splice(1,0,...i),o.use(n);let d=pe(n);return d&&(Object.assign(Ra(o),_l(o.shortName,d)),o.defaultConfig.parent=d),Gl(n,o,"effect"),o}function mt(e,r){bt(e,"merge","first argument");let t=I({name:Cl(e,"merge"),derived:1,and:r});return ze(e,t,[],"merge"),t}function Al(e,r){let t=0;return G(fc,n=>{n in e&&(X(e[n]!=null,Vl(r,n)),t=1)}),t}function P(...e){let r,t,n,a,[[o,i,l],g]=qr(e),d=1;return W(i)&&ge(o)&&Al(o,"sample")&&(i=o.clock,l=o.fn,d=!o.greedy,a=o.filter,r=o.target,t=o.name,n=o.sid,o=o.source),Wl("sample",i,o,a,r,l,t,g,d,1,0,n)}function sn(...e){let[[r,t],n]=qr(e);return t||(t=r,r=t.source),Al(t,"guard"),Wl("guard",t.clock,r,t.filter,t.target,null,t.name,n,!t.greedy,0,1)}function Eo(e,r,t){if(ie(e))return qe(0,"restore($store)"),e;if(jl(e)||yt(e)){let a=pe(e),o=T(r,{parent:a,name:e.shortName,and:t});return ze(yt(e)?e.doneData:e,o),a&&a.hooks.store(o),o}let n=Array.isArray(e)?[]:{};return Ft(e,(a,o)=>n[o]=ie(a)?a:T(a,{name:o})),n}let Yu=typeof Symbol<"u"&&Symbol.observable||"@@observable",ir="map",Le="stack",Be=e=>(ae(e)||ge(e))&&"kind"in e;const Ur=e=>r=>Be(r)&&r.kind===e;let ie=Ur("store"),jl=Ur("event"),yt=Ur("effect"),Fl=Ur("domain"),Qu=Ur("scope");var B={__proto__:null,unit:Be,store:ie,event:jl,effect:yt,domain:Fl,scope:Qu};let un=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},xe=(e,r)=>e.push(r),qe=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Y=e=>e.graphite||e,Dt=e=>e.family.owners,Mt=e=>e.family.links,ne=e=>e.stateRef,Pr=e=>e.value,ot=e=>e.subscribers,pe=e=>e.parent,Se=e=>e.scope,M=(e,r)=>Y(e).meta[r],Me=(e,r,t)=>Y(e).meta[r]=t,Ra=e=>e.compositeName;const Ca=()=>{let e=0;return()=>""+ ++e};let Ju=Ca(),Dl=Ca(),Zu=Ca(),U=null,vr=()=>U&&U.template,Ml=e=>(e&&U&&U.sidRoot&&(e=`${U.sidRoot}|${e}`),e),ec=({sid:e,name:r,loc:t,method:n,fn:a})=>ea(ke({meta:{sidRoot:Ml(e),name:r,loc:t,method:n}}),a),lr=(e,r)=>{let t=Y(e);G(r,n=>{let a=Y(n);t.family.type!=="domain"&&(a.family.type="crosslink"),xe(Dt(a),t),xe(Mt(t),a)})},Or=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Y),ge=e=>typeof e=="object"&&e!==null,ae=e=>typeof e=="function",W=e=>e===void 0,Nl=e=>X(ge(e)||ae(e),"expect first argument be an object");const ko=(e,r,t,n)=>X(!(!ge(e)&&!ae(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${n}`);let bt=(e,r,t)=>{Array.isArray(e)?G(e,(n,a)=>ko(n,r,`${a} item of ${t}`,"")):ko(e,r,t," or array of units")},rc=(e,r,t="target")=>G(Or(r),n=>qe(!M(n,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),ra=(e,{fn:r},{a:t})=>r(e,t),tc=(e,{fn:r},{a:t})=>r(t,e),_a=(e,{fn:r})=>r(e);const Ll=(e,r,t,n)=>{let a={id:Dl(),type:e,data:r};return t&&(a.order={priority:t},n&&(a.order.barrierID=++nc)),a};let nc=0,re=({from:e="store",store:r,target:t,to:n=t?"store":Le,batch:a,priority:o})=>Ll("mov",{from:e,store:r,to:n,target:t},o,a),Dr=({fn:e,batch:r,priority:t,safe:n=0,filter:a=0,pure:o=0})=>Ll("compute",{fn:e,safe:n,filter:a,pure:o},t,r),Aa=({fn:e})=>Dr({fn:e,priority:"effect"}),de=(e,r,t)=>Dr({fn:e,safe:1,filter:r,priority:t&&"effect"}),Ue=(e,r,t)=>re({store:e,to:r?Le:"a",priority:t&&"sampler",batch:1}),Ie=(e=_a,r)=>Dr({fn:e,pure:1,filter:r}),To={mov:re,compute:Dr,filter:({fn:e,pure:r})=>Dr({fn:e,filter:1,pure:r}),run:Aa},sr=e=>({id:Dl(),current:e}),Rr=({current:e})=>e,ta=(e,r)=>{e.before||(e.before=[]),xe(e.before,r)},tr=null;const ja=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||aa(e.v.type)>aa(r.v.type))&&(t=e,e=r,r=t),t=ja(e.r,r),e.r=e.l,e.l=t,e},Fa=[];let Po=0;for(;Po<6;)xe(Fa,{first:null,last:null,size:0}),Po+=1;const ac=()=>{for(let e=0;e<6;e++){let r=Fa[e];if(r.size>0){if(e===3||e===4){r.size-=1;let n=tr.v;return tr=ja(tr.l,tr.r),n}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},je=(e,r,t,n,a,o)=>na(0,{a:null,b:null,node:t,parent:n,value:a,page:r,scope:o},e),na=(e,r,t,n=0)=>{let a=aa(t),o=Fa[a],i={v:{idx:e,stack:r,type:t,id:n},l:null,r:null};a===3||a===4?tr=ja(tr,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},aa=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},cn=new Set;let A,Yr=1,it=0,lt=0,ve=null,oc=e=>{A=e},Ro=e=>{ve=e};const Bl=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=pe(e);if(e)return e}return null};let ic=(e,r,t,n,a)=>{let o=Bl(e,n.id);return o?o.reg[n.id]:r?(ur(r,n,a),r.reg[n.id]):n},ur=(e,r,t,n,a)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!a){let g=0,d=t||!r.noInit||n;G(r.before,u=>{switch(u.type){case ir:{let v=u.from;if(v||u.fn){v&&ur(e,v,t,n);let f=v&&o[v.id].current;d&&(l.current=u.fn?u.fn(f):f)}break}case"field":g||(g=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),ur(e,u.from,t,n),d&&(l.current[u.field]=o[o[u.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const lc=(e,r,t)=>{try{return r(Pr(t),e.scope,t)}catch(n){console.error(n),e.fail=1}};let oa=(e,r={})=>(ge(e)&&(oa(e.or,r),Ft(e,(t,n)=>{W(t)||n==="or"||n==="and"||(r[n]=t)}),oa(e.and,r)),r);const Co=(e,r)=>{un(e.next,r),un(Dt(e),r),un(Mt(e),r)},ia=(e,r,t)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let a=Mt(e);for(;n=a.pop();)Co(n,e),(r||t&&M(e,"op")!=="sample"||n.family.type==="crosslink")&&ia(n,r,M(n,"op")!=="on"&&t);for(a=Dt(e);n=a.pop();)Co(n,e),t&&n.family.type==="crosslink"&&ia(n,r,M(n,"op")!=="on"&&t)},hr=e=>e.clear();let sc=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),ie(e))hr(ot(e));else if(Fl(e)){t=1;let n=e.history;hr(n.events),hr(n.effects),hr(n.stores),hr(n.domains)}ia(Y(e),!!r,t)},ql=e=>{let r=()=>sc(e);return r.unsubscribe=r,r},ze=(e,r,t,n,a)=>ke({node:t,parent:e,child:r,scope:{fn:a},meta:{op:n},family:{owners:[e,r],links:r},regional:1}),Ul=(e,r)=>(X(ae(r),".watch argument should be a function"),ql(ke({scope:{fn:r},node:[Aa({fn:_a})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Gl=(e,r,t="event")=>{pe(e)&&pe(e).hooks[t](r)},zl=(e,r,t,n)=>{let a=e==="domain",o=Ju(),i=oa({or:n,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:g=null,named:d=null}=i,u=d||i.name||(a?"":o),v=_l(u,l),f={op:r.kind=e,name:r.shortName=u,sid:r.sid=Ml(g),named:d,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=v,r.defaultConfig=i,r.thru=s=>(qe(0,"thru","js pipe"),s(r)),r.getType=()=>v.fullName,!a){r.subscribe=c=>(Nl(c),r.watch(ae(c)?c:y=>c.next&&c.next(y))),r[Yu]=()=>r;let s=vr();s&&(f.nativeTemplate=s)}return f};const fn=(e,r,t,n)=>{let a;ge(t)&&(a=t,t=t.fn);let o=I({name:`${e.shortName} \u2192 *`,derived:1,and:a});return ze(e,o,n,r,t),o},_o=(e,r,t,n,a)=>{let o=ne(r),i=re({store:o,to:"a",priority:"read"});t===ir&&(i.data.softRead=1);let l=[i,Ie(n)];return te("storeOnMap",o,l,ie(e)&&ne(e)),ze(e,r,l,t,a)},uc=(e,r,t,n,a)=>{let o=e?c=>c.slice():c=>({...c}),i=e?[]:{},l=o(i),g=sr(l),d=sr(1);g.type=e?"list":"shape",g.noInit=1,te("combineBase",g,d);let u=T(l,{name:Cl(t),derived:1,and:n}),v=ne(u);v.noInit=1,Me(u,"isCombine",1);let f=Ue(g);f.order={priority:"barrier"};let s=[de((c,y,h)=>(h.scope&&!h.scope.reg[g.id]&&(h.c=1),c)),f,re({store:d,to:"b"}),de((c,{key:y},h)=>{if(h.c||c!==h.a[y])return r&&h.b&&(h.a=o(h.a)),h.a[y]=c,1},1),re({from:"a",target:g}),re({from:"value",store:0,target:d}),re({from:"value",store:1,target:d,priority:"barrier",batch:1}),Ue(g,1),a&&Ie()];return Ft(t,(c,y)=>{if(!ie(c))return X(!Be(c)&&!W(c),`combine expects a store in a field ${y}`),void(l[y]=i[y]=c);i[y]=c.defaultState,l[y]=c.getState();let h=ze(c,u,s,"combine",a);h.scope.key=y;let p=ne(c);ta(g,{type:"field",field:y,from:p}),te("combineField",p,h)}),u.defaultShape=t,ta(v,{type:ir,from:g,fn:a}),vr()||(u.defaultState=a?v.current=a(l):i),u};let Kl=(e,r,t)=>{try{return[1,e(...t)]}catch(n){return r(n),[0,null]}},$t=(e,r,t,n,a)=>o=>C({target:[n,cc],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:a.page,scope:Se(a)});const cc=ke({node:[Aa({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),fc=["source","clock","target"],Vl=(e,r)=>e+`: ${r} should be defined`;let Wl=(e,r,t,n,a,o,i,l,g,d,u,v)=>{let f=!!a;X(!W(t)||!W(r),Vl(e,"either source or clock"));let s=0;W(t)?s=1:Be(t)||(t=Te(t)),W(r)?r=t:(bt(r,e,"clock"),Array.isArray(r)&&(r=mt(r))),s&&(t=r),l||i||(i=t.shortName);let c="none";(u||n)&&(Be(n)?c="unit":(X(ae(n),"`filter` should be function or unit"),c="fn")),a?(bt(a,e,"target"),rc(e,a)):c==="none"&&d&&ie(t)&&ie(r)?a=T(o?o(Rr(ne(t)),Rr(ne(r))):Rr(ne(t)),{name:i,sid:v,or:l}):(a=I({name:i,derived:1,or:l}),te("sampleTarget",Y(a)));let y=sr(),h=[];if(c==="unit"){let[b,$]=Ao(n,a,r,y,e);h=[...vn($),...vn(b)]}let[p,m]=Ao(t,a,r,y,e);return lr(t,[ze(r,a,[te("sampleSourceLoader"),re({from:Le,target:y}),...vn(m),Ue(p,1,g),...h,Ue(y),c==="fn"&&Ie((b,$,{a:S})=>n(b,S),1),o&&Ie(ra),te("sampleSourceUpward",f)],e,o)]),a};const vn=e=>[Ue(e),de((r,t,{a:n})=>n,1)],Ao=(e,r,t,n,a)=>{let o=ie(e),i=o?ne(e):sr(),l=sr(o);return o||ke({parent:e,node:[re({from:Le,target:i}),re({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:a},regional:1}),te("sampleSource",l,i,n),[i,l]};function st(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function Cr(e){var r,t;e.status="active",r=ut(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function ut(e){return e.group.activeChilds[e.priority]}function jo(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&Cr(r)}function H(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(Cr(r),ut(r).first||st(r.group,r.priority)));var t,n,a,o;r.status==="active"&&(r.status="pending",ut(r).first||((a=r.group).queue[o=r.priority].last?(a.cursor[o].prev=a.queue[o].last,a.queue[o].last.cursor[o].next=a,a.queue[o].last=a):a.queue[o].first=a.queue[o].last=a),n=r,(t=ut(r)).last?(n.cursor.prev=t.last,t.last.cursor.next=n,t.last=n):t.first=t.last=n),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=ns(r.group.queue.execQueue))}function vc(e){De("execQueue");let r,t,n=_e(),a=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(_e()-n>=1e3){a=1;break e}let o=!!e.props.first;for(o&&De("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(_e()-n>=1e3){a=1,fe("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Cr(t)}st(r,"props")}o&&fe("props");let i=!!e.tree.first;for(i&&De("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(_e()-n>=1e3){a=1,fe("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Cr(t)}st(r,"tree")}i&&fe("tree");let l=!!e.data.first;for(l&&De("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(_e()-n>=1e3){a=1,fe("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Cr(t)}st(r,"data")}l&&fe("data")}if(fe("execQueue"),a)e.rafID=ns(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function _r({value:e,runOp:r,group:t,priority:n}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:n,group:t,cursor:{prev:null,next:null}}}function dc({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=vc.bind(null,r),r}function Mr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function pc({value:e,group:r,onInit:t,onChange:n}){let a=_r({value:e,group:r,runOp(i){o.status="A",n(i)},priority:"data"}),o={status:"IA",value:a.value,ops:{init:_r({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:a,terminate:_r({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return H(1,o.ops.init),o}function gc(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",H(1,e.ops.terminate);break;case"AA":e.status="AT",H(1,e.ops.terminate),H(e.value.active,e.ops.change);break;case"IA":e.status="T",H(0,e.ops.init)}}function hc(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",H(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",H(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function mc(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function Hl(e,r){for(let t=0;t<r.length;t++){let{type:n,field:a,value:o}=r[t];xc[n](e,a,o)}}function Nt(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function Xl(e,r,t){Nt(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function Yl(e,r,t){Nt(t)?delete e.style[r]:e.style[r]=`${t}`}function Ql(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function Jl(e,r,t){Nt(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function Zl(e,r,t){if(Nt(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function la(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function cr({fn:e,state:r={},defer:t=0,name:n="",draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:g=0}){let d=k,u={id:++Oc,name:n,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:Ic,upward:To.filter({fn(f,s,c){if(!c.page){if(!c.parent||!c.parent.page)return 1;c.page=c.parent.page}if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page upward"),0;let y=[c.page.template],h=[c.page];{let p=c.page.parent;for(;p;)h.push(p),y.push(p.template),p=p.parent}return c.node.next.forEach(p=>{let m=p.meta.nativeTemplate;if(m)if(y.includes(m)){let b=h[y.indexOf(m)];C({target:p,params:f,defer:1,page:b,stack:c,scope:c.scope})}else console.error("context drift",{stack:c,node:p});else C({target:p,params:f,defer:1,page:c.page,stack:c,scope:c.scope})}),0}}),loader:To.filter({fn(f,s,c){if(c.parent){let y=c.scope?c.scope.graphite.id:null;if(c.page){if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page loader"),0;if(c.page.template===u)return 1;if(c.page.root.childSpawns[c.page.fullID][u.id])c.page.root.childSpawns[c.page.fullID][u.id].forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&C({params:f,target:c.node,page:h,defer:1,scope:c.scope})});else{let h=c.page.fullID,p=c.page.template.name==="rec";u.pages.forEach(m=>{if(!y||m.root.scope&&y===m.root.scope.graphite.id)if(m.fullID===h||m.fullID.startsWith(`${h}_`)){let b=1;if(p){let $=c.page.template.id,S=m.parent;for(;S&&S!==c.page;){if(S.template.id===$){b=0;break}S=S.parent}}b&&C({params:f,target:c.node,page:m,defer:1,scope:c.scope})}else h.startsWith(`${m.fullID}_`)&&C({params:f,target:c.node,page:c.page,defer:1,scope:c.scope})})}}else u.pages.forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&C({params:f,target:c.node,page:h,defer:1,scope:c.scope})});return 0}return 1}}),parent:d,node:null,api:null,trigger:{mount:I({named:"mount"})},draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:g||!(!d||!d.isBlock)};d&&d.childTemplates.push(u);let v=ke({meta:{template:u}});return u.node=v,k=u,t?u.deferredInit=()=>{let f=k;k=u,u.deferredInit=null;try{ea(v,()=>{let s=Eo(r);u.api=e(s,u.trigger),u.nameMap=s})}finally{k=f}}:ea(v,()=>{let f=Eo(r);u.api=e(f,u.trigger),u.nameMap=f}),k=d,u}function yc(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function es(e,r,t){let n=r;for(;n&&!Lr(n,e);)n=n.parent;return n?Lr(n,e):t?(t.getState(e),t.reg[e.id]):e}function dn(e,r){Lr(r,e)||(r.reg[e.id]=es(e,r.parent,r.root.scope))}function Fo(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function St(e,{values:r={},parentLeaf:t,mountNode:n,svgRoot:a,leafData:o,opGroup:i,domSubtree:l,hydration:g,root:d}){function u(h){if(h.before)for(let p=0;p<h.before.length;p++){let m=h.before[p];switch(m.type){case"map":{let b,$=m.from;if(!m.fn&&!$)break;$&&(dn($,s),b=f[$.id].current),f[h.id].current=m.fn?m.fn(b):b;break}case"field":{let b=m.from;dn(b,s),f[h.id].current[m.field]=f[b.id].current;break}case"closure":dn(m.of,s)}}}function v(h,p,m){let b;p.stop=1;try{for(;p.i<h.length;)b=h[p.i],p.i++,b.fn(m[b.of.id]?m[b.of.id].current:es(b.of,s.parent,s.root.scope).current)}catch($){console.error($),p.stop=0}}let f={},s={draft:e.draft,svgRoot:a,data:o,parent:t,hydration:g,mountNode:n,root:d,id:++Ec,fullID:"",reg:f,template:e};e.pages.push(s);let c=or;or=s,t&&Fo([s],e.id,d.childSpawns[t.fullID]),s.fullID=t?`${t.fullID}_${s.id}`:`${s.id}`,d.childSpawns[s.fullID]={},d.activeSpawns.add(s.fullID),d.leafOps[s.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let p=e.closure[h],m=p,b=s.parent;e:for(;b;){if(Lr(b,p)){m=Lr(b,p);break e}b=b.parent}!b&&d.scope&&(d.scope.getState(p),m=d.scope.reg[p.id]),f[p.id]=m}for(let h=0;h<e.plain.length;h++){let p=e.plain[h],m={id:p.id,current:yc(p,d.scope)};f[p.id]=m}for(let h in r){let p=e.nameMap[h].stateRef.id;f[p]={id:p,current:r[h]}}e.closure.forEach(u),e.plain.forEach(u);let y={i:0,stop:0};for(;!y.stop;)v(e.watch,y,f);if(t)for(let h in d.childSpawns[s.fullID])Fo(d.childSpawns[s.fullID][h],h,d.childSpawns[t.fullID]);if($e)$e.steps.push({target:e.trigger.mount,params:s,defer:1,page:s,scope:d.scope});else{let h;$e={parent:$e,steps:[{target:e.trigger.mount,params:s,defer:1,page:s,scope:d.scope}]};do for(;h=$e.steps.shift();)$e={parent:$e,steps:[]},C(h);while($e=$e.parent)}return or=c,s}function wt(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function xt(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=xt(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=xt(r);if(t)return t;r=r.left}return null}default:return null}}function It(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=xt(r);if(t)return t;r=r.left}return It(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let n=r.child[t];if(!n)continue;let a=xt(n);if(a)return a}switch(r.type){case"element":case"using":return null}return It(r)}default:return null}}function sa(e){let r=It(e);return r?r.value:null}function Nr(e,r){if(!e)throw Error(r)}function Gr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function Ot(e){if(!k)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(k.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=k.draft.childCount,k.draft.childCount+=1,k.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${k.draft.type}`)}}function we(e,{parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o}){e.childTemplates.forEach(i=>{Da({parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o,actor:i})})}function Da({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:n,svgRoot:a,values:o}){let i;Nr(kc.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=n,{queue:g}=r.root.leafOps[r.fullID].group,d=Mr(g),u=r.root.leafOps[r.fullID].domSubtree,v=u;switch(l.type){case"route":{let s={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"route",block:s,ops:{},initialized:0,pendingInit:null};break}case"element":{let s;if(n.isBlock){let y,h,p=r;for(;p&&(!h||!y);){p.template.env&&(y=p.template.env);let{draft:m}=p;m.type==="element"&&(m.tag==="svg"?h="svg":m.tag==="foreignObject"&&(h="html")),p=p.parent}h||(h="html"),y&&(s=h==="svg"?y.document.createElementNS("http://www.w3.org/2000/svg",l.tag):y.document.createElement(l.tag),Hl(s,l.staticSeq))}else s=l.stencil.cloneNode();let c={type:"element",parent:e,child:[],value:s,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"element",block:c,ops:{visible:_r({value:0,priority:"tree",runOp(y){if(y){rs(c);let h=i;h.needToCallNode&&(h.needToCallNode=0,C({target:kt,params:{element:c.value,fns:l.node},page:f,scope:r.root.scope})),c.visible=1}else c.value.remove(),c.visible=0},group:u})},needToCallNode:l.node.length>0},v=Mr(g);break}case"list":{let s={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"list",draft:l,block:s,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let s={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec",block:s};break}case"recItem":{let s={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec item",block:s};break}case"block":{let s={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block",block:s};break}case"blockItem":{let s={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block item",block:s};break}default:console.warn(`unexpected draft type ${l.type}`)}let f=St(n,{values:o,parentLeaf:r,mountNode:t,svgRoot:a||r.svgRoot,leafData:i,opGroup:d,domSubtree:v,hydration:r.hydration,root:r.root})}function rs(e){let r=sa(e);r?r.after(e.value):wt(e).prepend(e.value),e.visible=1}function nr({mount:e,state:r,onMount:t,onState:n}){return{onMount:P({source:r,clock:e,fn:t,greedy:1}),onState:P({source:e,clock:r,fn:n,greedy:1})}}function Ar(e,r){for(let t in e)r(e[t],t)}function Do(e,r){if(!k)return;let t=k.draft;Nr(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)Nr(B.unit(r[l]),`handler for "${l}" should be event`);let{passive:n=0,capture:a=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:n,capture:a},map:r})}function le(e){Gr(k,"spec");let r=k.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let a=e.text,o=r.childCount;Array.isArray(a)?(r.text.push(...a.map((i,l)=>({index:l+o,value:i}))),r.childCount+=a.length):(r.text.push({index:o,value:a}),r.childCount+=1)}if(e.style){let a={};for(let o in e.style)a[mc(o)]=e.style[o];r.style.push(a)}var t,n;if(e.classList&&(t=e.classList,n=a=>r.classList.push(a),Array.isArray(t)?t.forEach(a=>{let o=typeof a=="string"?a:a.map(l=>l||""),i=typeof a=="string"?1:a.map(l=>l!==null);n({name:o,enabled:i})}):Ar(t,(a,o)=>{n({name:o,enabled:a})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let a=e.handler;typeof a.on=="object"?Do(a.config||{},a.on):Do(a)}e.\u0254&&le(e.\u0254)}function pn(e,{initCtx:r,runOp:t,hooks:{onMount:n,onState:a}}){let o=e.opsAmount++;n.watch(({value:i,leaf:l})=>{let g=r(i,l),d=_r({value:i,priority:"props",runOp(u){t(u,g)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=d}),a.watch(({value:i,leaf:l})=>{H(i,l.root.leafOps[l.fullID].group.ops[o])})}function Qr(e,r,t){e[r].forEach(n=>{Ar(n,(a,o)=>{switch(r){case"data":case"styleVar":t[r][o]=a;break;case"attr":t.attr[o==="xlink:href"?"href":o]=a;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=a:t.style[o]=a}})})}function Mo(e,r,t){let n=e.data.block,a={type:"text",parent:n,visible:0,index:t,value:null};if(n.child[t]=a,e.hydration){let o=It(a);if(o)switch(o.type){case"text":a.value=e.root.env.document.createTextNode(r),o.value.after(a.value);break;case"element":a.value=o.value.nextSibling,la(a.value,r)}else{let i=wt(a);a.value=i.firstChild,la(a.value,r)}a.visible=1}else a.value=e.root.env.document.createTextNode(r),rs(a);return a}function mr(e){let r=e.stateRef,t=k;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function O(e,r){let t,n=0,a=0;typeof r=="function"?(n=1,t=r):r&&(a=1,r.fn&&(n=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(n=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(n=1,t=r.\u0254.fn))),Gr(k,"h");let o,i=k.env,l=k.namespace,g=l,d="html";g=d=l==="svg"?"svg":"html",e==="svg"&&(d="svg",g="svg"),k.isBlock||(o=d==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let u=o,v={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:u,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(v.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),g="html"):e==="svg"?(v.attr.push({xmlns:"http://www.w3.org/2000/svg"}),g="svg"):e==="foreignObject"&&(g="foreignObject");let f=cr({name:"element",draft:v,isSvgRoot:e==="svg",namespace:g,fn(s,{mount:c}){let y=I({named:"domElementCreated"});n&&t(),a&&le(r),B.unit(v.visible)&&(v.seq.push({type:"visible",value:v.visible}),mr(v.visible));let h={attr:{},data:{},style:{},styleVar:{}};Qr(v,"attr",h),Qr(v,"data",h),Qr(v,"style",h),Qr(v,"styleVar",h),Ar(h,(p,m)=>{Ar(p,(b,$)=>{B.unit(b)?(v.seq.push({type:m,field:$,value:b}),mr(b)):v.staticSeq.push({type:m,field:$,value:b})})}),v.classList.forEach(p=>{if(B.unit(p.name)||B.unit(p.enabled)){let m=B.unit(p.name)?p.name:T(p.name),b=B.unit(p.enabled)?p.enabled:T(p.enabled);v.seq.push({type:"classList",field:m,value:b}),mr(m),mr(b)}else B.unit(p.name)||v.staticSeq.push({type:"classList",field:p.name,value:p.enabled})}),v.text.forEach(p=>{p.value!==null&&(B.unit(p.value)?(v.seq.push({type:"dynamicText",value:p.value,childIndex:p.index}),mr(p.value)):v.seq.push({type:"staticText",value:String(p.value),childIndex:p.index}))}),v.handler.forEach(p=>{Ar(p.map,(m,b)=>{v.seq.push({type:"handler",for:b,handler:m,options:p.options,domConfig:p.domConfig})})}),u&&Hl(u,v.staticSeq),v.seq.forEach(p=>{switch(p.type){case"visible":{let{onMount:m,onState:b}=nr({mount:c,state:p.value,onMount:($,S)=>({leaf:S,value:$,hydration:S.hydration}),onState:($,S)=>({leaf:$,value:S,hydration:0})});m.watch(({leaf:$,value:S,hydration:w})=>{let x=$.data,E=x.block;if(w&&(jo(S,x.ops.visible),S)){let j,L=sa(E);if(j=L?L.nextSibling:wt(E).firstChild,j.nodeName==="#text"){let me=j;j=j.nextSibling,me.remove()}E.value=j,E.visible=1}we(v,{parentBlockFragment:E,leaf:$,node:E.value,svgRoot:f.isSvgRoot?E.value:null}),S&&x.needToCallNode&&(x.needToCallNode=0,C({target:kt,params:{element:x.block.value,fns:v.node},page:$,defer:1,scope:$.root.scope})),C({target:y,params:$,defer:1,page:$,scope:$.root.scope})}),mt([b,m]).watch(({leaf:$,value:S,hydration:w})=>{w||H(S,$.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let m=Uo[p.type],b=Tc.some(({type:S,field:w})=>p.type===S&&p.field===w),$=nr({mount:y,state:p.value,onMount:(S,w)=>({leaf:w,value:S}),onState:(S,w)=>({leaf:S,value:w})});b?mt([$.onState,$.onMount]).watch(({leaf:S,value:w})=>{m(Jr(S),p.field,w)}):pn(v,{initCtx(S,w){let x=Jr(w);return m(x,p.field,S),x},runOp(S,w){m(w,p.field,S)},hooks:$});break}case"classList":{let m=Uo.classList,b=T({prev:"",curr:p.field.getState()}).on(p.field,({curr:S},w)=>({prev:S,curr:w})),$=nr({mount:y,state:Te({name:b,enabled:p.value}),onMount:(S,w)=>({leaf:w,value:S}),onState:(S,w)=>({leaf:S,value:w})});pn(v,{initCtx(S,w){let x=Jr(w);return m(x,S.name.curr,S.enabled),x},runOp(S,w){S.name.prev!==S.name.curr&&m(w,S.name.prev,0),m(w,S.name.curr,S.enabled)},hooks:$});break}case"dynamicText":pn(v,{initCtx:(m,b)=>Mo(b,m,p.childIndex),runOp(m,b){la(b.value,m)},hooks:nr({mount:y,state:p.value,onMount:(m,b)=>({leaf:b,value:String(m)}),onState:(m,b)=>({leaf:m,value:String(b)})})});break;case"staticText":y.watch(m=>{Mo(m,p.value,p.childIndex)});break;case"handler":{let m=p.handler.graphite.meta.nativeTemplate||null;y.watch(b=>{let $=null;if(m){let S=0,w=b;for(;!S&&w;)w.template===m?(S=1,$=w):w=w.parent}else $=null;Jr(b).addEventListener(p.for,S=>{p.options.prevent&&S.preventDefault(),p.options.stop&&S.stopPropagation(),C({target:p.handler,params:S,page:$,scope:b.root.scope})},p.domConfig)});break}}}),c.watch(p=>{let m=p.data;if(!v.visible){let b=m.ops.visible,$=m.block;if(p.hydration){jo(1,b);let S,w=sa($);if(S=w?w.nextSibling:wt($).firstChild,S.nodeName==="#text"){let x=S;S=S.nextSibling,x.remove()}$.value=S,$.visible=1}we(v,{parentBlockFragment:$,leaf:p,node:$.value,svgRoot:f.isSvgRoot?$.value:null}),C({target:y,params:p,defer:1,page:p,scope:p.root.scope}),p.hydration?m.needToCallNode&&(m.needToCallNode=0,C({target:kt,params:{element:m.block.value,fns:v.node},page:p,defer:1,scope:p.root.scope})):H(1,b)}})},env:i});Ot(f)}function No(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function bc(e,r){let t,n,a,o,i,l;if(typeof r=="function")t=r,a=No(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,a=r.env?r.env:No(),o=r.hydrate,n=r.onComplete,i=r.onRoot,l=r.scope}Nr(e,"using() first argument is missing");let g={scope:l,env:a,activeSpawns:new Set,childSpawns:{},leafOps:{}},d=e.namespaceURI,u=e.tagName.toLowerCase(),v={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},f=cr({name:"using",draft:v,isSvgRoot:u==="svg",namespace:d==="http://www.w3.org/2000/svg"?"svg":u==="foreignobject"?"foreignObject":"html",fn(h,{mount:p}){t(),p.watch(La.using)},env:a}),s={type:"using",child:[],value:e},c=dc({onComplete:n}),y=St(f,{parentLeaf:or||null,mountNode:e,svgRoot:f.isSvgRoot?e:or?or.svgRoot:null,leafData:{type:"using",draft:v,element:e,block:s},opGroup:Mr(c),domSubtree:Mr(c),hydration:o,root:g});if(i&&i({template:f,leaf:y}),c.onDrain&&!c.rafID){let h=c.onDrain;c.onDrain=null,h()}}function ua(e,r){let t=e.root.childSpawns[e.fullID];for(let n in t){let a=t[n];for(let o=0;o<a.length;o++)r(a[o])}}function ts(e,r){let t=n=>{let a=n.data;if(e&&a.type==="list"&&a.pendingUpdate){let o=a.pendingUpdate;a.pendingUpdate=null,C({target:n.template.api.pendingUpdate,params:o,defer:1,page:n,scope:n.root.scope})}if(e&&a.type==="route"){if(a.pendingInit){let o=a.pendingInit.value;a.pendingInit=null,C({target:n.template.api.pendingInit,params:o,defer:1,page:n,scope:n.root.scope})}else if(!a.block.visible)return}switch(a.type){case"element":H(e,a.ops.visible);break;case"route":case"list":case"list item":ua(n,t);break;default:console.log("unsupported type",a.type)}};ua(r,t)}function gn(e){e.root.activeSpawns.delete(e.fullID),ua(e,Ma)}function hn(e){jr(e,e.root.childSpawns[e.parent.fullID][e.template.id]),jr(e,e.template.pages)}function Ma(e){let{data:r,root:t}=e;switch(r.type){case"element":jr(e,t.childSpawns[e.parent.fullID][e.template.id]),function n(a){t.activeSpawns.delete(a.fullID);let o=t.childSpawns[a.fullID];delete t.childSpawns[a.fullID],delete t.leafOps[a.fullID],jr(a,a.template.pages);for(let i in o)o[i].forEach(n)}(e),H(0,r.ops.visible);break;case"list":{let n=r.records;for(let a=0;a<n.length;a++){let o=n[a];o.instance&&Ma(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),hn(e);break}case"list item":{let n=r.block;jr(n,n.parent.child);let a=n.left,o=n.right;a&&(a.right=o,o||n.parent.lastChild!==n||(n.parent.lastChild=a)),o&&(o.left=a),a||o||n.parent.lastChild!==n||(n.parent.lastChild=null),n.left=null,n.right=null,gn(e),hn(e);break}case"route":gn(e),hn(e);break;case"block":case"block item":case"rec":case"rec item":gn(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function jr(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function $c(e,r){if(Array.isArray(r))return r.map(t=>e.map(n=>n[t]));if(typeof r=="object"&&r!==null){let t={};for(let n in r){let a=r[n];t[n]=e.map(typeof a=="function"?o=>a(o):o=>o[a])}return t}return e.map(t=>t[r])}function Na(e,r){Gr(k,"list"),typeof r=="function"&&(B.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:n,source:a,fields:o=[]}=e,i=n!==void 0?typeof n=="function"?n:u=>u[n]:(u,v)=>v,l={type:"list",key:B.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:g,namespace:d}=k;Ot(cr({name:"list",draft:l,isSvgRoot:0,namespace:d,fn(u,{mount:v}){let f=cr({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:d,fn({id:m,store:b},{mount:$}){t({store:b,key:m,fields:$c(b,o)});let S=I({named:"itemUpdater"});if(b.on(S,(w,x)=>x),l.itemVisible){let{onMount:w,onState:x}=nr({mount:$,state:l.itemVisible,onMount:(E,j)=>({visible:E,leaf:j}),onState:(E,j)=>({visible:j,leaf:E})});w.watch(({visible:E,leaf:j})=>{let L=j.data.block;L.visible=E,L.childInitialized=E,E&&we(l,{parentBlockFragment:L,leaf:j})}),x.watch(({visible:E,leaf:j})=>{let L=j.data.block;L.visible=E,L.childInitialized?ts(E,j):E&&(L.childInitialized=1,we(l,{parentBlockFragment:L,leaf:j}))})}else $.watch(La.listItem);return{itemUpdater:S}},env:g}),s=T([]),c=a.map(m=>m),y=P({source:a,clock:v,fn:(m,b)=>({updates:m,leaf:b,hydration:b.hydration}),greedy:1}),h=I(),p=P({source:y,clock:[c,h],fn:({leaf:m},b)=>({updates:b,leaf:m,hydration:0}),greedy:1});return P({source:s,clock:[y,p],greedy:1,fn(m,{updates:b,leaf:$,hydration:S}){let w=$.data,x=$;for(;x;){if(x.data.type==="route"&&!x.data.block.visible)return void(w.pendingUpdate=b);x=x.parent}let E=w.block;De("list update ["+a.shortName+"]");let j=Array(b.length).fill(0),L=b.map(i),me=[];for(let ye=0;ye<m.length;ye++){let ue=m[ye],Pe=L.indexOf(ue.key);Pe!==-1?(me.push(ue),j[Pe]=1,hc(b[Pe],ue.asyncValue)):(ue.active=0,ue.instance&&Ma(ue.instance),gc(ue.asyncValue))}for(let ye=0;ye<b.length;ye++){if(j[ye])continue;let ue=b[ye],Pe=L[ye],on=Mr($.root.leafOps[$.fullID].group.queue),Re={type:"LF",parent:E,child:[],childInitialized:0,visible:0,left:null,right:null},ce={type:"listItem",key:Pe,index:Pe,active:1,leafData:{type:"list item",block:Re,listDraft:l},asyncValue:pc({value:ue,group:on,onChange(Ae){ce.instance&&C({target:ce.instance.template.api.itemUpdater,params:Ae,defer:1,page:ce.instance,scope:ce.instance.root.scope})},onInit(Ae){ce.active&&(S||(ce.instance=St(f,{values:{id:Pe,store:Ae},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ce.leafData,opGroup:on,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root})))}})},Io=me.length;me.push(ce);let Oo=Io>0?me[Io-1].leafData:null;if(E.child.push(Re),Oo){let Ae=Oo.block;Re.left=Ae;let ln=Ae.right;ln?(ln.left=Re,Re.right=ln):E.lastChild=Re,Ae.right=Re}else E.lastChild=Re;S&&(ce.instance=St(f,{values:{id:Pe,store:ue},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ce.leafData,opGroup:on,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root}))}return fe("list update ["+a.shortName+"]"),me.length===0&&(E.lastChild=null),w.records=me,me},target:s}),{pendingUpdate:h}},env:g}))}function Lo({source:e,visible:r,fn:t}){Gr(k,"route");let{env:n,namespace:a}=k,o=cr({name:"route",isSvgRoot:0,namespace:a,env:n,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let g;if(B.store(r))g=Te({value:e,visible:r});else{let c=r;g=e.map(y=>({value:y,visible:c(y)}))}let d=cr({name:"route item",isSvgRoot:0,namespace:a,env:n,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:c},{mount:y}){let h=I({named:"itemUpdater"});c.on(h,(m,b)=>b),t({store:c});let p=P({source:y,clock:g,fn:(m,{visible:b,value:$})=>({leaf:m,visible:b,value:$}),greedy:1});y.watch(La.routeItem),p.watch(({leaf:m,visible:b,value:$})=>{if(m.data.block.visible=b,b&&C({target:h,params:$,defer:1,page:m,scope:m.root.scope}),b){let S=m.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}ts(b,m)})}});Ot(d);let{onMount:u,onState:v}=nr({mount:l,state:g,onMount:({visible:c,value:y},h)=>({leaf:h,visible:c,value:y}),onState:(c,{visible:y,value:h})=>({leaf:c,visible:y,value:h})}),f=I(),s=P({source:l,clock:f,greedy:1,fn:(c,y)=>({leaf:c,value:y,visible:1})});return mt([u,v,s]).watch(({leaf:c,visible:y,value:h})=>{let p=c.data;if(p.block.visible=y,y||p.initialized||!p.pendingInit){if(y&&!p.initialized){let m=c.parent;for(;m;){if(m.data.type==="route"&&!m.data.block.visible)return void(p.pendingInit={value:h});m=m.parent}}y&&!p.initialized&&(Da({parentBlockFragment:p.block,leaf:c,actor:d,values:{store:h}}),p.initialized=1)}else p.pendingInit=null}),{pendingInit:f}}});Ot(o)}function Sc({source:e,cases:r,key:t}){let n;Gr(k,"variant"),Nr(B.unit(e),"variant({source}) should be unit"),n=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let a=0;for(let o in r)o!=="__"?Lo({source:e,visible:i=>n(i)===o,fn:r[o]}):a=1;if(a){let o=Object.keys(r);Lo({source:e,visible:i=>!o.includes(n(i)),fn:r.__})}}function wc(e,r){if(r.length===0)return e;let t=[e[0]];for(let n=0;n<r.length;n++)t.push(r[n],e[n+1]);return t}function Et(e,...r){Array.isArray(e)?le({text:wc(e,r)}):le({text:e})}let _e;_e=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let ca=new Map;const Er=[],Bo=e=>{let r=ca.get(e);r||(r={calls:0,time:0,label:e,childTime:0},ca.set(e,r)),r.calls+=1,Er.push({bucket:r,pendingStart:_e()})},qo=e=>{let r=ca.get(e),t=Er.pop().pendingStart,n=_e()-t;r.time+=n,Er.length>0&&(Er[Er.length-1].bucket.childTime+=n)};let De,fe;typeof performance<"u"&&performance.mark?(De=e=>{performance.mark("\u2604\uFE0F "+e+" start"),Bo(e)},fe=e=>{qo(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(De=e=>{Bo(e)},fe=e=>{qo(e)});let ns=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const xc={attr:Zl,data:Jl,style:Yl,styleVar:Xl,classList:Ql},be=(e,r)=>e.includes(r);let Ic={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,n){var a,o;t.unshift(e.loader),t.push(e.upward),n&&(be(e.plain,n)||(be(e.closure,n)||e.closure.push(n),o={type:"closure",of:n},(a=r).before||(a.before=[]),a.before.push(o)))},storeMap(e,r,t){be(e.plain,r)||be(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,n){r.current?be(e.plain,t)||be(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),be(e.plain,n)||e.plain.push(n)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},Oc=0,Ec=0,k=null,or=null;const Lr=(e,r)=>e.reg[r.id];let $e=null;const kc=["LF","using","element","recItem","rec","block","blockItem","route"];let kt=I({named:"onMount"});kt.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const Tc=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],Uo={attr:Zl,data:Jl,style:Yl,styleVar:Xl,classList:Ql},Jr=e=>e.data.block.value;let La={using(e){let r=e.data;we(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,we(r,{parentBlockFragment:t.block,leaf:e})},block(e){we(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){Da({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){we(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,we(r.listDraft,{parentBlockFragment:t,leaf:e})}};function Go(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function yr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Go(Object(t),!0).forEach(function(n){Z(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Go(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Z(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Tt(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function fr(e,r){return Rc(e)||_c(e,r)||os(e,r)||jc()}function as(e){return Pc(e)||Cc(e)||os(e)||Ac()}function Pc(e){if(Array.isArray(e))return fa(e)}function Rc(e){if(Array.isArray(e))return e}function Cc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _c(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,i,l;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));a=!0);}catch(g){o=!0,l=g}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function os(e,r){if(!!e){if(typeof e=="string")return fa(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fa(e,r)}}function fa(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ac(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zr=function(e){return e&&e.Math==Math&&e},N=Zr(typeof globalThis=="object"&&globalThis)||Zr(typeof window=="object"&&window)||Zr(typeof self=="object"&&self)||Zr(typeof zo=="object"&&zo)||function(){return this}()||Function("return this")(),Ba={},R=function(e){try{return!!e()}catch{return!0}},Fc=R,z=!Fc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Dc=R,Lt=!Dc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Mc=Lt,et=Function.prototype.call,Q=Mc?et.bind(et):function(){return et.apply(et,arguments)},qa={},is={}.propertyIsEnumerable,ls=Object.getOwnPropertyDescriptor,Nc=ls&&!is.call({1:2},1);qa.f=Nc?function(r){var t=ls(this,r);return!!t&&t.enumerable}:is;var Bt=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},ss=Lt,us=Function.prototype,Lc=us.bind,va=us.call,Bc=ss&&Lc.bind(va,va),_=ss?function(e){return e&&Bc(e)}:function(e){return e&&function(){return va.apply(e,arguments)}},cs=_,qc=cs({}.toString),Uc=cs("".slice),Ke=function(e){return Uc(qc(e),8,-1)},Gc=_,zc=R,Kc=Ke,mn=Object,Vc=Gc("".split),fs=zc(function(){return!mn("z").propertyIsEnumerable(0)})?function(e){return Kc(e)=="String"?Vc(e,""):mn(e)}:mn,Wc=TypeError,Ve=function(e){if(e==null)throw Wc("Can't call method on "+e);return e},Hc=fs,Xc=Ve,We=function(e){return Hc(Xc(e))},F=function(e){return typeof e=="function"},Yc=F,J=function(e){return typeof e=="object"?e!==null:Yc(e)},yn=N,Qc=F,Jc=function(e){return Qc(e)?e:void 0},dr=function(e,r){return arguments.length<2?Jc(yn[e]):yn[e]&&yn[e][r]},Zc=_,Ua=Zc({}.isPrototypeOf),ef=dr,rf=ef("navigator","userAgent")||"",vs=N,bn=rf,Ko=vs.process,Vo=vs.Deno,Wo=Ko&&Ko.versions||Vo&&Vo.version,Ho=Wo&&Wo.v8,ee,Pt;Ho&&(ee=Ho.split("."),Pt=ee[0]>0&&ee[0]<4?1:+(ee[0]+ee[1]));!Pt&&bn&&(ee=bn.match(/Edge\/(\d+)/),(!ee||ee[1]>=74)&&(ee=bn.match(/Chrome\/(\d+)/),ee&&(Pt=+ee[1])));var Ga=Pt,Xo=Ga,tf=R,ds=!!Object.getOwnPropertySymbols&&!tf(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Xo&&Xo<41}),nf=ds,ps=nf&&!Symbol.sham&&typeof Symbol.iterator=="symbol",af=dr,of=F,lf=Ua,sf=ps,uf=Object,gs=sf?function(e){return typeof e=="symbol"}:function(e){var r=af("Symbol");return of(r)&&lf(r.prototype,uf(e))},cf=String,qt=function(e){try{return cf(e)}catch{return"Object"}},ff=F,vf=qt,df=TypeError,za=function(e){if(ff(e))return e;throw df(vf(e)+" is not a function")},pf=za,pr=function(e,r){var t=e[r];return t==null?void 0:pf(t)},$n=Q,Sn=F,wn=J,gf=TypeError,hf=function(e,r){var t,n;if(r==="string"&&Sn(t=e.toString)&&!wn(n=$n(t,e))||Sn(t=e.valueOf)&&!wn(n=$n(t,e))||r!=="string"&&Sn(t=e.toString)&&!wn(n=$n(t,e)))return n;throw gf("Can't convert object to primitive value")},Ut={exports:{}},Yo=N,mf=Object.defineProperty,Ka=function(e,r){try{mf(Yo,e,{value:r,configurable:!0,writable:!0})}catch{Yo[e]=r}return r},yf=N,bf=Ka,Qo="__core-js_shared__",$f=yf[Qo]||bf(Qo,{}),Va=$f,Jo=Va;(Ut.exports=function(e,r){return Jo[e]||(Jo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Sf=Ve,wf=Object,zr=function(e){return wf(Sf(e))},xf=_,If=zr,Of=xf({}.hasOwnProperty),he=Object.hasOwn||function(r,t){return Of(If(r),t)},Ef=_,kf=0,Tf=Math.random(),Pf=Ef(1 .toString),Wa=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Pf(++kf+Tf,36)},Rf=N,Cf=Ut.exports,Zo=he,_f=Wa,ei=ds,hs=ps,Ye=Cf("wks"),Ne=Rf.Symbol,ri=Ne&&Ne.for,Af=hs?Ne:Ne&&Ne.withoutSetter||_f,D=function(e){if(!Zo(Ye,e)||!(ei||typeof Ye[e]=="string")){var r="Symbol."+e;ei&&Zo(Ne,e)?Ye[e]=Ne[e]:hs&&ri?Ye[e]=ri(r):Ye[e]=Af(r)}return Ye[e]},jf=Q,ti=J,ni=gs,Ff=pr,Df=hf,Mf=D,Nf=TypeError,Lf=Mf("toPrimitive"),Bf=function(e,r){if(!ti(e)||ni(e))return e;var t=Ff(e,Lf),n;if(t){if(r===void 0&&(r="default"),n=jf(t,e,r),!ti(n)||ni(n))return n;throw Nf("Can't convert object to primitive value")}return r===void 0&&(r="number"),Df(e,r)},qf=Bf,Uf=gs,Ha=function(e){var r=qf(e,"string");return Uf(r)?r:r+""},Gf=N,ai=J,da=Gf.document,zf=ai(da)&&ai(da.createElement),Xa=function(e){return zf?da.createElement(e):{}},Kf=z,Vf=R,Wf=Xa,ms=!Kf&&!Vf(function(){return Object.defineProperty(Wf("div"),"a",{get:function(){return 7}}).a!=7}),Hf=z,Xf=Q,Yf=qa,Qf=Bt,Jf=We,Zf=Ha,ev=he,rv=ms,oi=Object.getOwnPropertyDescriptor;Ba.f=Hf?oi:function(r,t){if(r=Jf(r),t=Zf(t),rv)try{return oi(r,t)}catch{}if(ev(r,t))return Qf(!Xf(Yf.f,r,t),r[t])};var K={},tv=z,nv=R,ys=tv&&nv(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),av=J,ov=String,iv=TypeError,q=function(e){if(av(e))return e;throw iv(ov(e)+" is not an object")},lv=z,sv=ms,uv=ys,rt=q,ii=Ha,cv=TypeError,xn=Object.defineProperty,fv=Object.getOwnPropertyDescriptor,In="enumerable",On="configurable",En="writable";K.f=lv?uv?function(r,t,n){if(rt(r),t=ii(t),rt(n),typeof r=="function"&&t==="prototype"&&"value"in n&&En in n&&!n[En]){var a=fv(r,t);a&&a[En]&&(r[t]=n.value,n={configurable:On in n?n[On]:a[On],enumerable:In in n?n[In]:a[In],writable:!1})}return xn(r,t,n)}:xn:function(r,t,n){if(rt(r),t=ii(t),rt(n),sv)try{return xn(r,t,n)}catch{}if("get"in n||"set"in n)throw cv("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var vv=z,dv=K,pv=Bt,gr=vv?function(e,r,t){return dv.f(e,r,pv(1,t))}:function(e,r,t){return e[r]=t,e},bs={exports:{}},pa=z,gv=he,$s=Function.prototype,hv=pa&&Object.getOwnPropertyDescriptor,Ya=gv($s,"name"),mv=Ya&&function(){}.name==="something",yv=Ya&&(!pa||pa&&hv($s,"name").configurable),Gt={EXISTS:Ya,PROPER:mv,CONFIGURABLE:yv},bv=_,$v=F,ga=Va,Sv=bv(Function.toString);$v(ga.inspectSource)||(ga.inspectSource=function(e){return Sv(e)});var Qa=ga.inspectSource,wv=N,xv=F,Iv=Qa,li=wv.WeakMap,Ov=xv(li)&&/native code/.test(Iv(li)),Ev=Ut.exports,kv=Wa,si=Ev("keys"),Ja=function(e){return si[e]||(si[e]=kv(e))},zt={},Tv=Ov,Ss=N,kn=_,Pv=J,Rv=gr,Tn=he,Pn=Va,Cv=Ja,_v=zt,ui="Object already initialized",ha=Ss.TypeError,Av=Ss.WeakMap,Rt,Br,Ct,jv=function(e){return Ct(e)?Br(e):Rt(e,{})},Fv=function(e){return function(r){var t;if(!Pv(r)||(t=Br(r)).type!==e)throw ha("Incompatible receiver, "+e+" required");return t}};if(Tv||Pn.state){var Fe=Pn.state||(Pn.state=new Av),Dv=kn(Fe.get),ci=kn(Fe.has),Mv=kn(Fe.set);Rt=function(e,r){if(ci(Fe,e))throw new ha(ui);return r.facade=e,Mv(Fe,e,r),r},Br=function(e){return Dv(Fe,e)||{}},Ct=function(e){return ci(Fe,e)}}else{var Qe=Cv("state");_v[Qe]=!0,Rt=function(e,r){if(Tn(e,Qe))throw new ha(ui);return r.facade=e,Rv(e,Qe,r),r},Br=function(e){return Tn(e,Qe)?e[Qe]:{}},Ct=function(e){return Tn(e,Qe)}}var Kr={set:Rt,get:Br,has:Ct,enforce:jv,getterFor:Fv},Nv=R,Lv=F,tt=he,ma=z,Bv=Gt.CONFIGURABLE,qv=Qa,ws=Kr,Uv=ws.enforce,Gv=ws.get,ct=Object.defineProperty,zv=ma&&!Nv(function(){return ct(function(){},"length",{value:8}).length!==8}),Kv=String(String).split("String"),Vv=bs.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!tt(e,"name")||Bv&&e.name!==r)&&(ma?ct(e,"name",{value:r,configurable:!0}):e.name=r),zv&&t&&tt(t,"arity")&&e.length!==t.arity&&ct(e,"length",{value:t.arity});try{t&&tt(t,"constructor")&&t.constructor?ma&&ct(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Uv(e);return tt(n,"source")||(n.source=Kv.join(typeof r=="string"?r:"")),e};Function.prototype.toString=Vv(function(){return Lv(this)&&Gv(this).source||qv(this)},"toString");var Wv=F,Hv=K,Xv=bs.exports,Yv=Ka,He=function(e,r,t,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:r;if(Wv(t)&&Xv(t,o,n),n.global)a?e[r]=t:Yv(r,t);else{try{n.unsafe?e[r]&&(a=!0):delete e[r]}catch{}a?e[r]=t:Hv.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},Kt={},Qv=Math.ceil,Jv=Math.floor,Zv=Math.trunc||function(r){var t=+r;return(t>0?Jv:Qv)(t)},ed=Zv,Vt=function(e){var r=+e;return r!==r||r===0?0:ed(r)},rd=Vt,td=Math.max,nd=Math.min,xs=function(e,r){var t=rd(e);return t<0?td(t+r,0):nd(t,r)},ad=Vt,od=Math.min,Wt=function(e){return e>0?od(ad(e),9007199254740991):0},id=Wt,Vr=function(e){return id(e.length)},ld=We,sd=xs,ud=Vr,fi=function(e){return function(r,t,n){var a=ld(r),o=ud(a),i=sd(n,o),l;if(e&&t!=t){for(;o>i;)if(l=a[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in a)&&a[i]===t)return e||i||0;return!e&&-1}},cd={includes:fi(!0),indexOf:fi(!1)},fd=_,Rn=he,vd=We,dd=cd.indexOf,pd=zt,vi=fd([].push),Is=function(e,r){var t=vd(e),n=0,a=[],o;for(o in t)!Rn(pd,o)&&Rn(t,o)&&vi(a,o);for(;r.length>n;)Rn(t,o=r[n++])&&(~dd(a,o)||vi(a,o));return a},Za=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gd=Is,hd=Za,md=hd.concat("length","prototype");Kt.f=Object.getOwnPropertyNames||function(r){return gd(r,md)};var Os={};Os.f=Object.getOwnPropertySymbols;var yd=dr,bd=_,$d=Kt,Sd=Os,wd=q,xd=bd([].concat),Id=yd("Reflect","ownKeys")||function(r){var t=$d.f(wd(r)),n=Sd.f;return n?xd(t,n(r)):t},di=he,Od=Id,Ed=Ba,kd=K,Td=function(e,r,t){for(var n=Od(r),a=kd.f,o=Ed.f,i=0;i<n.length;i++){var l=n[i];!di(e,l)&&!(t&&di(t,l))&&a(e,l,o(r,l))}},Pd=R,Rd=F,Cd=/#|\.prototype\./,Wr=function(e,r){var t=Ad[_d(e)];return t==Fd?!0:t==jd?!1:Rd(r)?Pd(r):!!r},_d=Wr.normalize=function(e){return String(e).replace(Cd,".").toLowerCase()},Ad=Wr.data={},jd=Wr.NATIVE="N",Fd=Wr.POLYFILL="P",Es=Wr,Cn=N,Dd=Ba.f,Md=gr,Nd=He,Ld=Ka,Bd=Td,qd=Es,se=function(e,r){var t=e.target,n=e.global,a=e.stat,o,i,l,g,d,u;if(n?i=Cn:a?i=Cn[t]||Ld(t,{}):i=(Cn[t]||{}).prototype,i)for(l in r){if(d=r[l],e.dontCallGetSet?(u=Dd(i,l),g=u&&u.value):g=i[l],o=qd(n?l:t+(a?".":"#")+l,e.forced),!o&&g!==void 0){if(typeof d==typeof g)continue;Bd(d,g)}(e.sham||g&&g.sham)&&Md(d,"sham",!0),Nd(i,l,d,e)}},pi=_,Ud=za,Gd=Lt,zd=pi(pi.bind),eo=function(e,r){return Ud(e),r===void 0?e:Gd?zd(e,r):function(){return e.apply(r,arguments)}},Kd=Ke,ks=Array.isArray||function(r){return Kd(r)=="Array"},Vd=D,Wd=Vd("toStringTag"),Ts={};Ts[Wd]="z";var ro=String(Ts)==="[object z]",Hd=ro,Xd=F,ft=Ke,Yd=D,Qd=Yd("toStringTag"),Jd=Object,Zd=ft(function(){return arguments}())=="Arguments",ep=function(e,r){try{return e[r]}catch{}},Ht=Hd?ft:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=ep(r=Jd(e),Qd))=="string"?t:Zd?ft(r):(n=ft(r))=="Object"&&Xd(r.callee)?"Arguments":n},rp=_,tp=R,Ps=F,np=Ht,ap=dr,op=Qa,Rs=function(){},ip=[],Cs=ap("Reflect","construct"),to=/^\s*(?:class|function)\b/,lp=rp(to.exec),sp=!to.exec(Rs),br=function(r){if(!Ps(r))return!1;try{return Cs(Rs,ip,r),!0}catch{return!1}},_s=function(r){if(!Ps(r))return!1;switch(np(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return sp||!!lp(to,op(r))}catch{return!0}};_s.sham=!0;var As=!Cs||tp(function(){var e;return br(br.call)||!br(Object)||!br(function(){e=!0})||e})?_s:br,gi=ks,up=As,cp=J,fp=D,vp=fp("species"),hi=Array,dp=function(e){var r;return gi(e)&&(r=e.constructor,up(r)&&(r===hi||gi(r.prototype))?r=void 0:cp(r)&&(r=r[vp],r===null&&(r=void 0))),r===void 0?hi:r},pp=dp,js=function(e,r){return new(pp(e))(r===0?0:r)},gp=eo,hp=_,mp=fs,yp=zr,bp=Vr,$p=js,mi=hp([].push),Ce=function(e){var r=e==1,t=e==2,n=e==3,a=e==4,o=e==6,i=e==7,l=e==5||o;return function(g,d,u,v){for(var f=yp(g),s=mp(f),c=gp(d,u),y=bp(s),h=0,p=v||$p,m=r?p(g,y):t||i?p(g,0):void 0,b,$;y>h;h++)if((l||h in s)&&(b=s[h],$=c(b,h,f),e))if(r)m[h]=$;else if($)switch(e){case 3:return!0;case 5:return b;case 6:return h;case 2:mi(m,b)}else switch(e){case 4:return!1;case 7:mi(m,b)}return o?-1:n||a?a:m}},Xt={forEach:Ce(0),map:Ce(1),filter:Ce(2),some:Ce(3),every:Ce(4),find:Ce(5),findIndex:Ce(6),filterReject:Ce(7)},Sp=R,wp=D,xp=Ga,Ip=wp("species"),no=function(e){return xp>=51||!Sp(function(){var r=[],t=r.constructor={};return t[Ip]=function(){return{foo:1}},r[e](Boolean).foo!==1})},Op=se,Ep=Xt.map,kp=no,Tp=kp("map");Op({target:"Array",proto:!0,forced:!Tp},{map:function(r){return Ep(this,r,arguments.length>1?arguments[1]:void 0)}});var Fs={},Pp=Is,Rp=Za,Ds=Object.keys||function(r){return Pp(r,Rp)},Cp=z,_p=ys,Ap=K,jp=q,Fp=We,Dp=Ds;Fs.f=Cp&&!_p?Object.defineProperties:function(r,t){jp(r);for(var n=Fp(t),a=Dp(t),o=a.length,i=0,l;o>i;)Ap.f(r,l=a[i++],n[l]);return r};var Mp=dr,Np=Mp("document","documentElement"),Lp=q,Bp=Fs,yi=Za,qp=zt,Up=Np,Gp=Xa,zp=Ja,bi=">",$i="<",ya="prototype",ba="script",Ms=zp("IE_PROTO"),_n=function(){},Ns=function(e){return $i+ba+bi+e+$i+"/"+ba+bi},Si=function(e){e.write(Ns("")),e.close();var r=e.parentWindow.Object;return e=null,r},Kp=function(){var e=Gp("iframe"),r="java"+ba+":",t;return e.style.display="none",Up.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Ns("document.F=Object")),t.close(),t.F},nt,vt=function(){try{nt=new ActiveXObject("htmlfile")}catch{}vt=typeof document<"u"?document.domain&&nt?Si(nt):Kp():Si(nt);for(var e=yi.length;e--;)delete vt[ya][yi[e]];return vt()};qp[Ms]=!0;var Yt=Object.create||function(r,t){var n;return r!==null?(_n[ya]=Lp(r),n=new _n,_n[ya]=null,n[Ms]=r):n=vt(),t===void 0?n:Bp.f(n,t)},Vp=D,Wp=Yt,Hp=K.f,$a=Vp("unscopables"),Sa=Array.prototype;Sa[$a]==null&&Hp(Sa,$a,{configurable:!0,value:Wp(null)});var Ls=function(e){Sa[$a][e]=!0},Hr={},Xp=R,Yp=!Xp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Qp=he,Jp=F,Zp=zr,eg=Ja,rg=Yp,wi=eg("IE_PROTO"),wa=Object,tg=wa.prototype,Bs=rg?wa.getPrototypeOf:function(e){var r=Zp(e);if(Qp(r,wi))return r[wi];var t=r.constructor;return Jp(t)&&r instanceof t?t.prototype:r instanceof wa?tg:null},ng=R,ag=F,xi=Bs,og=He,ig=D,xa=ig("iterator"),qs=!1,Ge,An,jn;[].keys&&(jn=[].keys(),"next"in jn?(An=xi(xi(jn)),An!==Object.prototype&&(Ge=An)):qs=!0);var lg=Ge==null||ng(function(){var e={};return Ge[xa].call(e)!==e});lg&&(Ge={});ag(Ge[xa])||og(Ge,xa,function(){return this});var Us={IteratorPrototype:Ge,BUGGY_SAFARI_ITERATORS:qs},sg=K.f,ug=he,cg=D,Ii=cg("toStringTag"),ao=function(e,r,t){e&&!t&&(e=e.prototype),e&&!ug(e,Ii)&&sg(e,Ii,{configurable:!0,value:r})},fg=Us.IteratorPrototype,vg=Yt,dg=Bt,pg=ao,gg=Hr,hg=function(){return this},mg=function(e,r,t,n){var a=r+" Iterator";return e.prototype=vg(fg,{next:dg(+!n,t)}),pg(e,a,!1),gg[a]=hg,e},yg=F,bg=String,$g=TypeError,Sg=function(e){if(typeof e=="object"||yg(e))return e;throw $g("Can't set "+bg(e)+" as a prototype")},wg=_,xg=q,Ig=Sg,Gs=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=wg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(a,o){return xg(a),Ig(o),e?t(a,o):a.__proto__=o,a}}():void 0),Og=se,Eg=Q,zs=Gt,kg=F,Tg=mg,Oi=Bs,Ei=Gs,Pg=ao,Rg=gr,Fn=He,Cg=D,_g=Hr,Ks=Us,Ag=zs.PROPER,jg=zs.CONFIGURABLE,ki=Ks.IteratorPrototype,at=Ks.BUGGY_SAFARI_ITERATORS,$r=Cg("iterator"),Ti="keys",Sr="values",Pi="entries",Fg=function(){return this},oo=function(e,r,t,n,a,o,i){Tg(t,r,n);var l=function(p){if(p===a&&f)return f;if(!at&&p in u)return u[p];switch(p){case Ti:return function(){return new t(this,p)};case Sr:return function(){return new t(this,p)};case Pi:return function(){return new t(this,p)}}return function(){return new t(this)}},g=r+" Iterator",d=!1,u=e.prototype,v=u[$r]||u["@@iterator"]||a&&u[a],f=!at&&v||l(a),s=r=="Array"&&u.entries||v,c,y,h;if(s&&(c=Oi(s.call(new e)),c!==Object.prototype&&c.next&&(Oi(c)!==ki&&(Ei?Ei(c,ki):kg(c[$r])||Fn(c,$r,Fg)),Pg(c,g,!0))),Ag&&a==Sr&&v&&v.name!==Sr&&(jg?Rg(u,"name",Sr):(d=!0,f=function(){return Eg(v,this)})),a)if(y={values:l(Sr),keys:o?f:l(Ti),entries:l(Pi)},i)for(h in y)(at||d||!(h in u))&&Fn(u,h,y[h]);else Og({target:r,proto:!0,forced:at||d},y);return u[$r]!==f&&Fn(u,$r,f,{name:a}),_g[r]=f,y},Dg=We,io=Ls,Ri=Hr,Vs=Kr,Mg=K.f,Ng=oo,Lg=z,Ws="Array Iterator",Bg=Vs.set,qg=Vs.getterFor(Ws),Ug=Ng(Array,"Array",function(e,r){Bg(this,{type:Ws,target:Dg(e),index:0,kind:r})},function(){var e=qg(this),r=e.target,t=e.kind,n=e.index++;return!r||n>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values"),Ci=Ri.Arguments=Ri.Array;io("keys");io("values");io("entries");if(Lg&&Ci.name!=="values")try{Mg(Ci,"name",{value:"values"})}catch{}var lo={exports:{}},Hs={},Gg=Ha,zg=K,Kg=Bt,Xs=function(e,r,t){var n=Gg(r);n in e?zg.f(e,n,Kg(0,t)):e[n]=t},_i=xs,Vg=Vr,Wg=Xs,Hg=Array,Xg=Math.max,Ys=function(e,r,t){for(var n=Vg(e),a=_i(r,n),o=_i(t===void 0?n:t,n),i=Hg(Xg(o-a,0)),l=0;a<o;a++,l++)Wg(i,l,e[a]);return i.length=l,i},Yg=Ke,Qg=We,Qs=Kt.f,Jg=Ys,Js=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Zg=function(e){try{return Qs(e)}catch{return Jg(Js)}};Hs.f=function(r){return Js&&Yg(r)=="Window"?Zg(r):Qs(Qg(r))};var eh=R,rh=eh(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),th=R,nh=J,ah=Ke,Ai=rh,dt=Object.isExtensible,oh=th(function(){dt(1)}),ih=oh||Ai?function(r){return!nh(r)||Ai&&ah(r)=="ArrayBuffer"?!1:dt?dt(r):!0}:dt,lh=R,sh=!lh(function(){return Object.isExtensible(Object.preventExtensions({}))}),uh=se,ch=_,fh=zt,vh=J,so=he,dh=K.f,ji=Kt,ph=Hs,uo=ih,gh=Wa,hh=sh,Zs=!1,Oe=gh("meta"),mh=0,co=function(e){dh(e,Oe,{value:{objectID:"O"+mh++,weakData:{}}})},yh=function(e,r){if(!vh(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!so(e,Oe)){if(!uo(e))return"F";if(!r)return"E";co(e)}return e[Oe].objectID},bh=function(e,r){if(!so(e,Oe)){if(!uo(e))return!0;if(!r)return!1;co(e)}return e[Oe].weakData},$h=function(e){return hh&&Zs&&uo(e)&&!so(e,Oe)&&co(e),e},Sh=function(){wh.enable=function(){},Zs=!0;var e=ji.f,r=ch([].splice),t={};t[Oe]=1,e(t).length&&(ji.f=function(n){for(var a=e(n),o=0,i=a.length;o<i;o++)if(a[o]===Oe){r(a,o,1);break}return a},uh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ph.f}))},wh=lo.exports={enable:Sh,fastKey:yh,getWeakData:bh,onFreeze:$h};fh[Oe]=!0;var xh=D,Ih=Hr,Oh=xh("iterator"),Eh=Array.prototype,kh=function(e){return e!==void 0&&(Ih.Array===e||Eh[Oh]===e)},Th=Ht,Fi=pr,Ph=Hr,Rh=D,Ch=Rh("iterator"),eu=function(e){if(e!=null)return Fi(e,Ch)||Fi(e,"@@iterator")||Ph[Th(e)]},_h=Q,Ah=za,jh=q,Fh=qt,Dh=eu,Mh=TypeError,Nh=function(e,r){var t=arguments.length<2?Dh(e):r;if(Ah(t))return jh(_h(t,e));throw Mh(Fh(e)+" is not iterable")},Lh=Q,Di=q,Bh=pr,qh=function(e,r,t){var n,a;Di(e);try{if(n=Bh(e,"return"),!n){if(r==="throw")throw t;return t}n=Lh(n,e)}catch(o){a=!0,n=o}if(r==="throw")throw t;if(a)throw n;return Di(n),t},Uh=eo,Gh=Q,zh=q,Kh=qt,Vh=kh,Wh=Vr,Mi=Ua,Hh=Nh,Xh=eu,Ni=qh,Yh=TypeError,pt=function(e,r){this.stopped=e,this.result=r},Li=pt.prototype,ru=function(e,r,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),g=Uh(r,n),d,u,v,f,s,c,y,h=function(m){return d&&Ni(d,"normal",m),new pt(!0,m)},p=function(m){return a?(zh(m),l?g(m[0],m[1],h):g(m[0],m[1])):l?g(m,h):g(m)};if(o)d=e.iterator;else if(i)d=e;else{if(u=Xh(e),!u)throw Yh(Kh(e)+" is not iterable");if(Vh(u)){for(v=0,f=Wh(e);f>v;v++)if(s=p(e[v]),s&&Mi(Li,s))return s;return new pt(!1)}d=Hh(e,u)}for(c=o?e.next:d.next;!(y=Gh(c,d)).done;){try{s=p(y.value)}catch(m){Ni(d,"throw",m)}if(typeof s=="object"&&s&&Mi(Li,s))return s}return new pt(!1)},Qh=Ua,Jh=TypeError,tu=function(e,r){if(Qh(r,e))return e;throw Jh("Incorrect invocation")},Zh=D,nu=Zh("iterator"),au=!1;try{var em=0,Bi={next:function(){return{done:!!em++}},return:function(){au=!0}};Bi[nu]=function(){return this},Array.from(Bi,function(){throw 2})}catch{}var rm=function(e,r){if(!r&&!au)return!1;var t=!1;try{var n={};n[nu]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},tm=F,nm=J,qi=Gs,am=function(e,r,t){var n,a;return qi&&tm(n=r.constructor)&&n!==t&&nm(a=n.prototype)&&a!==t.prototype&&qi(e,a),e},om=se,im=N,lm=_,Ui=Es,sm=He,um=lo.exports,cm=ru,fm=tu,vm=F,Dn=J,Mn=R,dm=rm,pm=ao,gm=am,hm=function(e,r,t){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,o=n?"set":"add",i=im[e],l=i&&i.prototype,g=i,d={},u=function(p){var m=lm(l[p]);sm(l,p,p=="add"?function($){return m(this,$===0?0:$),this}:p=="delete"?function(b){return a&&!Dn(b)?!1:m(this,b===0?0:b)}:p=="get"?function($){return a&&!Dn($)?void 0:m(this,$===0?0:$)}:p=="has"?function($){return a&&!Dn($)?!1:m(this,$===0?0:$)}:function($,S){return m(this,$===0?0:$,S),this})},v=Ui(e,!vm(i)||!(a||l.forEach&&!Mn(function(){new i().entries().next()})));if(v)g=t.getConstructor(r,e,n,o),um.enable();else if(Ui(e,!0)){var f=new g,s=f[o](a?{}:-0,1)!=f,c=Mn(function(){f.has(1)}),y=dm(function(p){new i(p)}),h=!a&&Mn(function(){for(var p=new i,m=5;m--;)p[o](m,m);return!p.has(-0)});y||(g=r(function(p,m){fm(p,l);var b=gm(new i,p,g);return m!=null&&cm(m,b[o],{that:b,AS_ENTRIES:n}),b}),g.prototype=l,l.constructor=g),(c||h)&&(u("delete"),u("has"),n&&u("get")),(h||s)&&u(o),a&&l.clear&&delete l.clear}return d[e]=g,om({global:!0,constructor:!0,forced:g!=i},d),pm(g,e),a||t.setStrong(g,e,n),g},mm=He,ym=function(e,r,t){for(var n in r)mm(e,n,r[n],t);return e},bm=dr,$m=K,Sm=D,wm=z,Gi=Sm("species"),xm=function(e){var r=bm(e),t=$m.f;wm&&r&&!r[Gi]&&t(r,Gi,{configurable:!0,get:function(){return this}})},Im=K.f,Om=Yt,zi=ym,Em=eo,km=tu,Tm=ru,Pm=oo,Rm=xm,wr=z,Ki=lo.exports.fastKey,ou=Kr,Vi=ou.set,Nn=ou.getterFor,Cm={getConstructor:function(e,r,t,n){var a=e(function(d,u){km(d,o),Vi(d,{type:r,index:Om(null),first:void 0,last:void 0,size:0}),wr||(d.size=0),u!=null&&Tm(u,d[n],{that:d,AS_ENTRIES:t})}),o=a.prototype,i=Nn(r),l=function(d,u,v){var f=i(d),s=g(d,u),c,y;return s?s.value=v:(f.last=s={index:y=Ki(u,!0),key:u,value:v,previous:c=f.last,next:void 0,removed:!1},f.first||(f.first=s),c&&(c.next=s),wr?f.size++:d.size++,y!=="F"&&(f.index[y]=s)),d},g=function(d,u){var v=i(d),f=Ki(u),s;if(f!=="F")return v.index[f];for(s=v.first;s;s=s.next)if(s.key==u)return s};return zi(o,{clear:function(){for(var u=this,v=i(u),f=v.index,s=v.first;s;)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete f[s.index],s=s.next;v.first=v.last=void 0,wr?v.size=0:u.size=0},delete:function(d){var u=this,v=i(u),f=g(u,d);if(f){var s=f.next,c=f.previous;delete v.index[f.index],f.removed=!0,c&&(c.next=s),s&&(s.previous=c),v.first==f&&(v.first=s),v.last==f&&(v.last=c),wr?v.size--:u.size--}return!!f},forEach:function(u){for(var v=i(this),f=Em(u,arguments.length>1?arguments[1]:void 0),s;s=s?s.next:v.first;)for(f(s.value,s.key,this);s&&s.removed;)s=s.previous},has:function(u){return!!g(this,u)}}),zi(o,t?{get:function(u){var v=g(this,u);return v&&v.value},set:function(u,v){return l(this,u===0?0:u,v)}}:{add:function(u){return l(this,u=u===0?0:u,u)}}),wr&&Im(o,"size",{get:function(){return i(this).size}}),a},setStrong:function(e,r,t){var n=r+" Iterator",a=Nn(r),o=Nn(n);Pm(e,r,function(i,l){Vi(this,{type:n,target:i,state:a(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,g=i.last;g&&g.removed;)g=g.previous;return!i.target||!(i.last=g=g?g.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:g.key,done:!1}:l=="values"?{value:g.value,done:!1}:{value:[g.key,g.value],done:!1}},t?"entries":"values",!t,!0),Rm(r)}},_m=hm,Am=Cm;_m("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Am);var jm=ro,Fm=Ht,Dm=jm?{}.toString:function(){return"[object "+Fm(this)+"]"},Mm=ro,Nm=He,Lm=Dm;Mm||Nm(Object.prototype,"toString",Lm,{unsafe:!0});var Bm=Ht,qm=String,Xe=function(e){if(Bm(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return qm(e)},fo=_,Um=Vt,Gm=Xe,zm=Ve,Km=fo("".charAt),Wi=fo("".charCodeAt),Vm=fo("".slice),Hi=function(e){return function(r,t){var n=Gm(zm(r)),a=Um(t),o=n.length,i,l;return a<0||a>=o?e?"":void 0:(i=Wi(n,a),i<55296||i>56319||a+1===o||(l=Wi(n,a+1))<56320||l>57343?e?Km(n,a):i:e?Vm(n,a,a+2):(i-55296<<10)+(l-56320)+65536)}},iu={codeAt:Hi(!1),charAt:Hi(!0)},Wm=iu.charAt,Hm=Xe,lu=Kr,Xm=oo,su="String Iterator",Ym=lu.set,Qm=lu.getterFor(su);Xm(String,"String",function(e){Ym(this,{type:su,string:Hm(e),index:0})},function(){var r=Qm(this),t=r.string,n=r.index,a;return n>=t.length?{value:void 0,done:!0}:(a=Wm(t,n),r.index+=a.length,{value:a,done:!1})});var uu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Jm=Xa,Ln=Jm("span").classList,Xi=Ln&&Ln.constructor&&Ln.constructor.prototype,cu=Xi===Object.prototype?void 0:Xi,Yi=N,fu=uu,Zm=cu,kr=Ug,Bn=gr,vu=D,qn=vu("iterator"),Qi=vu("toStringTag"),Un=kr.values,du=function(e,r){if(e){if(e[qn]!==Un)try{Bn(e,qn,Un)}catch{e[qn]=Un}if(e[Qi]||Bn(e,Qi,r),fu[r]){for(var t in kr)if(e[t]!==kr[t])try{Bn(e,t,kr[t])}catch{e[t]=kr[t]}}}};for(var Gn in fu)du(Yi[Gn]&&Yi[Gn].prototype,Gn);du(Zm,"DOMTokenList");var ey=R,ry=function(e,r){var t=[][e];return!!t&&ey(function(){t.call(null,r||function(){return 1},1)})},ty=Xt.forEach,ny=ry,ay=ny("forEach"),pu=ay?[].forEach:function(r){return ty(this,r,arguments.length>1?arguments[1]:void 0)},oy=se,Ji=pu;oy({target:"Array",proto:!0,forced:[].forEach!=Ji},{forEach:Ji});var Zi=N,el=uu,iy=cu,zn=pu,ly=gr,gu=function(e){if(e&&e.forEach!==zn)try{ly(e,"forEach",zn)}catch{e.forEach=zn}};for(var Kn in el)el[Kn]&&gu(Zi[Kn]&&Zi[Kn].prototype);gu(iy);var sy=z,hu=_,uy=Ds,cy=We,fy=qa.f,vy=hu(fy),dy=hu([].push),rl=function(e){return function(r){for(var t=cy(r),n=uy(t),a=n.length,o=0,i=[],l;a>o;)l=n[o++],(!sy||vy(t,l))&&dy(i,e?[l,t[l]]:t[l]);return i}},py={entries:rl(!0),values:rl(!1)},gy=se,hy=py.entries;gy({target:"Object",stat:!0},{entries:function(r){return hy(r)}});var my=TypeError,yy=9007199254740991,by=function(e){if(e>yy)throw my("Maximum allowed index exceeded");return e},$y=se,Sy=R,wy=ks,xy=J,Iy=zr,Oy=Vr,tl=by,nl=Xs,Ey=js,ky=no,Ty=D,Py=Ga,mu=Ty("isConcatSpreadable"),Ry=Py>=51||!Sy(function(){var e=[];return e[mu]=!1,e.concat()[0]!==e}),Cy=ky("concat"),_y=function(e){if(!xy(e))return!1;var r=e[mu];return r!==void 0?!!r:wy(e)},Ay=!Ry||!Cy;$y({target:"Array",proto:!0,arity:1,forced:Ay},{concat:function(r){var t=Iy(this),n=Ey(t,0),a=0,o,i,l,g,d;for(o=-1,l=arguments.length;o<l;o++)if(d=o===-1?t:arguments[o],_y(d))for(g=Oy(d),tl(a+g),i=0;i<g;i++,a++)i in d&&nl(n,a,d[i]);else tl(a+1),nl(n,a++,d);return n.length=a,n}});var jy=q,Fy=function(){var e=jy(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},vo=R,Dy=N,po=Dy.RegExp,go=vo(function(){var e=po("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),My=go||vo(function(){return!po("a","y").sticky}),Ny=go||vo(function(){var e=po("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),yu={BROKEN_CARET:Ny,MISSED_STICKY:My,UNSUPPORTED_Y:go},Ly=R,By=N,qy=By.RegExp,Uy=Ly(function(){var e=qy(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Gy=R,zy=N,Ky=zy.RegExp,Vy=Gy(function(){var e=Ky("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),ar=Q,Qt=_,Wy=Xe,Hy=Fy,Xy=yu,Yy=Ut.exports,Qy=Yt,Jy=Kr.get,Zy=Uy,eb=Vy,rb=Yy("native-string-replace",String.prototype.replace),_t=RegExp.prototype.exec,Ia=_t,tb=Qt("".charAt),nb=Qt("".indexOf),ab=Qt("".replace),Vn=Qt("".slice),Oa=function(){var e=/a/,r=/b*/g;return ar(_t,e,"a"),ar(_t,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),bu=Xy.BROKEN_CARET,Ea=/()??/.exec("")[1]!==void 0,ob=Oa||Ea||bu||Zy||eb;ob&&(Ia=function(r){var t=this,n=Jy(t),a=Wy(r),o=n.raw,i,l,g,d,u,v,f;if(o)return o.lastIndex=t.lastIndex,i=ar(Ia,o,a),t.lastIndex=o.lastIndex,i;var s=n.groups,c=bu&&t.sticky,y=ar(Hy,t),h=t.source,p=0,m=a;if(c&&(y=ab(y,"y",""),nb(y,"g")===-1&&(y+="g"),m=Vn(a,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&tb(a,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",m=" "+m,p++),l=new RegExp("^(?:"+h+")",y)),Ea&&(l=new RegExp("^"+h+"$(?!\\s)",y)),Oa&&(g=t.lastIndex),d=ar(_t,c?l:t,m),c?d?(d.input=Vn(d.input,p),d[0]=Vn(d[0],p),d.index=t.lastIndex,t.lastIndex+=d[0].length):t.lastIndex=0:Oa&&d&&(t.lastIndex=t.global?d.index+d[0].length:g),Ea&&d&&d.length>1&&ar(rb,d[0],l,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(d[u]=void 0)}),d&&s)for(d.groups=v=Qy(null),u=0;u<s.length;u++)f=s[u],v[f[0]]=d[f[1]];return d});var Jt=Ia,ib=se,al=Jt;ib({target:"RegExp",proto:!0,forced:/./.exec!==al},{exec:al});var lb=Lt,$u=Function.prototype,ol=$u.apply,il=$u.call,Su=typeof Reflect=="object"&&Reflect.apply||(lb?il.bind(ol):function(){return il.apply(ol,arguments)}),ll=_,sl=He,sb=Jt,ul=R,wu=D,ub=gr,cb=wu("species"),Wn=RegExp.prototype,ho=function(e,r,t,n){var a=wu(e),o=!ul(function(){var d={};return d[a]=function(){return 7},""[e](d)!=7}),i=o&&!ul(function(){var d=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[cb]=function(){return u},u.flags="",u[a]=/./[a]),u.exec=function(){return d=!0,null},u[a](""),!d});if(!o||!i||t){var l=ll(/./[a]),g=r(a,""[e],function(d,u,v,f,s){var c=ll(d),y=u.exec;return y===sb||y===Wn.exec?o&&!s?{done:!0,value:l(u,v,f)}:{done:!0,value:c(v,u,f)}:{done:!1}});sl(String.prototype,e,g[0]),sl(Wn,a,g[1])}n&&ub(Wn[a],"sham",!0)},fb=J,vb=Ke,db=D,pb=db("match"),gb=function(e){var r;return fb(e)&&((r=e[pb])!==void 0?!!r:vb(e)=="RegExp")},hb=As,mb=qt,yb=TypeError,bb=function(e){if(hb(e))return e;throw yb(mb(e)+" is not a constructor")},cl=q,$b=bb,Sb=D,wb=Sb("species"),xb=function(e,r){var t=cl(e).constructor,n;return t===void 0||(n=cl(t)[wb])==null?r:$b(n)},Ib=iu.charAt,mo=function(e,r,t){return r+(t?Ib(e,r).length:1)},fl=Q,Ob=q,Eb=F,kb=Ke,Tb=Jt,Pb=TypeError,yo=function(e,r){var t=e.exec;if(Eb(t)){var n=fl(t,e,r);return n!==null&&Ob(n),n}if(kb(e)==="RegExp")return fl(Tb,e,r);throw Pb("RegExp#exec called on incompatible receiver")},Rb=Su,xr=Q,bo=_,Cb=ho,_b=gb,Ab=q,vl=Ve,jb=xb,Fb=mo,Db=Wt,Hn=Xe,Mb=pr,dl=Ys,pl=yo,Nb=Jt,Lb=yu,Bb=R,Je=Lb.UNSUPPORTED_Y,gl=4294967295,qb=Math.min,xu=[].push,Ub=bo(/./.exec),Ze=bo(xu),Ir=bo("".slice),Gb=!Bb(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});Cb("split",function(e,r,t){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(a,o){var i=Hn(vl(this)),l=o===void 0?gl:o>>>0;if(l===0)return[];if(a===void 0)return[i];if(!_b(a))return xr(r,i,a,l);for(var g=[],d=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),u=0,v=new RegExp(a.source,d+"g"),f,s,c;(f=xr(Nb,v,i))&&(s=v.lastIndex,!(s>u&&(Ze(g,Ir(i,u,f.index)),f.length>1&&f.index<i.length&&Rb(xu,g,dl(f,1)),c=f[0].length,u=s,g.length>=l)));)v.lastIndex===f.index&&v.lastIndex++;return u===i.length?(c||!Ub(v,""))&&Ze(g,""):Ze(g,Ir(i,u)),g.length>l?dl(g,0,l):g}:"0".split(void 0,0).length?n=function(a,o){return a===void 0&&o===0?[]:xr(r,this,a,o)}:n=r,[function(o,i){var l=vl(this),g=o==null?void 0:Mb(o,e);return g?xr(g,o,l,i):xr(n,Hn(l),o,i)},function(a,o){var i=Ab(this),l=Hn(a),g=t(n,i,l,o,n!==r);if(g.done)return g.value;var d=jb(i,RegExp),u=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Je?"g":"y"),f=new d(Je?"^(?:"+i.source+")":i,v),s=o===void 0?gl:o>>>0;if(s===0)return[];if(l.length===0)return pl(f,l)===null?[l]:[];for(var c=0,y=0,h=[];y<l.length;){f.lastIndex=Je?0:y;var p=pl(f,Je?Ir(l,y):l),m;if(p===null||(m=qb(Db(f.lastIndex+(Je?y:0)),l.length))===c)y=Fb(l,y,u);else{if(Ze(h,Ir(l,c,y)),h.length===s)return h;for(var b=1;b<=p.length-1;b++)if(Ze(h,p[b]),h.length===s)return h;y=c=m}}return Ze(h,Ir(l,c)),h}]},!Gb,Je);var zb=z,Kb=Gt.EXISTS,Iu=_,Vb=K.f,Ou=Function.prototype,Wb=Iu(Ou.toString),Eu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Hb=Iu(Eu.exec),Xb="name";zb&&!Kb&&Vb(Ou,Xb,{configurable:!0,get:function(){try{return Hb(Eu,Wb(this))[1]}catch{return""}}});var ku=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Yb=_,Qb=Ve,Jb=Xe,Zb=ku,hl=Yb("".replace),At="["+Zb+"]",e$=RegExp("^"+At+At+"*"),r$=RegExp(At+At+"*$"),Xn=function(e){return function(r){var t=Jb(Qb(r));return e&1&&(t=hl(t,e$,"")),e&2&&(t=hl(t,r$,"")),t}},t$={start:Xn(1),end:Xn(2),trim:Xn(3)},n$=Gt.PROPER,a$=R,ml=ku,yl="\u200B\x85\u180E",o$=function(e){return a$(function(){return!!ml[e]()||yl[e]()!==yl||n$&&ml[e].name!==e})},i$=se,l$=t$.trim,s$=o$;i$({target:"String",proto:!0,forced:s$("trim")},{trim:function(){return l$(this)}});function bl(e){var r=new Map,t=new Map;return e.forEach(function(n,a){u$(t,a,n)}),t.forEach(function(n,a){var o=fr(n,2),i=o[0],l=o[1],g=e.get(a)||0;g&&i+l<2||g&&i+l>3||(!g&&i+l==3?r.set(a,i>l?1:2):g&&r.set(a,g))}),r}function u$(e,r,t){var n=Tu(r),a=fr(n,2),o=a[0],i=a[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(g){e.has(g)||e.set(g,[0,0]);var d=e.get(g),u=fr(d,2),v=u[0],f=u[1];t===1?e.set(g,[v+1,f]):e.set(g,[v,f+1])}),e}function Tu(e){var r=e.split("|"),t=fr(r,2),n=t[0],a=t[1];return[+n,+a]}function Pu(e){var r=fr(e,2),t=r[0],n=r[1];return"".concat(t,"|").concat(n)}function Ru(e,r){var t=Math.floor(e.clientY/r),n=Math.floor(e.clientX/r);return{row:t,col:n,shift:e.shiftKey}}function c$(e){return""}function f$(e){var r=e.map(function(t){var n=t.name,a=t.fauna,o=as(a.entries());return{fauna:o,name:n}});localStorage.setItem("history",JSON.stringify(r))}function v$(){try{var e=JSON.parse(localStorage.getItem("history")||"null")||[],r=e.map(function(t){var n=t.fauna,a=t.name,o=new Map(n);return{fauna:o,name:a}});return r}catch(t){return console.error(t),[]}}function d$(){return{width:window.visualViewport.width,height:window.visualViewport.height}}function p$(e){var r=new Map;return e.split(`
`).forEach(function(t,n){t=t.trim();for(var a=0;a<t.length;a++)t[a]==="O"&&r.set(Pu([a,n]),1)}),r}var Cu="#5583e5",_u="#79e555",Au=[5,10,20,30,40],g$=Au[2],$l=d$();function h$(){var e=T(Au,{name:"$options",sid:"jcy7nx"}),r=T(g$,{name:"$cellSize",sid:"eeiscj"}),t=r.map(function(o){return{height:Math.ceil($l.height/o),width:Math.ceil($l.width/o)}}),n=I({name:"cellSizeChanged",sid:"-ub9olw"});r.on(n,function(o,i){return i});var a={$options:e,$cellSize:r,$fieldSize:t,cellSizeChanged:n};return a}function m$(){var e=T(!1,{name:"$isOn",sid:"byljm1"}),r=I({name:"changed",sid:"uvawwv"});e.on(r,function(n,a){return a});var t={$isOn:e,changed:r};return t}function y$(e,r){var t=T({initFocus:null,initHovered:null,currentHovered:null},{name:"$moveCoords",sid:"-5ie7n8"}),n=I({name:"onMDown",sid:"vllcbr"}),a=I({name:"onMMove",sid:"p6h513"}),o=I({name:"onMUp",sid:"-i1mvzm"});return document.addEventListener("mousedown",n),document.addEventListener("mousemove",a),document.addEventListener("mouseup",o),t.reset(o),P({and:[{source:{focus:r,hovered:e,coords:t},clock:n,fn:function(l){var g=l.focus,d=l.coords,u=l.hovered;return yr(yr({},d),{},{initFocus:g,initHovered:u})},target:t}],or:{sid:"wcpuiu"}}),P({and:[{source:{hovered:e,coords:t},clock:a,filter:t.map(function(i){return!!i.initFocus}),fn:function(l){var g=l.hovered,d=l.coords;return yr(yr({},d),{},{currentHovered:yr({},g)})},target:t}],or:{sid:"wsnvqb"}}),{$moveCoords:t}}var oe=h$(),jt=m$(),Ee=T(new Map,{name:"$fauna",sid:"12kukq"}),Xr=T({col:0,row:0},{name:"$focus",sid:"-5hzlos"}),Tr=I({name:"moveFocus",sid:"-7a3fel"}),ju=I({name:"resetFocus",sid:"e03fb7"}),Fr=T(1,{name:"$selectedColor",sid:"-wiiylh"}),gt=I({name:"colorSelected",sid:"dywk0m"});Fr.on(gt,function(e,r){return r});var Fu=I({name:"toggleCell",sid:"-itkxoh"}),Du=I({name:"saveClicked",sid:"sm8ofd"}),Zt=I({name:"resetFieldPressed",sid:"bcu3mo"}),$o=T({row:0,col:0,shift:!1},{and:{updateFilter:function(r,t){return!(r.row===t.row&&r.col===t.col&&r.shift===t.shift)}},name:"$hoveredCell",sid:"vsdd07"}),b$=y$($o,Xr);Xr.on(b$.$moveCoords,function(e,r){var t=r.currentHovered,n=r.initHovered,a=r.initFocus;if(n&&a&&t){var o=t.col-n.col,i=t.row-n.row;return{col:a.col+o,row:a.row+i}}});var Mu=I({name:"fieldMouseMove",sid:"78bezk"}),$$=Te({and:[jt.$isOn,oe.$cellSize,function(e,r){return e?"elsa":r}],or:{name:"$fieldTilesStyle",sid:"ceaqtz"}}),Nu=Te({and:[oe.$fieldSize,Ee,Xr,function(e,r,t){var n=e.width,a=e.height,o=[];return r.forEach(function(i,l){var g=Tu(l),d=fr(g,2),u=d[0],v=d[1],f=Math.ceil(u+t.col),s=Math.ceil(v+t.row);f>=0&&f<n&&s>=0&&s<a&&o.push({col:f,row:s,val:i})}),o}],or:{name:"$field",sid:"ed656n"}}),S$=Te({and:[Nu,oe.$cellSize,function(e,r){return e.map(function(t){var n=t.val,a=t.col,o=t.row;return{val:n,y:o*r+"px",x:a*r+"px"}})}],or:{name:"$viewField",sid:"nhcrk8"}}),Sl=Te({and:[$o,oe.$cellSize,function(e,r){var t=e.col,n=e.row;return{y:n*r+"px",x:t*r+"px"}}],or:{name:"$viewHoveredCell",sid:"-x9kamz"}});Ee.on(Zt,function(){return new Map});Xr.on(Tr,function(e,r){return{col:e.col+(r.col||0),row:e.row+(r.row||0)}}).reset(ju);P({and:[{source:oe.$cellSize,clock:Mu,fn:function(r,t){return Ru(t,r)},target:$o}],or:{sid:"crazwx"}});P({and:[{source:{fauna:Ee,color:Fr,focus:Xr},clock:Fu,fn:function(r,t){var n=r.color,a=r.fauna,o=r.focus,i=t.col,l=t.row,g=t.shift,d=new Map(a),u=i-o.col,v=l-o.row,f=Pu([u,v]);return g?d.set(f,n):d.get(f)===n?d.delete(f):d.set(f,n),d},target:Ee}],or:{sid:"d7914e"}});function w$(e){O("select",function(){le({handler:{change:e.onChange}}),Na(e.options,function(r){var t=r.store;O("option",{attr:{value:t.map(function(n){return n.value}),selected:Te({and:[t,e.value,function(n,a){return n.value===a}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(n){return n.label})})})})}function x$(e){O("label",{text:e.label,fn:function(){O("input",{attr:{type:"checkbox",checked:e.value},handler:{change:e.onChange.prepend(function(t){return t.target.checked})}})}})}const I$="_history_iy2lc_1",O$="_colorBtn_iy2lc_7",E$="_currentColor_iy2lc_14",k$="_arrowBtn_iy2lc_18",V={history:I$,colorBtn:O$,currentColor:E$,arrowBtn:k$};function T$(){x$({label:"Elsa",value:jt.$isOn,onChange:jt.changed}),O("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,n;O("button",{classList:(r={},Z(r,V.colorBtn,!0),Z(r,V.currentColor,Fr.map(function(a){return a===1})),r),style:{backgroundColor:Cu},handler:{click:gt.prepend(function(){return 1})}}),O("button",{classList:(t={},Z(t,V.colorBtn,!0),Z(t,V.currentColor,Fr.map(function(a){return a===2})),t),style:{backgroundColor:_u},handler:{click:gt.prepend(function(){return 2})}}),O("button",{classList:(n={},Z(n,V.colorBtn,!0),Z(n,V.currentColor,Fr.map(function(a){return!a})),n),handler:{click:gt.prepend(function(){return 0})}})}})}var So=_,P$=zr,R$=Math.floor,Yn=So("".charAt),C$=So("".replace),Qn=So("".slice),_$=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A$=/\$([$&'`]|\d{1,2})/g,j$=function(e,r,t,n,a,o){var i=t+e.length,l=n.length,g=A$;return a!==void 0&&(a=P$(a),g=_$),C$(o,g,function(d,u){var v;switch(Yn(u,0)){case"$":return"$";case"&":return e;case"`":return Qn(r,0,t);case"'":return Qn(r,i);case"<":v=a[Qn(u,1,-1)];break;default:var f=+u;if(f===0)return d;if(f>l){var s=R$(f/10);return s===0?d:s<=l?n[s-1]===void 0?Yn(u,1):n[s-1]+Yn(u,1):d}v=n[f-1]}return v===void 0?"":v})},F$=Su,wl=Q,en=_,D$=ho,M$=R,N$=q,L$=F,B$=Vt,q$=Wt,er=Xe,U$=Ve,G$=mo,z$=pr,K$=j$,V$=yo,W$=D,ka=W$("replace"),H$=Math.max,X$=Math.min,Y$=en([].concat),Jn=en([].push),xl=en("".indexOf),Il=en("".slice),Q$=function(e){return e===void 0?e:String(e)},J$=function(){return"a".replace(/./,"$0")==="$0"}(),Ol=function(){return/./[ka]?/./[ka]("a","$0")==="":!1}(),Z$=!M$(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});D$("replace",function(e,r,t){var n=Ol?"$":"$0";return[function(o,i){var l=U$(this),g=o==null?void 0:z$(o,ka);return g?wl(g,o,l,i):wl(r,er(l),o,i)},function(a,o){var i=N$(this),l=er(a);if(typeof o=="string"&&xl(o,n)===-1&&xl(o,"$<")===-1){var g=t(r,i,l,o);if(g.done)return g.value}var d=L$(o);d||(o=er(o));var u=i.global;if(u){var v=i.unicode;i.lastIndex=0}for(var f=[];;){var s=V$(i,l);if(s===null||(Jn(f,s),!u))break;var c=er(s[0]);c===""&&(i.lastIndex=G$(l,q$(i.lastIndex),v))}for(var y="",h=0,p=0;p<f.length;p++){s=f[p];for(var m=er(s[0]),b=H$(X$(B$(s.index),l.length),0),$=[],S=1;S<s.length;S++)Jn($,Q$(s[S]));var w=s.groups;if(d){var x=Y$([m],$,b,l);w!==void 0&&Jn(x,w);var E=er(F$(o,void 0,x))}else E=K$(m,l,b,$,w,o);b>=h&&(y+=Il(l,h,b)+E,h=b+m.length)}return y+Il(l,h)}]},!Z$||!J$||Ol);const e1=""+new URL("heart-line-icon.a4369d33.svg",import.meta.url).href,r1="_field_n4fvk_1",t1="_cell_n4fvk_13",n1="_on1_n4fvk_21",a1="_on2_n4fvk_24",o1="_heartMode_n4fvk_28",rr={field:r1,cell:t1,on1:n1,on2:a1,heartMode:o1};function i1(e){var r=`
<svg viewBox='0 0 `.concat(e," ").concat(e,`' xmlns='http://www.w3.org/2000/svg'>
<line x1='0' y1='0' x2='0' y2='`).concat(e,`' stroke='#b4b6b8' />
<line x1='0' y1='0' x2='`).concat(e,`' y2='0' stroke='#b4b6b8' />
</svg>`);return"data:image/svg+xml;base64,"+btoa(r.replace(/\n/g,""))}function l1(){var e=I({name:"rawClicked",sid:"co1uzo"});P({and:[{source:oe.$cellSize,clock:e,fn:function(t,n){return Ru(n,t)},target:Fu}],or:{sid:"cevhdx"}}),O("div",{classList:[rr.field],styleVar:{cellSize:oe.$cellSize.map(function(r){return r+"px"}),color1:Cu,color2:_u},style:{backgroundImage:$$.map(function(r){var t=r==="elsa"?e1:i1(r);return'url("'.concat(t,'")')}),backgroundSize:oe.$cellSize.map(function(r){return"".concat(r,"px ").concat(r,"px")})},handler:{click:e,mousemove:Mu},fn:function(){Na(S$,function(t){var n,a=t.store;O("div",{style:{left:a.map(function(o){return o.x}),top:a.map(function(o){return o.y})},classList:(n={},Z(n,rr.heartMode,jt.$isOn),Z(n,rr.cell,!0),Z(n,rr.on1,a.map(function(o){return o.val===1})),Z(n,rr.on2,a.map(function(o){return o.val===2})),n)})}),O("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:Sl.map(function(t){return t.x}),top:Sl.map(function(t){return t.y})},classList:[rr.cell]})}})}var s1=Q,u1=ho,c1=q,f1=Wt,Zn=Xe,v1=Ve,d1=pr,p1=mo,El=yo;u1("match",function(e,r,t){return[function(a){var o=v1(this),i=a==null?void 0:d1(a,e);return i?s1(i,a,o):new RegExp(a)[e](Zn(o))},function(n){var a=c1(this),o=Zn(n),i=t(r,a,o);if(i.done)return i.value;if(!a.global)return El(a,o);var l=a.unicode;a.lastIndex=0;for(var g=[],d=0,u;(u=El(a,o))!==null;){var v=Zn(u[0]);g[d]=v,v===""&&(a.lastIndex=p1(o,f1(a.lastIndex),l)),d++}return d===0?null:g}]});var g1=se,h1=Xt.filter,m1=no,y1=m1("filter");g1({target:"Array",proto:!0,forced:!y1},{filter:function(r){return h1(this,r,arguments.length>1?arguments[1]:void 0)}});var rn=T(v$()||[],{name:"$history",sid:"8vj2mw"}),Lu=I({name:"addToHistory",sid:"-6p9jgl"}),Bu=I({name:"removeFromHistory",sid:"iwl8tq"}),tn=I({name:"historySelected",sid:"bspsag"});rn.on(Lu,function(e,r){var t,n=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",a=n.match(/(\d+)/),o=a&&+a[1]||0;return[].concat(as(e),[{fauna:r,name:"save #".concat(o+1)}])}).on(Bu,function(e,r){});P({and:[{source:rn,target:Pa(function(e){f$(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var kl,Tl;function b1(){O("div",{classList:[V.history],fn:function(){O("p",{text:"History: ",style:{margin:"0"}}),Na(rn,function(r){var t=r.store,n=I({name:"rawClick",sid:"-69qia6"}),a=I({name:"rawRemoveClick",sid:"-9nj6fi"});P({and:[{clock:n,source:t.map(function(o){return o.name}),target:tn}],or:{sid:"-pa1t75"}}),P({and:[{clock:a,source:t.map(function(o){return o.name}),target:Bu}],or:{sid:"-p7au8c"}}),O("div",function(){O("button",function(){le({handler:{click:n}}),Et(kl||(kl=Tt(["",""])),t.map(function(o){return o.name}))}),O("button",function(){le({handler:{click:a}}),Et(Tl||(Tl=Tt(["x"])))})})}),O("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:Du}})}})}const $1=""+new URL("redo-arrow-icon.c268a7f7.svg",import.meta.url).href;function S1(){var e=Tr.prepend(function(){return{col:5}}),r=Tr.prepend(function(){return{col:-5}}),t=Tr.prepend(function(){return{row:5}}),n=Tr.prepend(function(){return{row:-5}});O("div",function(){le({style:{display:"grid",gridTemplateColumns:"30px 30px 30px",gridTemplateRows:"30px 30px 30px",gap:"8px",position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",zIndex:1}}),O("div",{}),O("button",{text:"^",classList:[V.arrowBtn],style:{transform:"rotate(90deg)"},handler:{click:t}}),O("div",{}),O("button",{text:"<-",classList:[V.arrowBtn],style:{transform:"rotate(0deg)"},handler:{click:e}}),O("button",{classList:[V.arrowBtn],style:{backgroundImage:'url("'.concat($1,'")')},handler:{click:ju}}),O("button",{text:"->",classList:[V.arrowBtn],style:{transform:"rotate(180deg)"},handler:{click:r}}),O("div",{}),O("button",{text:"v",classList:[V.arrowBtn],style:{transform:"rotate(270deg)"},handler:{click:n}})}),O("div",function(){le({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),w$({options:oe.$options.map(function(a){return a.map(function(o){return{label:"cell ".concat(o,"px"),value:String(o)}})}),value:oe.$cellSize.map(function(a){return String(a)}),onChange:oe.cellSizeChanged.prepend(function(a){return+a.target.value})})})}function w1(e){var{timeout:r,start:t,stop:n,leading:a=!1,trailing:o=!1}=e,i=I({name:"tick",sid:"uo9p3s"}),l=T(!1,{name:"$isRunning",sid:"-wxesi8"}),g=x1(r),d=l.map(h=>!h),u=I({name:"saveTimeout",sid:"as5clk"}),v=T(null,{name:"$timeoutId",sid:"-bh90bo"}).on(u,(h,p)=>p),f=I({name:"saveReject",sid:"-64swis"}),s=T(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(f,(h,p)=>p),c=Pa(h=>new Promise((p,m)=>{var b=setTimeout(p,h);u(b),f(m)}),{name:"timeoutFx",sid:"7lc3mj"}),y=Xu({and:{source:[v,s],effect:h=>{var[p,m]=h;m(),p&&clearTimeout(p)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return sn({and:[{clock:t,source:g,filter:d,target:c}],or:{sid:"-w5qmwp"}}),a&&sn({and:[{clock:t,filter:d,target:i}],or:{sid:"-vpslni"}}),P({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),sn({and:[{clock:c.done,source:g,filter:l,target:c}],or:{sid:"-v73liy"}}),P({and:[{clock:c.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),n&&(o&&P({and:[{clock:n,target:i}],or:{sid:"-uanqf7"}}),l.on(n,()=>!1),P({and:[{clock:n,target:y}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function x1(e){if(B.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return T(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var wo=T(0,{name:"$stepCount",sid:"qcyfda"});T(0,{name:"$startFauna",sid:"871hb0"});var nn=I({name:"gameTick",sid:"3e0yvy"}),qu=I({name:"makeNSteps",sid:"-su79h9"}),xo=I({name:"startTimer",sid:"qpqggy"}),Uu=I({name:"stopTimer",sid:"o91ddu"}),Gu=ec({sid:"-9gtfjx",fn:function(){return w1({timeout:50,start:xo,stop:Uu})},name:"timer",method:"interval"}),ht={start:xo,stop:Uu,isRunning:Gu.isRunning};P({and:[{clock:[Gu.tick,xo],target:nn}],or:{sid:"-pq1jks"}});wo.on(nn,function(e){return e+1}).on(qu,function(e,r){return e+r});var Pl,Rl;function I1(){O("p",function(){le({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),O("button",{text:"Step",handler:{click:nn}}),Et(Pl||(Pl=Tt([" timer: "]))),Sc({source:ht.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){O("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:ht.stop}})},0:function(){O("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:ht.start}})}}}),Et(Rl||(Rl=Tt(["steps: ",""])),wo)})}var O1=se,E1=Xt.find,k1=Ls,Ta="find",zu=!0;Ta in[]&&Array(1)[Ta](function(){zu=!1});O1({target:"Array",proto:!0,forced:zu},{find:function(r){return E1(this,r,arguments.length>1?arguments[1]:void 0)}});k1(Ta);var an=T("",{name:"$exported",sid:"-eko3nz"}),Ku=I({name:"exportFieldChanged",sid:"-1z9j1h"}),T1=I({name:"exportClicked",sid:"vvb4un"}),Vu=I({name:"importClicked",sid:"-xhz735"});an.on(Ku,function(e,r){return r});P({and:[{source:Ee,clock:Du,target:Lu}],or:{sid:"-32a41b"}});P({and:[{source:rn,clock:tn,fn:function(r,t){var n=r.find(function(o){return o.name===t}).fauna,a=new Map(n);return a},target:Ee}],or:{sid:"-qod2zb"}});P({and:[{source:an,clock:Vu,fn:p$,target:Ee}],or:{sid:"-q7bgl4"}});Ee.watch(console.log);P({and:[{clock:[tn,Zt],target:ht.stop}],or:{sid:"-q67vee"}});P({and:[{source:Nu,clock:T1,fn:c$,target:an}],or:{sid:"-q5o2t1"}});Ee.on(nn,function(e){return bl(e)}).on(qu,function(e,r){for(var t=e,n=1;n<=r;n++)t=bl(t);return t});wo.reset(tn,Zt);function P1(){O("div",function(){S1(),l1(),O("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){O("h1",{text:"Game of Life"}),b1(),T$(),I1()}}),O("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:Zt}}),O("div",function(){le({style:{position:"absolute",bottom:"50px",left:"20px"}}),O("button",{text:"Import",handler:{click:Vu}}),O("br",{}),O("textarea",{style:{fontSize:"8px",width:"100%",height:"100px",lineHeight:1},text:an,handler:{change:Ku.prepend(function(e){return e.target.value})}})})})}bc(document.querySelector("#app"),P1);
