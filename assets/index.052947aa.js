const Ru=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};Ru();function me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function kr(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function ct(e,r){return Cu(e)||Du(e,r)||pl(e,r)||Nu()}function Au(e){return _u(e)||ju(e)||pl(e)||Fu()}function _u(e){if(Array.isArray(e))return Fa(e)}function Cu(e){if(Array.isArray(e))return e}function ju(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Du(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],n=!0,o=!1,i,l;try{for(t=t.call(e);!(n=(i=t.next()).done)&&(a.push(i.value),!(r&&a.length===r));n=!0);}catch(p){o=!0,l=p}finally{try{!n&&t.return!=null&&t.return()}finally{if(o)throw l}}return a}}function pl(e,r){if(!!e){if(typeof e=="string")return Fa(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fa(e,r)}}function Fa(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Fu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ur=function(e){return e&&e.Math==Math&&e},M=Ur(typeof globalThis=="object"&&globalThis)||Ur(typeof window=="object"&&window)||Ur(typeof self=="object"&&self)||Ur(typeof po=="object"&&po)||function(){return this}()||Function("return this")(),dn={},k=function(e){try{return!!e()}catch{return!0}},Lu=k,U=!Lu(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Mu=k,Ot=!Mu(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Bu=Ot,Kr=Function.prototype.call,oe=Bu?Kr.bind(Kr):function(){return Kr.apply(Kr,arguments)},pn={},gl={}.propertyIsEnumerable,hl=Object.getOwnPropertyDescriptor,qu=hl&&!gl.call({1:2},1);pn.f=qu?function(r){var t=hl(this,r);return!!t&&t.enumerable}:gl;var Et=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},yl=Ot,ml=Function.prototype,Gu=ml.bind,Na=ml.call,Uu=yl&&Gu.bind(Na,Na),T=yl?function(e){return e&&Uu(e)}:function(e){return e&&function(){return Na.apply(e,arguments)}},$l=T,Ku=$l({}.toString),zu=$l("".slice),Ue=function(e){return zu(Ku(e),8,-1)},Vu=T,Wu=k,Hu=Ue,Wt=Object,Xu=Vu("".split),gn=Wu(function(){return!Wt("z").propertyIsEnumerable(0)})?function(e){return Hu(e)=="String"?Xu(e,""):Wt(e)}:Wt,Yu=TypeError,ar=function(e){if(e==null)throw Yu("Can't call method on "+e);return e},Qu=gn,Ju=ar,Oe=function(e){return Qu(Ju(e))},F=function(e){return typeof e=="function"},Zu=F,K=function(e){return typeof e=="object"?e!==null:Zu(e)},Ht=M,ec=F,rc=function(e){return ec(e)?e:void 0},nr=function(e,r){return arguments.length<2?rc(Ht[e]):Ht[e]&&Ht[e][r]},tc=T,hn=tc({}.isPrototypeOf),ac=nr,nc=ac("navigator","userAgent")||"",bl=M,Xt=nc,go=bl.process,ho=bl.Deno,yo=go&&go.versions||ho&&ho.version,mo=yo&&yo.v8,J,ft;mo&&(J=mo.split("."),ft=J[0]>0&&J[0]<4?1:+(J[0]+J[1]));!ft&&Xt&&(J=Xt.match(/Edge\/(\d+)/),(!J||J[1]>=74)&&(J=Xt.match(/Chrome\/(\d+)/),J&&(ft=+J[1])));var yn=ft,$o=yn,oc=k,Sl=!!Object.getOwnPropertySymbols&&!oc(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&$o&&$o<41}),ic=Sl,Il=ic&&!Symbol.sham&&typeof Symbol.iterator=="symbol",lc=nr,sc=F,uc=hn,cc=Il,fc=Object,xl=cc?function(e){return typeof e=="symbol"}:function(e){var r=lc("Symbol");return sc(r)&&uc(r.prototype,fc(e))},vc=String,Tt=function(e){try{return vc(e)}catch{return"Object"}},dc=F,pc=Tt,gc=TypeError,mn=function(e){if(dc(e))return e;throw gc(pc(e)+" is not a function")},hc=mn,Fr=function(e,r){var t=e[r];return t==null?void 0:hc(t)},Yt=oe,Qt=F,Jt=K,yc=TypeError,mc=function(e,r){var t,a;if(r==="string"&&Qt(t=e.toString)&&!Jt(a=Yt(t,e))||Qt(t=e.valueOf)&&!Jt(a=Yt(t,e))||r!=="string"&&Qt(t=e.toString)&&!Jt(a=Yt(t,e)))return a;throw yc("Can't convert object to primitive value")},kt={exports:{}},bo=M,$c=Object.defineProperty,$n=function(e,r){try{$c(bo,e,{value:r,configurable:!0,writable:!0})}catch{bo[e]=r}return r},bc=M,Sc=$n,So="__core-js_shared__",Ic=bc[So]||Sc(So,{}),bn=Ic,Io=bn;(kt.exports=function(e,r){return Io[e]||(Io[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var xc=ar,wc=Object,Nr=function(e){return wc(xc(e))},Oc=T,Ec=Nr,Tc=Oc({}.hasOwnProperty),ve=Object.hasOwn||function(r,t){return Tc(Ec(r),t)},kc=T,Pc=0,Rc=Math.random(),Ac=kc(1 .toString),Sn=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Ac(++Pc+Rc,36)},_c=M,Cc=kt.exports,xo=ve,jc=Sn,wo=Sl,wl=Il,Ve=Cc("wks"),Fe=_c.Symbol,Oo=Fe&&Fe.for,Dc=wl?Fe:Fe&&Fe.withoutSetter||jc,D=function(e){if(!xo(Ve,e)||!(wo||typeof Ve[e]=="string")){var r="Symbol."+e;wo&&xo(Fe,e)?Ve[e]=Fe[e]:wl&&Oo?Ve[e]=Oo(r):Ve[e]=Dc(r)}return Ve[e]},Fc=oe,Eo=K,To=xl,Nc=Fr,Lc=mc,Mc=D,Bc=TypeError,qc=Mc("toPrimitive"),Gc=function(e,r){if(!Eo(e)||To(e))return e;var t=Nc(e,qc),a;if(t){if(r===void 0&&(r="default"),a=Fc(t,e,r),!Eo(a)||To(a))return a;throw Bc("Can't convert object to primitive value")}return r===void 0&&(r="number"),Lc(e,r)},Uc=Gc,Kc=xl,In=function(e){var r=Uc(e,"string");return Kc(r)?r:r+""},zc=M,ko=K,La=zc.document,Vc=ko(La)&&ko(La.createElement),xn=function(e){return Vc?La.createElement(e):{}},Wc=U,Hc=k,Xc=xn,Ol=!Wc&&!Hc(function(){return Object.defineProperty(Xc("div"),"a",{get:function(){return 7}}).a!=7}),Yc=U,Qc=oe,Jc=pn,Zc=Et,ef=Oe,rf=In,tf=ve,af=Ol,Po=Object.getOwnPropertyDescriptor;dn.f=Yc?Po:function(r,t){if(r=ef(r),t=rf(t),af)try{return Po(r,t)}catch{}if(tf(r,t))return Zc(!Qc(Jc.f,r,t),r[t])};var z={},nf=U,of=k,El=nf&&of(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),lf=K,sf=String,uf=TypeError,V=function(e){if(lf(e))return e;throw uf(sf(e)+" is not an object")},cf=U,ff=Ol,vf=El,zr=V,Ro=In,df=TypeError,Zt=Object.defineProperty,pf=Object.getOwnPropertyDescriptor,ea="enumerable",ra="configurable",ta="writable";z.f=cf?vf?function(r,t,a){if(zr(r),t=Ro(t),zr(a),typeof r=="function"&&t==="prototype"&&"value"in a&&ta in a&&!a[ta]){var n=pf(r,t);n&&n[ta]&&(r[t]=a.value,a={configurable:ra in a?a[ra]:n[ra],enumerable:ea in a?a[ea]:n[ea],writable:!1})}return Zt(r,t,a)}:Zt:function(r,t,a){if(zr(r),t=Ro(t),zr(a),ff)try{return Zt(r,t,a)}catch{}if("get"in a||"set"in a)throw df("Accessors not supported");return"value"in a&&(r[t]=a.value),r};var gf=U,hf=z,yf=Et,or=gf?function(e,r,t){return hf.f(e,r,yf(1,t))}:function(e,r,t){return e[r]=t,e},Tl={exports:{}},Ma=U,mf=ve,kl=Function.prototype,$f=Ma&&Object.getOwnPropertyDescriptor,wn=mf(kl,"name"),bf=wn&&function(){}.name==="something",Sf=wn&&(!Ma||Ma&&$f(kl,"name").configurable),On={EXISTS:wn,PROPER:bf,CONFIGURABLE:Sf},If=T,xf=F,Ba=bn,wf=If(Function.toString);xf(Ba.inspectSource)||(Ba.inspectSource=function(e){return wf(e)});var En=Ba.inspectSource,Of=M,Ef=F,Tf=En,Ao=Of.WeakMap,kf=Ef(Ao)&&/native code/.test(Tf(Ao)),Pf=kt.exports,Rf=Sn,_o=Pf("keys"),Tn=function(e){return _o[e]||(_o[e]=Rf(e))},Pt={},Af=kf,Pl=M,aa=T,_f=K,Cf=or,na=ve,oa=bn,jf=Tn,Df=Pt,Co="Object already initialized",qa=Pl.TypeError,Ff=Pl.WeakMap,vt,Pr,dt,Nf=function(e){return dt(e)?Pr(e):vt(e,{})},Lf=function(e){return function(r){var t;if(!_f(r)||(t=Pr(r)).type!==e)throw qa("Incompatible receiver, "+e+" required");return t}};if(Af||oa.state){var Ce=oa.state||(oa.state=new Ff),Mf=aa(Ce.get),jo=aa(Ce.has),Bf=aa(Ce.set);vt=function(e,r){if(jo(Ce,e))throw new qa(Co);return r.facade=e,Bf(Ce,e,r),r},Pr=function(e){return Mf(Ce,e)||{}},dt=function(e){return jo(Ce,e)}}else{var We=jf("state");Df[We]=!0,vt=function(e,r){if(na(e,We))throw new qa(Co);return r.facade=e,Cf(e,We,r),r},Pr=function(e){return na(e,We)?e[We]:{}},dt=function(e){return na(e,We)}}var Lr={set:vt,get:Pr,has:dt,enforce:Nf,getterFor:Lf},qf=k,Gf=F,Vr=ve,Ga=U,Uf=On.CONFIGURABLE,Kf=En,Rl=Lr,zf=Rl.enforce,Vf=Rl.get,Jr=Object.defineProperty,Wf=Ga&&!qf(function(){return Jr(function(){},"length",{value:8}).length!==8}),Hf=String(String).split("String"),Xf=Tl.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Vr(e,"name")||Uf&&e.name!==r)&&(Ga?Jr(e,"name",{value:r,configurable:!0}):e.name=r),Wf&&t&&Vr(t,"arity")&&e.length!==t.arity&&Jr(e,"length",{value:t.arity});try{t&&Vr(t,"constructor")&&t.constructor?Ga&&Jr(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=zf(e);return Vr(a,"source")||(a.source=Hf.join(typeof r=="string"?r:"")),e};Function.prototype.toString=Xf(function(){return Gf(this)&&Vf(this).source||Kf(this)},"toString");var Yf=F,Qf=z,Jf=Tl.exports,Zf=$n,Ae=function(e,r,t,a){a||(a={});var n=a.enumerable,o=a.name!==void 0?a.name:r;if(Yf(t)&&Jf(t,o,a),a.global)n?e[r]=t:Zf(r,t);else{try{a.unsafe?e[r]&&(n=!0):delete e[r]}catch{}n?e[r]=t:Qf.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e},Rt={},ev=Math.ceil,rv=Math.floor,tv=Math.trunc||function(r){var t=+r;return(t>0?rv:ev)(t)},av=tv,kn=function(e){var r=+e;return r!==r||r===0?0:av(r)},nv=kn,ov=Math.max,iv=Math.min,At=function(e,r){var t=nv(e);return t<0?ov(t+r,0):iv(t,r)},lv=kn,sv=Math.min,Pn=function(e){return e>0?sv(lv(e),9007199254740991):0},uv=Pn,Ke=function(e){return uv(e.length)},cv=Oe,fv=At,vv=Ke,Do=function(e){return function(r,t,a){var n=cv(r),o=vv(n),i=fv(a,o),l;if(e&&t!=t){for(;o>i;)if(l=n[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in n)&&n[i]===t)return e||i||0;return!e&&-1}},Al={includes:Do(!0),indexOf:Do(!1)},dv=T,ia=ve,pv=Oe,gv=Al.indexOf,hv=Pt,Fo=dv([].push),_l=function(e,r){var t=pv(e),a=0,n=[],o;for(o in t)!ia(hv,o)&&ia(t,o)&&Fo(n,o);for(;r.length>a;)ia(t,o=r[a++])&&(~gv(n,o)||Fo(n,o));return n},Rn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yv=_l,mv=Rn,$v=mv.concat("length","prototype");Rt.f=Object.getOwnPropertyNames||function(r){return yv(r,$v)};var Cl={};Cl.f=Object.getOwnPropertySymbols;var bv=nr,Sv=T,Iv=Rt,xv=Cl,wv=V,Ov=Sv([].concat),Ev=bv("Reflect","ownKeys")||function(r){var t=Iv.f(wv(r)),a=xv.f;return a?Ov(t,a(r)):t},No=ve,Tv=Ev,kv=dn,Pv=z,Rv=function(e,r,t){for(var a=Tv(r),n=Pv.f,o=kv.f,i=0;i<a.length;i++){var l=a[i];!No(e,l)&&!(t&&No(t,l))&&n(e,l,o(r,l))}},Av=k,_v=F,Cv=/#|\.prototype\./,Mr=function(e,r){var t=Dv[jv(e)];return t==Nv?!0:t==Fv?!1:_v(r)?Av(r):!!r},jv=Mr.normalize=function(e){return String(e).replace(Cv,".").toLowerCase()},Dv=Mr.data={},Fv=Mr.NATIVE="N",Nv=Mr.POLYFILL="P",jl=Mr,la=M,Lv=dn.f,Mv=or,Bv=Ae,qv=$n,Gv=Rv,Uv=jl,L=function(e,r){var t=e.target,a=e.global,n=e.stat,o,i,l,p,d,s;if(a?i=la:n?i=la[t]||qv(t,{}):i=(la[t]||{}).prototype,i)for(l in r){if(d=r[l],e.dontCallGetSet?(s=Lv(i,l),p=s&&s.value):p=i[l],o=Uv(a?l:t+(n?".":"#")+l,e.forced),!o&&p!==void 0){if(typeof d==typeof p)continue;Gv(d,p)}(e.sham||p&&p.sham)&&Mv(d,"sham",!0),Bv(i,l,d,e)}},Lo=T,Kv=mn,zv=Ot,Vv=Lo(Lo.bind),An=function(e,r){return Kv(e),r===void 0?e:zv?Vv(e,r):function(){return e.apply(r,arguments)}},Wv=Ue,_n=Array.isArray||function(r){return Wv(r)=="Array"},Hv=D,Xv=Hv("toStringTag"),Dl={};Dl[Xv]="z";var Cn=String(Dl)==="[object z]",Yv=Cn,Qv=F,Zr=Ue,Jv=D,Zv=Jv("toStringTag"),ed=Object,rd=Zr(function(){return arguments}())=="Arguments",td=function(e,r){try{return e[r]}catch{}},_t=Yv?Zr:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=td(r=ed(e),Zv))=="string"?t:rd?Zr(r):(a=Zr(r))=="Object"&&Qv(r.callee)?"Arguments":a},ad=T,nd=k,Fl=F,od=_t,id=nr,ld=En,Nl=function(){},sd=[],Ll=id("Reflect","construct"),jn=/^\s*(?:class|function)\b/,ud=ad(jn.exec),cd=!jn.exec(Nl),sr=function(r){if(!Fl(r))return!1;try{return Ll(Nl,sd,r),!0}catch{return!1}},Ml=function(r){if(!Fl(r))return!1;switch(od(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return cd||!!ud(jn,ld(r))}catch{return!0}};Ml.sham=!0;var Dn=!Ll||nd(function(){var e;return sr(sr.call)||!sr(Object)||!sr(function(){e=!0})||e})?Ml:sr,Mo=_n,fd=Dn,vd=K,dd=D,pd=dd("species"),Bo=Array,gd=function(e){var r;return Mo(e)&&(r=e.constructor,fd(r)&&(r===Bo||Mo(r.prototype))?r=void 0:vd(r)&&(r=r[pd],r===null&&(r=void 0))),r===void 0?Bo:r},hd=gd,Bl=function(e,r){return new(hd(e))(r===0?0:r)},yd=An,md=T,$d=gn,bd=Nr,Sd=Ke,Id=Bl,qo=md([].push),Pe=function(e){var r=e==1,t=e==2,a=e==3,n=e==4,o=e==6,i=e==7,l=e==5||o;return function(p,d,s,f){for(var v=bd(p),u=$d(v),c=yd(d,s),$=Sd(u),h=0,g=f||Id,y=r?g(p,$):t||i?g(p,0):void 0,m,b;$>h;h++)if((l||h in u)&&(m=u[h],b=c(m,h,v),e))if(r)y[h]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return h;case 2:qo(y,m)}else switch(e){case 4:return!1;case 7:qo(y,m)}return o?-1:a||n?n:y}},Ct={forEach:Pe(0),map:Pe(1),filter:Pe(2),some:Pe(3),every:Pe(4),find:Pe(5),findIndex:Pe(6),filterReject:Pe(7)},xd=k,wd=D,Od=yn,Ed=wd("species"),jt=function(e){return Od>=51||!xd(function(){var r=[],t=r.constructor={};return t[Ed]=function(){return{foo:1}},r[e](Boolean).foo!==1})},Td=L,kd=Ct.map,Pd=jt,Rd=Pd("map");Td({target:"Array",proto:!0,forced:!Rd},{map:function(r){return kd(this,r,arguments.length>1?arguments[1]:void 0)}});function Dt(e,r){for(let t in e)r(e[t],t)}function G(e,r){e.forEach(r)}function Y(e,r){if(!e)throw Error(r)}function Ua(e,r){q={parent:q,value:e,template:N(e,"template")||ir(),sidRoot:N(e,"sidRoot")||q&&q.sidRoot};try{return r()}finally{q=fe(q)}}function Ee({node:e=[],from:r,source:t,parent:a=r||t,to:n,target:o,child:i=n||o,scope:l={},meta:p={},family:d={type:"regular"},regional:s}={}){let f=hr(a),v=hr(d.links),u=hr(d.owners),c=[];G(e,h=>h&&Se(c,h));let $={id:Fd(),seq:c,next:hr(i),meta:p,scope:l,family:{type:d.type||"crosslink",links:v,owners:u}};return G(v,h=>Se(Nt(h),$)),G(u,h=>Se(Lt(h),$)),G(f,h=>Se(h.next,$)),s&&q&&er(Sr(q),[$]),$}function R(e,r,t){let a=ue,n=null,o=P;if(e.target&&(r=e.params,t=e.defer,a="page"in e?e.page:a,e.stack&&(n=e.stack),o=$e(e)||o,e=e.target),o&&P&&o!==P&&(P=null),Array.isArray(e))for(let u=0;u<e.length;u++)je("pure",a,Q(e[u]),n,r[u],o);else je("pure",a,Q(e),n,r,o);if(t&&!Wr)return;let i,l,p,d,s,f,v={isRoot:Wr,currentPage:ue,scope:P,isWatch:rt,isPure:tt};Wr=0;e:for(;d=qd();){let{idx:u,stack:c,type:$}=d;p=c.node,ue=s=c.page,P=$e(c),s?f=s.reg:P&&(f=P.reg);let h=!!s,g=!!P,y={fail:0,scope:p.scope};i=l=0;for(let m=u;m<p.seq.length&&!i;m++){let b=p.seq[m];if(b.order){let{priority:S,barrierID:I}=b.order,x=I?s?`${s.fullID}_${I}`:I:0;if(m!==u||$!==S){I?ca.has(x)||(ca.add(x),Wa(m,c,S,I)):Wa(m,c,S);continue e}I&&ca.delete(x)}switch(b.type){case"mov":{let I,x=b.data;switch(x.from){case Le:I=Sr(c);break;case"a":case"b":I=c[x.from];break;case"value":I=x.store;break;case"store":if(f&&!f[x.store.id])if(h){let E=Yl(s,x.store.id);c.page=s=E,E?f=E.reg:g?(tr(P,x.store,0,1,x.softRead),f=P.reg):f=void 0}else g&&tr(P,x.store,0,1,x.softRead);I=Ir(f&&f[x.store.id]||x.store)}switch(x.to){case Le:c.value=I;break;case"a":case"b":c[x.to]=I;break;case"store":Ud(s,P,p,x.target).current=I}break}case"compute":let S=b.data;if(S.fn){rt=N(p,"op")==="watch",tt=S.pure;let I=S.safe?(0,S.fn)(Sr(c),y.scope,c):Kd(y,S.fn,c);S.filter?l=!I:c.value=I,rt=v.isWatch,tt=v.isPure}}i=y.fail||l}if(!i){let m=Sr(c);G(p.next,S=>{je("child",s,S,c,m,$e(c))});let b=$e(c);if(b){N(p,"needFxCounter")&&je("child",s,b.fxCount,c,m,b),N(p,"storeChange")&&je("child",s,b.storeChange,c,m,b),N(p,"warnSerialize")&&je("child",s,b.warnSerializeNode,c,m,b);let S=b.additionalLinks[p.id];S&&G(S,I=>{je("child",s,I,c,m,b)})}}}Wr=v.isRoot,ue=v.currentPage,P=$e(v)}function ql(e,r="combine"){let t=r+"(",a="",n=0;return Dt(e,o=>{n<25&&(o!=null&&(t+=a,t+=Me(o)?Nn(o).fullName:o.toString()),n+=1,a=", ")}),t+")"}function Gl(e,r){let t,a,n=e;if(r){let o=Nn(r);e.length===0?(t=o.path,a=o.fullName):(t=o.path.concat([e]),a=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],a=e;return{shortName:n,fullName:a,path:t}}function Br(e,r){let t=r?e:e[0];Hl(t);let a=t.or,n=t.and;if(n){let o=r?n:n[0];if(de(o)&&"and"in o){let i=Br(n,r);e=i[0],a={...a,...i[1]}}else e=n}return[e,a]}function re(e,...r){let t=ir();if(t){let a=t.handlers[e];if(a)return a(t,...r)}}function w(e,r){let t=(n,...o)=>(Be(!N(t,"derived"),"call of derived event","createEvent"),Be(!tt,"unit call from pure function","operators like sample"),ue?((i,l,p,d)=>{let s=ue,f=null;if(l)for(f=ue;f&&f.template!==l;)f=fe(f);Vo(f);let v=i.create(p,d);return Vo(s),v})(t,a,n,o):t.create(n,o)),a=ir();return Object.assign(t,{graphite:Ee({meta:es("event",t,e,r),regional:1}),create:n=>(R({target:t,params:n,scope:P}),n),watch:n=>Jl(t,n),map:n=>fa(t,Ze,n,[Ie()]),filter:n=>fa(t,"filter",n.fn?n:n.fn,[Ie(Mn,1)]),filterMap:n=>fa(t,"filterMap",n,[Ie(),ce(o=>!H(o),1)]),prepend(n){let o=w("* \u2192 "+t.shortName,{parent:fe(t)});return re("eventPrepend",Q(o)),ze(o,t,[Ie()],"prepend",n),Zl(t,o),o}})}function j(e,r){let t=rr(e),a=w({named:"updates",derived:1});re("storeBase",t);let n=t.id,o={subscribers:new Map,updates:a,defaultState:e,stateRef:t,getState(){let f,v=t;if(ue){let u=ue;for(;u&&!u.reg[n];)u=fe(u);u&&(f=u)}return!f&&P&&(tr(P,t,1),f=P),f&&(v=f.reg[n]),Ir(v)},setState:f=>R({target:o,params:f,defer:1,scope:P}),reset:(...f)=>(G(f,v=>o.on(v,()=>o.defaultState)),o),on:(f,v)=>(gt(f,".on","first argument"),Be(!N(o,"derived"),".on in derived store","createStore"),G(Array.isArray(f)?f:[f],u=>{o.off(u),et(o).set(u,Ql(Ho(u,o,"on",Md,v)))}),o),off(f){let v=et(o).get(f);return v&&(v(),et(o).delete(f)),o},map(f,v){let u,c;de(f)&&(u=f,f=f.fn),Be(H(v),"second argument of store.map","updateFilter");let $=o.getState();ir()?c=null:H($)||(c=f($,v));let h=j(c,{name:`${o.shortName} \u2192 *`,derived:1,and:u}),g=Ho(o,h,Ze,za,f);return Va(te(h),{type:Ze,fn:f,from:t}),te(h).noInit=1,re("storeMap",t,g),h},watch(f,v){if(!v||!Me(f)){let u=Jl(o,f);return re("storeWatch",t,f)||f(o.getState()),u}return Y(ae(v),"second argument should be a function"),f.watch(u=>v(o.getState(),u))}},i=es("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=Ee({scope:{state:t,fn:l},node:[ce((f,v,u)=>(u.scope&&!u.scope.reg[t.id]&&(u.b=1),f)),qe(t),ce((f,v,{a:u,b:c})=>!H(f)&&(f!==u||c),1),l&&Ie(za,1),ee({from:Le,target:t})],child:a,meta:i,regional:1});let p=N(o,"derived"),d=N(o,"serialize")==="ignore",s=N(o,"sid");return s&&(d||Ne(o,"storeChange",1),t.sid=s),s||d||p||Ne(o,"warnSerialize",1),Y(p||!H(e),"current state can't be undefined, use null instead"),er(o,[a]),o}function Ft(...e){let r,t,a;[e,a]=Br(e);let n,o,i,l=e[e.length-1];if(ae(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let p=t[0];ne(p)||(n=p,o=1)}if(!o&&(n=t,r)){i=1;let p=r;r=d=>p(...d)}return Y(de(n),"shape should be an object"),Vd(Array.isArray(n),!i,n,a,r)}function Ad(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function Fn(e,r){let t=w(ae(e)?{handler:e}:e,r),a=Q(t);Ne(a,"op",t.kind="effect"),t.use=v=>(Y(ae(v),".use argument should be a function"),d.scope.handler=v,t),t.use.getCurrent=()=>d.scope.handler;let n=t.finally=w({named:"finally",derived:1}),o=t.done=n.filterMap({named:"done",fn({status:v,params:u,result:c}){if(v==="done")return{params:u,result:c}}}),i=t.fail=n.filterMap({named:"fail",fn({status:v,params:u,error:c}){if(v==="fail")return{params:u,error:c}}}),l=t.doneData=o.map({named:"doneData",fn:({result:v})=>v}),p=t.failData=i.map({named:"failData",fn:({error:v})=>v}),d=Ee({scope:{handlerId:N(a,"sid"),handler:t.defaultConfig.handler||(()=>Y(0,`no handler used in ${t.getType()}`))},node:[ce((v,u,c)=>{let $=u,h=$.handler;if($e(c)){let g=$e(c).handlers[$.handlerId];g&&(h=g)}return v.handler=h,v},0,1),ce(({params:v,req:u,handler:c,args:$=[v]},h,g)=>{let y=ht(v,u,1,n,g),m=ht(v,u,0,n,g),[b,S]=rs(c,m,$);b&&(de(S)&&ae(S.then)?S.then(y,m):y(S))},0,1)],meta:{op:"fx",fx:"runner"}});a.scope.runner=d,Se(a.seq,ce((v,{runner:u},c)=>{let $=fe(c)?{params:v,req:{rs(h){},rj(h){}}}:v;return R({target:u,params:$,defer:1,scope:$e(c)}),$.params},0,1)),t.create=v=>{let u=Ad(),c={params:v,req:u};if(P){if(!rt){let $=P;u.req.finally(()=>{Gd($)}).catch(()=>{})}R({target:t,params:c,scope:P})}else R(t,c);return u.req};let s=t.inFlight=j(0,{serialize:"ignore"}).on(t,v=>v+1).on(n,v=>v-1).map({fn:v=>v,named:"inFlight"});Ne(n,"needFxCounter","dec"),Ne(t,"needFxCounter",1);let f=t.pending=s.map({fn:v=>v>0,named:"pending"});return er(t,[n,o,i,l,p,f,s]),t}function _d(e){let r;[e,r]=Br(e,1);let{source:t,effect:a,mapParams:n}=e,o=Fn(e,r);Ne(o,"attached",1);let i,{runner:l}=Q(o).scope,p=ce((s,f,v)=>{let u,{params:c,req:$,handler:h}=s,g=o.finally,y=ht(c,$,0,g,v),m=v.a,b=pt(h),S=1;if(n?[S,u]=rs(n,y,[c,m]):u=t&&b?m:c,S){if(!b)return s.args=[m,u],1;R({target:h,params:{params:u,req:{rs:ht(c,$,1,g,v),rj:y}},page:v.page,defer:1})}},1,1);if(t){let s;ne(t)?(s=t,er(s,[o])):(s=Ft(t),er(o,[s])),i=[qe(te(s)),p]}else i=[p];l.seq.splice(1,0,...i),o.use(a);let d=fe(a);return d&&(Object.assign(Nn(o),Gl(o.shortName,d)),o.defaultConfig.parent=d),Zl(a,o,"effect"),o}function Ka(e,r){gt(e,"merge","first argument");let t=w({name:ql(e,"merge"),derived:1,and:r});return ze(e,t,[],"merge"),t}function Ul(e,r){let t=0;return G(Hd,a=>{a in e&&(Y(e[a]!=null,ts(r,a)),t=1)}),t}function C(...e){let r,t,a,n,[[o,i,l],p]=Br(e),d=1;return H(i)&&de(o)&&Ul(o,"sample")&&(i=o.clock,l=o.fn,d=!o.greedy,n=o.filter,r=o.target,t=o.name,a=o.sid,o=o.source),as("sample",i,o,n,r,l,t,p,d,1,0,a)}function sa(...e){let[[r,t],a]=Br(e);return t||(t=r,r=t.source),Ul(t,"guard"),as("guard",t.clock,r,t.filter,t.target,null,t.name,a,!t.greedy,0,1)}function Go(e,r,t){if(ne(e))return Be(0,"restore($store)"),e;if(Kl(e)||pt(e)){let n=fe(e),o=j(r,{parent:n,name:e.shortName,and:t});return ze(pt(e)?e.doneData:e,o),n&&n.hooks.store(o),o}let a=Array.isArray(e)?[]:{};return Dt(e,(n,o)=>a[o]=ne(n)?n:j(n,{name:o})),a}let Cd=typeof Symbol<"u"&&Symbol.observable||"@@observable",Ze="map",Le="stack",Me=e=>(ae(e)||de(e))&&"kind"in e;const qr=e=>r=>Me(r)&&r.kind===e;let ne=qr("store"),Kl=qr("event"),pt=qr("effect"),zl=qr("domain"),jd=qr("scope");var W={__proto__:null,unit:Me,store:ne,event:Kl,effect:pt,domain:zl,scope:jd};let ua=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},Se=(e,r)=>e.push(r),Be=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Q=e=>e.graphite||e,Nt=e=>e.family.owners,Lt=e=>e.family.links,te=e=>e.stateRef,Sr=e=>e.value,et=e=>e.subscribers,fe=e=>e.parent,$e=e=>e.scope,N=(e,r)=>Q(e).meta[r],Ne=(e,r,t)=>Q(e).meta[r]=t,Nn=e=>e.compositeName;const Ln=()=>{let e=0;return()=>""+ ++e};let Dd=Ln(),Vl=Ln(),Fd=Ln(),q=null,ir=()=>q&&q.template,Wl=e=>(e&&q&&q.sidRoot&&(e=`${q.sidRoot}|${e}`),e),Nd=({sid:e,name:r,loc:t,method:a,fn:n})=>Ua(Ee({meta:{sidRoot:Wl(e),name:r,loc:t,method:a}}),n),er=(e,r)=>{let t=Q(e);G(r,a=>{let n=Q(a);t.family.type!=="domain"&&(n.family.type="crosslink"),Se(Nt(n),t),Se(Lt(t),n)})},hr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Q),de=e=>typeof e=="object"&&e!==null,ae=e=>typeof e=="function",H=e=>e===void 0,Hl=e=>Y(de(e)||ae(e),"expect first argument be an object");const Uo=(e,r,t,a)=>Y(!(!de(e)&&!ae(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${a}`);let gt=(e,r,t)=>{Array.isArray(e)?G(e,(a,n)=>Uo(a,r,`${n} item of ${t}`,"")):Uo(e,r,t," or array of units")},Ld=(e,r,t="target")=>G(hr(r),a=>Be(!N(a,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),za=(e,{fn:r},{a:t})=>r(e,t),Md=(e,{fn:r},{a:t})=>r(t,e),Mn=(e,{fn:r})=>r(e);const Xl=(e,r,t,a)=>{let n={id:Vl(),type:e,data:r};return t&&(n.order={priority:t},a&&(n.order.barrierID=++Bd)),n};let Bd=0,ee=({from:e="store",store:r,target:t,to:a=t?"store":Le,batch:n,priority:o})=>Xl("mov",{from:e,store:r,to:a,target:t},o,n),Rr=({fn:e,batch:r,priority:t,safe:a=0,filter:n=0,pure:o=0})=>Xl("compute",{fn:e,safe:a,filter:n,pure:o},t,r),Bn=({fn:e})=>Rr({fn:e,priority:"effect"}),ce=(e,r,t)=>Rr({fn:e,safe:1,filter:r,priority:t&&"effect"}),qe=(e,r,t)=>ee({store:e,to:r?Le:"a",priority:t&&"sampler",batch:1}),Ie=(e=Mn,r)=>Rr({fn:e,pure:1,filter:r}),Ko={mov:ee,compute:Rr,filter:({fn:e,pure:r})=>Rr({fn:e,filter:1,pure:r}),run:Bn},rr=e=>({id:Vl(),current:e}),Ir=({current:e})=>e,Va=(e,r)=>{e.before||(e.before=[]),Se(e.before,r)},Ye=null;const qn=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||Ha(e.v.type)>Ha(r.v.type))&&(t=e,e=r,r=t),t=qn(e.r,r),e.r=e.l,e.l=t,e},Gn=[];let zo=0;for(;zo<6;)Se(Gn,{first:null,last:null,size:0}),zo+=1;const qd=()=>{for(let e=0;e<6;e++){let r=Gn[e];if(r.size>0){if(e===3||e===4){r.size-=1;let a=Ye.v;return Ye=qn(Ye.l,Ye.r),a}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},je=(e,r,t,a,n,o)=>Wa(0,{a:null,b:null,node:t,parent:a,value:n,page:r,scope:o},e),Wa=(e,r,t,a=0)=>{let n=Ha(t),o=Gn[n],i={v:{idx:e,stack:r,type:t,id:a},l:null,r:null};n===3||n===4?Ye=qn(Ye,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},Ha=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},ca=new Set;let P,Wr=1,rt=0,tt=0,ue=null,Gd=e=>{P=e},Vo=e=>{ue=e};const Yl=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=fe(e);if(e)return e}return null};let Ud=(e,r,t,a,n)=>{let o=Yl(e,a.id);return o?o.reg[a.id]:r?(tr(r,a,n),r.reg[a.id]):a},tr=(e,r,t,a,n)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!n){let p=0,d=t||!r.noInit||a;G(r.before,s=>{switch(s.type){case Ze:{let f=s.from;if(f||s.fn){f&&tr(e,f,t,a);let v=f&&o[f.id].current;d&&(l.current=s.fn?s.fn(v):v)}break}case"field":p||(p=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),tr(e,s.from,t,a),d&&(l.current[s.field]=o[o[s.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const Kd=(e,r,t)=>{try{return r(Sr(t),e.scope,t)}catch(a){console.error(a),e.fail=1}};let Xa=(e,r={})=>(de(e)&&(Xa(e.or,r),Dt(e,(t,a)=>{H(t)||a==="or"||a==="and"||(r[a]=t)}),Xa(e.and,r)),r);const Wo=(e,r)=>{ua(e.next,r),ua(Nt(e),r),ua(Lt(e),r)},Ya=(e,r,t)=>{let a;e.next.length=0,e.seq.length=0,e.scope=null;let n=Lt(e);for(;a=n.pop();)Wo(a,e),(r||t&&N(e,"op")!=="sample"||a.family.type==="crosslink")&&Ya(a,r,N(a,"op")!=="on"&&t);for(n=Nt(e);a=n.pop();)Wo(a,e),t&&a.family.type==="crosslink"&&Ya(a,r,N(a,"op")!=="on"&&t)},ur=e=>e.clear();let zd=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),ne(e))ur(et(e));else if(zl(e)){t=1;let a=e.history;ur(a.events),ur(a.effects),ur(a.stores),ur(a.domains)}Ya(Q(e),!!r,t)},Ql=e=>{let r=()=>zd(e);return r.unsubscribe=r,r},ze=(e,r,t,a,n)=>Ee({node:t,parent:e,child:r,scope:{fn:n},meta:{op:a},family:{owners:[e,r],links:r},regional:1}),Jl=(e,r)=>(Y(ae(r),".watch argument should be a function"),Ql(Ee({scope:{fn:r},node:[Bn({fn:Mn})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Zl=(e,r,t="event")=>{fe(e)&&fe(e).hooks[t](r)},es=(e,r,t,a)=>{let n=e==="domain",o=Dd(),i=Xa({or:a,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:p=null,named:d=null}=i,s=d||i.name||(n?"":o),f=Gl(s,l),v={op:r.kind=e,name:r.shortName=s,sid:r.sid=Wl(p),named:d,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=f,r.defaultConfig=i,r.thru=u=>(Be(0,"thru","js pipe"),u(r)),r.getType=()=>f.fullName,!n){r.subscribe=c=>(Hl(c),r.watch(ae(c)?c:$=>c.next&&c.next($))),r[Cd]=()=>r;let u=ir();u&&(v.nativeTemplate=u)}return v};const fa=(e,r,t,a)=>{let n;de(t)&&(n=t,t=t.fn);let o=w({name:`${e.shortName} \u2192 *`,derived:1,and:n});return ze(e,o,a,r,t),o},Ho=(e,r,t,a,n)=>{let o=te(r),i=ee({store:o,to:"a",priority:"read"});t===Ze&&(i.data.softRead=1);let l=[i,Ie(a)];return re("storeOnMap",o,l,ne(e)&&te(e)),ze(e,r,l,t,n)},Vd=(e,r,t,a,n)=>{let o=e?c=>c.slice():c=>({...c}),i=e?[]:{},l=o(i),p=rr(l),d=rr(1);p.type=e?"list":"shape",p.noInit=1,re("combineBase",p,d);let s=j(l,{name:ql(t),derived:1,and:a}),f=te(s);f.noInit=1,Ne(s,"isCombine",1);let v=qe(p);v.order={priority:"barrier"};let u=[ce((c,$,h)=>(h.scope&&!h.scope.reg[p.id]&&(h.c=1),c)),v,ee({store:d,to:"b"}),ce((c,{key:$},h)=>{if(h.c||c!==h.a[$])return r&&h.b&&(h.a=o(h.a)),h.a[$]=c,1},1),ee({from:"a",target:p}),ee({from:"value",store:0,target:d}),ee({from:"value",store:1,target:d,priority:"barrier",batch:1}),qe(p,1),n&&Ie()];return Dt(t,(c,$)=>{if(!ne(c))return Y(!Me(c)&&!H(c),`combine expects a store in a field ${$}`),void(l[$]=i[$]=c);i[$]=c.defaultState,l[$]=c.getState();let h=ze(c,s,u,"combine",n);h.scope.key=$;let g=te(c);Va(p,{type:"field",field:$,from:g}),re("combineField",g,h)}),s.defaultShape=t,Va(f,{type:Ze,from:p,fn:n}),ir()||(s.defaultState=n?f.current=n(l):i),s};let rs=(e,r,t)=>{try{return[1,e(...t)]}catch(a){return r(a),[0,null]}},ht=(e,r,t,a,n)=>o=>R({target:[a,Wd],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:n.page,scope:$e(n)});const Wd=Ee({node:[Bn({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),Hd=["source","clock","target"],ts=(e,r)=>e+`: ${r} should be defined`;let as=(e,r,t,a,n,o,i,l,p,d,s,f)=>{let v=!!n;Y(!H(t)||!H(r),ts(e,"either source or clock"));let u=0;H(t)?u=1:Me(t)||(t=Ft(t)),H(r)?r=t:(gt(r,e,"clock"),Array.isArray(r)&&(r=Ka(r))),u&&(t=r),l||i||(i=t.shortName);let c="none";(s||a)&&(Me(a)?c="unit":(Y(ae(a),"`filter` should be function or unit"),c="fn")),n?(gt(n,e,"target"),Ld(e,n)):c==="none"&&d&&ne(t)&&ne(r)?n=j(o?o(Ir(te(t)),Ir(te(r))):Ir(te(t)),{name:i,sid:f,or:l}):(n=w({name:i,derived:1,or:l}),re("sampleTarget",Q(n)));let $=rr(),h=[];if(c==="unit"){let[m,b]=Xo(a,n,r,$,e);h=[...va(b),...va(m)]}let[g,y]=Xo(t,n,r,$,e);return er(t,[ze(r,n,[re("sampleSourceLoader"),ee({from:Le,target:$}),...va(y),qe(g,1,p),...h,qe($),c==="fn"&&Ie((m,b,{a:S})=>a(m,S),1),o&&Ie(za),re("sampleSourceUpward",v)],e,o)]),n};const va=e=>[qe(e),ce((r,t,{a})=>a,1)],Xo=(e,r,t,a,n)=>{let o=ne(e),i=o?te(e):rr(),l=rr(o);return o||Ee({parent:e,node:[ee({from:Le,target:i}),ee({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:n},regional:1}),re("sampleSource",l,i,a),[i,l]};function at(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function xr(e){var r,t;e.status="active",r=nt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function nt(e){return e.group.activeChilds[e.priority]}function Yo(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&xr(r)}function X(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(xr(r),nt(r).first||at(r.group,r.priority)));var t,a,n,o;r.status==="active"&&(r.status="pending",nt(r).first||((n=r.group).queue[o=r.priority].last?(n.cursor[o].prev=n.queue[o].last,n.queue[o].last.cursor[o].next=n,n.queue[o].last=n):n.queue[o].first=n.queue[o].last=n),a=r,(t=nt(r)).last?(a.cursor.prev=t.last,t.last.cursor.next=a,t.last=a):t.first=t.last=a),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=ps(r.group.queue.execQueue))}function Xd(e){De("execQueue");let r,t,a=Re(),n=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(Re()-a>=1e3){n=1;break e}let o=!!e.props.first;for(o&&De("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(Re()-a>=1e3){n=1,se("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,xr(t)}at(r,"props")}o&&se("props");let i=!!e.tree.first;for(i&&De("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(Re()-a>=1e3){n=1,se("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,xr(t)}at(r,"tree")}i&&se("tree");let l=!!e.data.first;for(l&&De("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(Re()-a>=1e3){n=1,se("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,xr(t)}at(r,"data")}l&&se("data")}if(se("execQueue"),n)e.rafID=ps(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function wr({value:e,runOp:r,group:t,priority:a}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:a,group:t,cursor:{prev:null,next:null}}}function Yd({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=Xd.bind(null,r),r}function Ar(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function Qd({value:e,group:r,onInit:t,onChange:a}){let n=wr({value:e,group:r,runOp(i){o.status="A",a(i)},priority:"data"}),o={status:"IA",value:n.value,ops:{init:wr({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:n,terminate:wr({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return X(1,o.ops.init),o}function Jd(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",X(1,e.ops.terminate);break;case"AA":e.status="AT",X(1,e.ops.terminate),X(e.value.active,e.ops.change);break;case"IA":e.status="T",X(0,e.ops.init)}}function Zd(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",X(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",X(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function ep(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function ns(e,r){for(let t=0;t<r.length;t++){let{type:a,field:n,value:o}=r[t];ip[a](e,n,o)}}function Mt(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function os(e,r,t){Mt(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function is(e,r,t){Mt(t)?delete e.style[r]:e.style[r]=`${t}`}function ls(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function ss(e,r,t){Mt(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function us(e,r,t){if(Mt(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function Qa(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function yt({fn:e,state:r={},defer:t=0,name:a="",draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:p=0}){let d=A,s={id:++sp,name:a,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:lp,upward:Ko.filter({fn(v,u,c){if(!c.page){if(!c.parent||!c.parent.page)return 1;c.page=c.parent.page}if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page upward"),0;let $=[c.page.template],h=[c.page];{let g=c.page.parent;for(;g;)h.push(g),$.push(g.template),g=g.parent}return c.node.next.forEach(g=>{let y=g.meta.nativeTemplate;if(y)if($.includes(y)){let m=h[$.indexOf(y)];R({target:g,params:v,defer:1,page:m,stack:c,scope:c.scope})}else console.error("context drift",{stack:c,node:g});else R({target:g,params:v,defer:1,page:c.page,stack:c,scope:c.scope})}),0}}),loader:Ko.filter({fn(v,u,c){if(c.parent){let $=c.scope?c.scope.graphite.id:null;if(c.page){if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page loader"),0;if(c.page.template===s)return 1;if(c.page.root.childSpawns[c.page.fullID][s.id])c.page.root.childSpawns[c.page.fullID][s.id].forEach(h=>{(!$||h.root.scope&&$===h.root.scope.graphite.id)&&R({params:v,target:c.node,page:h,defer:1,scope:c.scope})});else{let h=c.page.fullID,g=c.page.template.name==="rec";s.pages.forEach(y=>{if(!$||y.root.scope&&$===y.root.scope.graphite.id)if(y.fullID===h||y.fullID.startsWith(`${h}_`)){let m=1;if(g){let b=c.page.template.id,S=y.parent;for(;S&&S!==c.page;){if(S.template.id===b){m=0;break}S=S.parent}}m&&R({params:v,target:c.node,page:y,defer:1,scope:c.scope})}else h.startsWith(`${y.fullID}_`)&&R({params:v,target:c.node,page:c.page,defer:1,scope:c.scope})})}}else s.pages.forEach(h=>{(!$||h.root.scope&&$===h.root.scope.graphite.id)&&R({params:v,target:c.node,page:h,defer:1,scope:c.scope})});return 0}return 1}}),parent:d,node:null,api:null,trigger:{mount:w({named:"mount"})},draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:p||!(!d||!d.isBlock)};d&&d.childTemplates.push(s);let f=Ee({meta:{template:s}});return s.node=f,A=s,t?s.deferredInit=()=>{let v=A;A=s,s.deferredInit=null;try{Ua(f,()=>{let u=Go(r);s.api=e(u,s.trigger),s.nameMap=u})}finally{A=v}}:Ua(f,()=>{let v=Go(r);s.api=e(v,s.trigger),s.nameMap=v}),A=d,s}function rp(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function cs(e,r,t){let a=r;for(;a&&!Cr(a,e);)a=a.parent;return a?Cr(a,e):t?(t.getState(e),t.reg[e.id]):e}function da(e,r){Cr(r,e)||(r.reg[e.id]=cs(e,r.parent,r.root.scope))}function Qo(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function mt(e,{values:r={},parentLeaf:t,mountNode:a,svgRoot:n,leafData:o,opGroup:i,domSubtree:l,hydration:p,root:d}){function s(h){if(h.before)for(let g=0;g<h.before.length;g++){let y=h.before[g];switch(y.type){case"map":{let m,b=y.from;if(!y.fn&&!b)break;b&&(da(b,u),m=v[b.id].current),v[h.id].current=y.fn?y.fn(m):m;break}case"field":{let m=y.from;da(m,u),v[h.id].current[y.field]=v[m.id].current;break}case"closure":da(y.of,u)}}}function f(h,g,y){let m;g.stop=1;try{for(;g.i<h.length;)m=h[g.i],g.i++,m.fn(y[m.of.id]?y[m.of.id].current:cs(m.of,u.parent,u.root.scope).current)}catch(b){console.error(b),g.stop=0}}let v={},u={draft:e.draft,svgRoot:n,data:o,parent:t,hydration:p,mountNode:a,root:d,id:++up,fullID:"",reg:v,template:e};e.pages.push(u);let c=Je;Je=u,t&&Qo([u],e.id,d.childSpawns[t.fullID]),u.fullID=t?`${t.fullID}_${u.id}`:`${u.id}`,d.childSpawns[u.fullID]={},d.activeSpawns.add(u.fullID),d.leafOps[u.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let g=e.closure[h],y=g,m=u.parent;e:for(;m;){if(Cr(m,g)){y=Cr(m,g);break e}m=m.parent}!m&&d.scope&&(d.scope.getState(g),y=d.scope.reg[g.id]),v[g.id]=y}for(let h=0;h<e.plain.length;h++){let g=e.plain[h],y={id:g.id,current:rp(g,d.scope)};v[g.id]=y}for(let h in r){let g=e.nameMap[h].stateRef.id;v[g]={id:g,current:r[h]}}e.closure.forEach(s),e.plain.forEach(s);let $={i:0,stop:0};for(;!$.stop;)f(e.watch,$,v);if(t)for(let h in d.childSpawns[u.fullID])Qo(d.childSpawns[u.fullID][h],h,d.childSpawns[t.fullID]);if(ye)ye.steps.push({target:e.trigger.mount,params:u,defer:1,page:u,scope:d.scope});else{let h;ye={parent:ye,steps:[{target:e.trigger.mount,params:u,defer:1,page:u,scope:d.scope}]};do for(;h=ye.steps.shift();)ye={parent:ye,steps:[]},R(h);while(ye=ye.parent)}return Je=c,u}function $t(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function bt(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=bt(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=bt(r);if(t)return t;r=r.left}return null}default:return null}}function St(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=bt(r);if(t)return t;r=r.left}return St(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let a=r.child[t];if(!a)continue;let n=bt(a);if(n)return n}switch(r.type){case"element":case"using":return null}return St(r)}default:return null}}function Ja(e){let r=St(e);return r?r.value:null}function It(e,r){if(!e)throw Error(r)}function Un(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function fs(e){if(!A)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(A.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=A.draft.childCount,A.draft.childCount+=1,A.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${A.draft.type}`)}}function be(e,{parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o}){e.childTemplates.forEach(i=>{vs({parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o,actor:i})})}function vs({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:a,svgRoot:n,values:o}){let i;It(cp.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=a,{queue:p}=r.root.leafOps[r.fullID].group,d=Ar(p),s=r.root.leafOps[r.fullID].domSubtree,f=s;switch(l.type){case"route":{let u={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"route",block:u,ops:{},initialized:0,pendingInit:null};break}case"element":{let u;if(a.isBlock){let $,h,g=r;for(;g&&(!h||!$);){g.template.env&&($=g.template.env);let{draft:y}=g;y.type==="element"&&(y.tag==="svg"?h="svg":y.tag==="foreignObject"&&(h="html")),g=g.parent}h||(h="html"),$&&(u=h==="svg"?$.document.createElementNS("http://www.w3.org/2000/svg",l.tag):$.document.createElement(l.tag),ns(u,l.staticSeq))}else u=l.stencil.cloneNode();let c={type:"element",parent:e,child:[],value:u,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"element",block:c,ops:{visible:wr({value:0,priority:"tree",runOp($){if($){ds(c);let h=i;h.needToCallNode&&(h.needToCallNode=0,R({target:xt,params:{element:c.value,fns:l.node},page:v,scope:r.root.scope})),c.visible=1}else c.value.remove(),c.visible=0},group:s})},needToCallNode:l.node.length>0},f=Ar(p);break}case"list":{let u={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"list",draft:l,block:u,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let u={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec",block:u};break}case"recItem":{let u={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec item",block:u};break}case"block":{let u={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block",block:u};break}case"blockItem":{let u={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block item",block:u};break}default:console.warn(`unexpected draft type ${l.type}`)}let v=mt(a,{values:o,parentLeaf:r,mountNode:t,svgRoot:n||r.svgRoot,leafData:i,opGroup:d,domSubtree:f,hydration:r.hydration,root:r.root})}function ds(e){let r=Ja(e);r?r.after(e.value):$t(e).prepend(e.value),e.visible=1}function yr({mount:e,state:r,onMount:t,onState:a}){return{onMount:C({source:r,clock:e,fn:t,greedy:1}),onState:C({source:e,clock:r,fn:a,greedy:1})}}function Or(e,r){for(let t in e)r(e[t],t)}function Jo(e,r){if(!A)return;let t=A.draft;It(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)It(W.unit(r[l]),`handler for "${l}" should be event`);let{passive:a=0,capture:n=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:a,capture:n},map:r})}function xe(e){Un(A,"spec");let r=A.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let n=e.text,o=r.childCount;Array.isArray(n)?(r.text.push(...n.map((i,l)=>({index:l+o,value:i}))),r.childCount+=n.length):(r.text.push({index:o,value:n}),r.childCount+=1)}if(e.style){let n={};for(let o in e.style)n[ep(o)]=e.style[o];r.style.push(n)}var t,a;if(e.classList&&(t=e.classList,a=n=>r.classList.push(n),Array.isArray(t)?t.forEach(n=>{let o=typeof n=="string"?n:n.map(l=>l||""),i=typeof n=="string"?1:n.map(l=>l!==null);a({name:o,enabled:i})}):Or(t,(n,o)=>{a({name:o,enabled:n})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let n=e.handler;typeof n.on=="object"?Jo(n.config||{},n.on):Jo(n)}e.\u0254&&xe(e.\u0254)}function pa(e,{initCtx:r,runOp:t,hooks:{onMount:a,onState:n}}){let o=e.opsAmount++;a.watch(({value:i,leaf:l})=>{let p=r(i,l),d=wr({value:i,priority:"props",runOp(s){t(s,p)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=d}),n.watch(({value:i,leaf:l})=>{X(i,l.root.leafOps[l.fullID].group.ops[o])})}function Hr(e,r,t){e[r].forEach(a=>{Or(a,(n,o)=>{switch(r){case"data":case"styleVar":t[r][o]=n;break;case"attr":t.attr[o==="xlink:href"?"href":o]=n;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=n:t.style[o]=n}})})}function Zo(e,r,t){let a=e.data.block,n={type:"text",parent:a,visible:0,index:t,value:null};if(a.child[t]=n,e.hydration){let o=St(n);if(o)switch(o.type){case"text":n.value=e.root.env.document.createTextNode(r),o.value.after(n.value);break;case"element":n.value=o.value.nextSibling,Qa(n.value,r)}else{let i=$t(n);n.value=i.firstChild,Qa(n.value,r)}n.visible=1}else n.value=e.root.env.document.createTextNode(r),ds(n);return n}function cr(e){let r=e.stateRef,t=A;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function O(e,r){let t,a=0,n=0;typeof r=="function"?(a=1,t=r):r&&(n=1,r.fn&&(a=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(a=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(a=1,t=r.\u0254.fn))),Un(A,"h");let o,i=A.env,l=A.namespace,p=l,d="html";p=d=l==="svg"?"svg":"html",e==="svg"&&(d="svg",p="svg"),A.isBlock||(o=d==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let s=o,f={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:s,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(f.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),p="html"):e==="svg"?(f.attr.push({xmlns:"http://www.w3.org/2000/svg"}),p="svg"):e==="foreignObject"&&(p="foreignObject");let v=yt({name:"element",draft:f,isSvgRoot:e==="svg",namespace:p,fn(u,{mount:c}){let $=w({named:"domElementCreated"});a&&t(),n&&xe(r),W.unit(f.visible)&&(f.seq.push({type:"visible",value:f.visible}),cr(f.visible));let h={attr:{},data:{},style:{},styleVar:{}};Hr(f,"attr",h),Hr(f,"data",h),Hr(f,"style",h),Hr(f,"styleVar",h),Or(h,(g,y)=>{Or(g,(m,b)=>{W.unit(m)?(f.seq.push({type:y,field:b,value:m}),cr(m)):f.staticSeq.push({type:y,field:b,value:m})})}),f.classList.forEach(g=>{if(W.unit(g.name)||W.unit(g.enabled)){let y=W.unit(g.name)?g.name:j(g.name),m=W.unit(g.enabled)?g.enabled:j(g.enabled);f.seq.push({type:"classList",field:y,value:m}),cr(y),cr(m)}else W.unit(g.name)||f.staticSeq.push({type:"classList",field:g.name,value:g.enabled})}),f.text.forEach(g=>{g.value!==null&&(W.unit(g.value)?(f.seq.push({type:"dynamicText",value:g.value,childIndex:g.index}),cr(g.value)):f.seq.push({type:"staticText",value:String(g.value),childIndex:g.index}))}),f.handler.forEach(g=>{Or(g.map,(y,m)=>{f.seq.push({type:"handler",for:m,handler:y,options:g.options,domConfig:g.domConfig})})}),s&&ns(s,f.staticSeq),f.seq.forEach(g=>{switch(g.type){case"visible":{let{onMount:y,onState:m}=yr({mount:c,state:g.value,onMount:(b,S)=>({leaf:S,value:b,hydration:S.hydration}),onState:(b,S)=>({leaf:b,value:S,hydration:0})});y.watch(({leaf:b,value:S,hydration:I})=>{let x=b.data,E=x.block;if(I&&(Yo(S,x.ops.visible),S)){let _,B=Ja(E);if(_=B?B.nextSibling:$t(E).firstChild,_.nodeName==="#text"){let pe=_;_=_.nextSibling,pe.remove()}E.value=_,E.visible=1}be(f,{parentBlockFragment:E,leaf:b,node:E.value,svgRoot:v.isSvgRoot?E.value:null}),S&&x.needToCallNode&&(x.needToCallNode=0,R({target:xt,params:{element:x.block.value,fns:f.node},page:b,defer:1,scope:b.root.scope})),R({target:$,params:b,defer:1,page:b,scope:b.root.scope})}),Ka([m,y]).watch(({leaf:b,value:S,hydration:I})=>{I||X(S,b.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let y=ai[g.type],m=fp.some(({type:S,field:I})=>g.type===S&&g.field===I),b=yr({mount:$,state:g.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});m?Ka([b.onState,b.onMount]).watch(({leaf:S,value:I})=>{y(Xr(S),g.field,I)}):pa(f,{initCtx(S,I){let x=Xr(I);return y(x,g.field,S),x},runOp(S,I){y(I,g.field,S)},hooks:b});break}case"classList":{let y=ai.classList,m=j({prev:"",curr:g.field.getState()}).on(g.field,({curr:S},I)=>({prev:S,curr:I})),b=yr({mount:$,state:Ft({name:m,enabled:g.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});pa(f,{initCtx(S,I){let x=Xr(I);return y(x,S.name.curr,S.enabled),x},runOp(S,I){S.name.prev!==S.name.curr&&y(I,S.name.prev,0),y(I,S.name.curr,S.enabled)},hooks:b});break}case"dynamicText":pa(f,{initCtx:(y,m)=>Zo(m,y,g.childIndex),runOp(y,m){Qa(m.value,y)},hooks:yr({mount:$,state:g.value,onMount:(y,m)=>({leaf:m,value:String(y)}),onState:(y,m)=>({leaf:y,value:String(m)})})});break;case"staticText":$.watch(y=>{Zo(y,g.value,g.childIndex)});break;case"handler":{let y=g.handler.graphite.meta.nativeTemplate||null;$.watch(m=>{let b=null;if(y){let S=0,I=m;for(;!S&&I;)I.template===y?(S=1,b=I):I=I.parent}else b=null;Xr(m).addEventListener(g.for,S=>{g.options.prevent&&S.preventDefault(),g.options.stop&&S.stopPropagation(),R({target:g.handler,params:S,page:b,scope:m.root.scope})},g.domConfig)});break}}}),c.watch(g=>{let y=g.data;if(!f.visible){let m=y.ops.visible,b=y.block;if(g.hydration){Yo(1,m);let S,I=Ja(b);if(S=I?I.nextSibling:$t(b).firstChild,S.nodeName==="#text"){let x=S;S=S.nextSibling,x.remove()}b.value=S,b.visible=1}be(f,{parentBlockFragment:b,leaf:g,node:b.value,svgRoot:v.isSvgRoot?b.value:null}),R({target:$,params:g,defer:1,page:g,scope:g.root.scope}),g.hydration?y.needToCallNode&&(y.needToCallNode=0,R({target:xt,params:{element:y.block.value,fns:f.node},page:g,defer:1,scope:g.root.scope})):X(1,m)}})},env:i});fs(v)}function ei(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function tp(e,r){let t,a,n,o,i,l;if(typeof r=="function")t=r,n=ei(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,n=r.env?r.env:ei(),o=r.hydrate,a=r.onComplete,i=r.onRoot,l=r.scope}It(e,"using() first argument is missing");let p={scope:l,env:n,activeSpawns:new Set,childSpawns:{},leafOps:{}},d=e.namespaceURI,s=e.tagName.toLowerCase(),f={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},v=yt({name:"using",draft:f,isSvgRoot:s==="svg",namespace:d==="http://www.w3.org/2000/svg"?"svg":s==="foreignobject"?"foreignObject":"html",fn(h,{mount:g}){t(),g.watch(gs.using)},env:n}),u={type:"using",child:[],value:e},c=Yd({onComplete:a}),$=mt(v,{parentLeaf:Je||null,mountNode:e,svgRoot:v.isSvgRoot?e:Je?Je.svgRoot:null,leafData:{type:"using",draft:f,element:e,block:u},opGroup:Ar(c),domSubtree:Ar(c),hydration:o,root:p});if(i&&i({template:v,leaf:$}),c.onDrain&&!c.rafID){let h=c.onDrain;c.onDrain=null,h()}}function Za(e,r){let t=e.root.childSpawns[e.fullID];for(let a in t){let n=t[a];for(let o=0;o<n.length;o++)r(n[o])}}function ap(e,r){let t=a=>{let n=a.data;if(e&&n.type==="list"&&n.pendingUpdate){let o=n.pendingUpdate;n.pendingUpdate=null,R({target:a.template.api.pendingUpdate,params:o,defer:1,page:a,scope:a.root.scope})}if(e&&n.type==="route"){if(n.pendingInit){let o=n.pendingInit.value;n.pendingInit=null,R({target:a.template.api.pendingInit,params:o,defer:1,page:a,scope:a.root.scope})}else if(!n.block.visible)return}switch(n.type){case"element":X(e,n.ops.visible);break;case"route":case"list":case"list item":Za(a,t);break;default:console.log("unsupported type",n.type)}};Za(r,t)}function ga(e){e.root.activeSpawns.delete(e.fullID),Za(e,Kn)}function ha(e){Er(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Er(e,e.template.pages)}function Kn(e){let{data:r,root:t}=e;switch(r.type){case"element":Er(e,t.childSpawns[e.parent.fullID][e.template.id]),function a(n){t.activeSpawns.delete(n.fullID);let o=t.childSpawns[n.fullID];delete t.childSpawns[n.fullID],delete t.leafOps[n.fullID],Er(n,n.template.pages);for(let i in o)o[i].forEach(a)}(e),X(0,r.ops.visible);break;case"list":{let a=r.records;for(let n=0;n<a.length;n++){let o=a[n];o.instance&&Kn(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),ha(e);break}case"list item":{let a=r.block;Er(a,a.parent.child);let n=a.left,o=a.right;n&&(n.right=o,o||a.parent.lastChild!==a||(a.parent.lastChild=n)),o&&(o.left=n),n||o||a.parent.lastChild!==a||(a.parent.lastChild=null),a.left=null,a.right=null,ga(e),ha(e);break}case"route":ga(e),ha(e);break;case"block":case"block item":case"rec":case"rec item":ga(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Er(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function np(e,r){if(Array.isArray(r))return r.map(t=>e.map(a=>a[t]));if(typeof r=="object"&&r!==null){let t={};for(let a in r){let n=r[a];t[a]=e.map(typeof n=="function"?o=>n(o):o=>o[n])}return t}return e.map(t=>t[r])}function en(e,r){Un(A,"list"),typeof r=="function"&&(W.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:a,source:n,fields:o=[]}=e,i=a!==void 0?typeof a=="function"?a:s=>s[a]:(s,f)=>f,l={type:"list",key:W.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:p,namespace:d}=A;fs(yt({name:"list",draft:l,isSvgRoot:0,namespace:d,fn(s,{mount:f}){let v=yt({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:d,fn({id:y,store:m},{mount:b}){t({store:m,key:y,fields:np(m,o)});let S=w({named:"itemUpdater"});if(m.on(S,(I,x)=>x),l.itemVisible){let{onMount:I,onState:x}=yr({mount:b,state:l.itemVisible,onMount:(E,_)=>({visible:E,leaf:_}),onState:(E,_)=>({visible:_,leaf:E})});I.watch(({visible:E,leaf:_})=>{let B=_.data.block;B.visible=E,B.childInitialized=E,E&&be(l,{parentBlockFragment:B,leaf:_})}),x.watch(({visible:E,leaf:_})=>{let B=_.data.block;B.visible=E,B.childInitialized?ap(E,_):E&&(B.childInitialized=1,be(l,{parentBlockFragment:B,leaf:_}))})}else b.watch(gs.listItem);return{itemUpdater:S}},env:p}),u=j([]),c=n.map(y=>y),$=C({source:n,clock:f,fn:(y,m)=>({updates:y,leaf:m,hydration:m.hydration}),greedy:1}),h=w(),g=C({source:$,clock:[c,h],fn:({leaf:y},m)=>({updates:m,leaf:y,hydration:0}),greedy:1});return C({source:u,clock:[$,g],greedy:1,fn(y,{updates:m,leaf:b,hydration:S}){let I=b.data,x=b;for(;x;){if(x.data.type==="route"&&!x.data.block.visible)return void(I.pendingUpdate=m);x=x.parent}let E=I.block;De("list update ["+n.shortName+"]");let _=Array(m.length).fill(0),B=m.map(i),pe=[];for(let ge=0;ge<y.length;ge++){let ie=y[ge],Te=B.indexOf(ie.key);Te!==-1?(pe.push(ie),_[Te]=1,Zd(m[Te],ie.asyncValue)):(ie.active=0,ie.instance&&Kn(ie.instance),Jd(ie.asyncValue))}for(let ge=0;ge<m.length;ge++){if(_[ge])continue;let ie=m[ge],Te=B[ge],zt=Ar(b.root.leafOps[b.fullID].group.queue),ke={type:"LF",parent:E,child:[],childInitialized:0,visible:0,left:null,right:null},le={type:"listItem",key:Te,index:Te,active:1,leafData:{type:"list item",block:ke,listDraft:l},asyncValue:Qd({value:ie,group:zt,onChange(_e){le.instance&&R({target:le.instance.template.api.itemUpdater,params:_e,defer:1,page:le.instance,scope:le.instance.root.scope})},onInit(_e){le.active&&(S||(le.instance=mt(v,{values:{id:Te,store:_e},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:le.leafData,opGroup:zt,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root})))}})},fo=pe.length;pe.push(le);let vo=fo>0?pe[fo-1].leafData:null;if(E.child.push(ke),vo){let _e=vo.block;ke.left=_e;let Vt=_e.right;Vt?(Vt.left=ke,ke.right=Vt):E.lastChild=ke,_e.right=ke}else E.lastChild=ke;S&&(le.instance=mt(v,{values:{id:Te,store:ie},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:le.leafData,opGroup:zt,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root}))}return se("list update ["+n.shortName+"]"),pe.length===0&&(E.lastChild=null),I.records=pe,pe},target:u}),{pendingUpdate:h}},env:p}))}function op(e,r){if(r.length===0)return e;let t=[e[0]];for(let a=0;a<r.length;a++)t.push(r[a],e[a+1]);return t}function _r(e,...r){Array.isArray(e)?xe({text:op(e,r)}):xe({text:e})}let Re;Re=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let rn=new Map;const mr=[],ri=e=>{let r=rn.get(e);r||(r={calls:0,time:0,label:e,childTime:0},rn.set(e,r)),r.calls+=1,mr.push({bucket:r,pendingStart:Re()})},ti=e=>{let r=rn.get(e),t=mr.pop().pendingStart,a=Re()-t;r.time+=a,mr.length>0&&(mr[mr.length-1].bucket.childTime+=a)};let De,se;typeof performance<"u"&&performance.mark?(De=e=>{performance.mark("\u2604\uFE0F "+e+" start"),ri(e)},se=e=>{ti(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(De=e=>{ri(e)},se=e=>{ti(e)});let ps=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const ip={attr:us,data:ss,style:is,styleVar:os,classList:ls},he=(e,r)=>e.includes(r);let lp={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,a){var n,o;t.unshift(e.loader),t.push(e.upward),a&&(he(e.plain,a)||(he(e.closure,a)||e.closure.push(a),o={type:"closure",of:a},(n=r).before||(n.before=[]),n.before.push(o)))},storeMap(e,r,t){he(e.plain,r)||he(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){he(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){he(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,a){r.current?he(e.plain,t)||he(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),he(e.plain,a)||e.plain.push(a)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},sp=0,up=0,A=null,Je=null;const Cr=(e,r)=>e.reg[r.id];let ye=null;const cp=["LF","using","element","recItem","rec","block","blockItem","route"];let xt=w({named:"onMount"});xt.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const fp=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],ai={attr:us,data:ss,style:is,styleVar:os,classList:ls},Xr=e=>e.data.block.value;let gs={using(e){let r=e.data;be(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,be(r,{parentBlockFragment:t.block,leaf:e})},block(e){be(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){vs({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){be(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,be(r.listDraft,{parentBlockFragment:t,leaf:e})}};var hs={},vp=_l,dp=Rn,ys=Object.keys||function(r){return vp(r,dp)},pp=U,gp=El,hp=z,yp=V,mp=Oe,$p=ys;hs.f=pp&&!gp?Object.defineProperties:function(r,t){yp(r);for(var a=mp(t),n=$p(t),o=n.length,i=0,l;o>i;)hp.f(r,l=n[i++],a[l]);return r};var bp=nr,Sp=bp("document","documentElement"),Ip=V,xp=hs,ni=Rn,wp=Pt,Op=Sp,Ep=xn,Tp=Tn,oi=">",ii="<",tn="prototype",an="script",ms=Tp("IE_PROTO"),ya=function(){},$s=function(e){return ii+an+oi+e+ii+"/"+an+oi},li=function(e){e.write($s("")),e.close();var r=e.parentWindow.Object;return e=null,r},kp=function(){var e=Ep("iframe"),r="java"+an+":",t;return e.style.display="none",Op.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write($s("document.F=Object")),t.close(),t.F},Yr,ot=function(){try{Yr=new ActiveXObject("htmlfile")}catch{}ot=typeof document<"u"?document.domain&&Yr?li(Yr):kp():li(Yr);for(var e=ni.length;e--;)delete ot[tn][ni[e]];return ot()};wp[ms]=!0;var Bt=Object.create||function(r,t){var a;return r!==null?(ya[tn]=Ip(r),a=new ya,ya[tn]=null,a[ms]=r):a=ot(),t===void 0?a:xp.f(a,t)},Pp=D,Rp=Bt,Ap=z.f,nn=Pp("unscopables"),on=Array.prototype;on[nn]==null&&Ap(on,nn,{configurable:!0,value:Rp(null)});var qt=function(e){on[nn][e]=!0},Gr={},_p=k,Cp=!_p(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),jp=ve,Dp=F,Fp=Nr,Np=Tn,Lp=Cp,si=Np("IE_PROTO"),ln=Object,Mp=ln.prototype,bs=Lp?ln.getPrototypeOf:function(e){var r=Fp(e);if(jp(r,si))return r[si];var t=r.constructor;return Dp(t)&&r instanceof t?t.prototype:r instanceof ln?Mp:null},Bp=k,qp=F,ui=bs,Gp=Ae,Up=D,sn=Up("iterator"),Ss=!1,Ge,ma,$a;[].keys&&($a=[].keys(),"next"in $a?(ma=ui(ui($a)),ma!==Object.prototype&&(Ge=ma)):Ss=!0);var Kp=Ge==null||Bp(function(){var e={};return Ge[sn].call(e)!==e});Kp&&(Ge={});qp(Ge[sn])||Gp(Ge,sn,function(){return this});var Is={IteratorPrototype:Ge,BUGGY_SAFARI_ITERATORS:Ss},zp=z.f,Vp=ve,Wp=D,ci=Wp("toStringTag"),zn=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Vp(e,ci)&&zp(e,ci,{configurable:!0,value:r})},Hp=Is.IteratorPrototype,Xp=Bt,Yp=Et,Qp=zn,Jp=Gr,Zp=function(){return this},eg=function(e,r,t,a){var n=r+" Iterator";return e.prototype=Xp(Hp,{next:Yp(+!a,t)}),Qp(e,n,!1),Jp[n]=Zp,e},rg=F,tg=String,ag=TypeError,ng=function(e){if(typeof e=="object"||rg(e))return e;throw ag("Can't set "+tg(e)+" as a prototype")},og=T,ig=V,lg=ng,xs=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=og(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(n,o){return ig(n),lg(o),e?t(n,o):n.__proto__=o,n}}():void 0),sg=L,ug=oe,ws=On,cg=F,fg=eg,fi=bs,vi=xs,vg=zn,dg=or,ba=Ae,pg=D,gg=Gr,Os=Is,hg=ws.PROPER,yg=ws.CONFIGURABLE,di=Os.IteratorPrototype,Qr=Os.BUGGY_SAFARI_ITERATORS,fr=pg("iterator"),pi="keys",vr="values",gi="entries",mg=function(){return this},Vn=function(e,r,t,a,n,o,i){fg(t,r,a);var l=function(g){if(g===n&&v)return v;if(!Qr&&g in s)return s[g];switch(g){case pi:return function(){return new t(this,g)};case vr:return function(){return new t(this,g)};case gi:return function(){return new t(this,g)}}return function(){return new t(this)}},p=r+" Iterator",d=!1,s=e.prototype,f=s[fr]||s["@@iterator"]||n&&s[n],v=!Qr&&f||l(n),u=r=="Array"&&s.entries||f,c,$,h;if(u&&(c=fi(u.call(new e)),c!==Object.prototype&&c.next&&(fi(c)!==di&&(vi?vi(c,di):cg(c[fr])||ba(c,fr,mg)),vg(c,p,!0))),hg&&n==vr&&f&&f.name!==vr&&(yg?dg(s,"name",vr):(d=!0,v=function(){return ug(f,this)})),n)if($={values:l(vr),keys:o?v:l(pi),entries:l(gi)},i)for(h in $)(Qr||d||!(h in s))&&ba(s,h,$[h]);else sg({target:r,proto:!0,forced:Qr||d},$);return s[fr]!==v&&ba(s,fr,v,{name:n}),gg[r]=v,$},$g=Oe,Wn=qt,hi=Gr,Es=Lr,bg=z.f,Sg=Vn,Ig=U,Ts="Array Iterator",xg=Es.set,wg=Es.getterFor(Ts),Og=Sg(Array,"Array",function(e,r){xg(this,{type:Ts,target:$g(e),index:0,kind:r})},function(){var e=wg(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:a,done:!1}:t=="values"?{value:r[a],done:!1}:{value:[a,r[a]],done:!1}},"values"),yi=hi.Arguments=hi.Array;Wn("keys");Wn("values");Wn("entries");if(Ig&&yi.name!=="values")try{bg(yi,"name",{value:"values"})}catch{}var Hn={exports:{}},ks={},Eg=In,Tg=z,kg=Et,Xn=function(e,r,t){var a=Eg(r);a in e?Tg.f(e,a,kg(0,t)):e[a]=t},mi=At,Pg=Ke,Rg=Xn,Ag=Array,_g=Math.max,Ps=function(e,r,t){for(var a=Pg(e),n=mi(r,a),o=mi(t===void 0?a:t,a),i=Ag(_g(o-n,0)),l=0;n<o;n++,l++)Rg(i,l,e[n]);return i.length=l,i},Cg=Ue,jg=Oe,Rs=Rt.f,Dg=Ps,As=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Fg=function(e){try{return Rs(e)}catch{return Dg(As)}};ks.f=function(r){return As&&Cg(r)=="Window"?Fg(r):Rs(jg(r))};var Ng=k,Lg=Ng(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Mg=k,Bg=K,qg=Ue,$i=Lg,it=Object.isExtensible,Gg=Mg(function(){it(1)}),Ug=Gg||$i?function(r){return!Bg(r)||$i&&qg(r)=="ArrayBuffer"?!1:it?it(r):!0}:it,Kg=k,zg=!Kg(function(){return Object.isExtensible(Object.preventExtensions({}))}),Vg=L,Wg=T,Hg=Pt,Xg=K,Yn=ve,Yg=z.f,bi=Rt,Qg=ks,Qn=Ug,Jg=Sn,Zg=zg,_s=!1,we=Jg("meta"),eh=0,Jn=function(e){Yg(e,we,{value:{objectID:"O"+eh++,weakData:{}}})},rh=function(e,r){if(!Xg(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Yn(e,we)){if(!Qn(e))return"F";if(!r)return"E";Jn(e)}return e[we].objectID},th=function(e,r){if(!Yn(e,we)){if(!Qn(e))return!0;if(!r)return!1;Jn(e)}return e[we].weakData},ah=function(e){return Zg&&_s&&Qn(e)&&!Yn(e,we)&&Jn(e),e},nh=function(){oh.enable=function(){},_s=!0;var e=bi.f,r=Wg([].splice),t={};t[we]=1,e(t).length&&(bi.f=function(a){for(var n=e(a),o=0,i=n.length;o<i;o++)if(n[o]===we){r(n,o,1);break}return n},Vg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Qg.f}))},oh=Hn.exports={enable:nh,fastKey:rh,getWeakData:th,onFreeze:ah};Hg[we]=!0;var ih=D,lh=Gr,sh=ih("iterator"),uh=Array.prototype,ch=function(e){return e!==void 0&&(lh.Array===e||uh[sh]===e)},fh=_t,Si=Fr,vh=Gr,dh=D,ph=dh("iterator"),Cs=function(e){if(e!=null)return Si(e,ph)||Si(e,"@@iterator")||vh[fh(e)]},gh=oe,hh=mn,yh=V,mh=Tt,$h=Cs,bh=TypeError,Sh=function(e,r){var t=arguments.length<2?$h(e):r;if(hh(t))return yh(gh(t,e));throw bh(mh(e)+" is not iterable")},Ih=oe,Ii=V,xh=Fr,wh=function(e,r,t){var a,n;Ii(e);try{if(a=xh(e,"return"),!a){if(r==="throw")throw t;return t}a=Ih(a,e)}catch(o){n=!0,a=o}if(r==="throw")throw t;if(n)throw a;return Ii(a),t},Oh=An,Eh=oe,Th=V,kh=Tt,Ph=ch,Rh=Ke,xi=hn,Ah=Sh,_h=Cs,wi=wh,Ch=TypeError,lt=function(e,r){this.stopped=e,this.result=r},Oi=lt.prototype,js=function(e,r,t){var a=t&&t.that,n=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),p=Oh(r,a),d,s,f,v,u,c,$,h=function(y){return d&&wi(d,"normal",y),new lt(!0,y)},g=function(y){return n?(Th(y),l?p(y[0],y[1],h):p(y[0],y[1])):l?p(y,h):p(y)};if(o)d=e.iterator;else if(i)d=e;else{if(s=_h(e),!s)throw Ch(kh(e)+" is not iterable");if(Ph(s)){for(f=0,v=Rh(e);v>f;f++)if(u=g(e[f]),u&&xi(Oi,u))return u;return new lt(!1)}d=Ah(e,s)}for(c=o?e.next:d.next;!($=Eh(c,d)).done;){try{u=g($.value)}catch(y){wi(d,"throw",y)}if(typeof u=="object"&&u&&xi(Oi,u))return u}return new lt(!1)},jh=hn,Dh=TypeError,Ds=function(e,r){if(jh(r,e))return e;throw Dh("Incorrect invocation")},Fh=D,Fs=Fh("iterator"),Ns=!1;try{var Nh=0,Ei={next:function(){return{done:!!Nh++}},return:function(){Ns=!0}};Ei[Fs]=function(){return this},Array.from(Ei,function(){throw 2})}catch{}var Lh=function(e,r){if(!r&&!Ns)return!1;var t=!1;try{var a={};a[Fs]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t},Mh=F,Bh=K,Ti=xs,qh=function(e,r,t){var a,n;return Ti&&Mh(a=r.constructor)&&a!==t&&Bh(n=a.prototype)&&n!==t.prototype&&Ti(e,n),e},Gh=L,Uh=M,Kh=T,ki=jl,zh=Ae,Vh=Hn.exports,Wh=js,Hh=Ds,Xh=F,Sa=K,Ia=k,Yh=Lh,Qh=zn,Jh=qh,Zh=function(e,r,t){var a=e.indexOf("Map")!==-1,n=e.indexOf("Weak")!==-1,o=a?"set":"add",i=Uh[e],l=i&&i.prototype,p=i,d={},s=function(g){var y=Kh(l[g]);zh(l,g,g=="add"?function(b){return y(this,b===0?0:b),this}:g=="delete"?function(m){return n&&!Sa(m)?!1:y(this,m===0?0:m)}:g=="get"?function(b){return n&&!Sa(b)?void 0:y(this,b===0?0:b)}:g=="has"?function(b){return n&&!Sa(b)?!1:y(this,b===0?0:b)}:function(b,S){return y(this,b===0?0:b,S),this})},f=ki(e,!Xh(i)||!(n||l.forEach&&!Ia(function(){new i().entries().next()})));if(f)p=t.getConstructor(r,e,a,o),Vh.enable();else if(ki(e,!0)){var v=new p,u=v[o](n?{}:-0,1)!=v,c=Ia(function(){v.has(1)}),$=Yh(function(g){new i(g)}),h=!n&&Ia(function(){for(var g=new i,y=5;y--;)g[o](y,y);return!g.has(-0)});$||(p=r(function(g,y){Hh(g,l);var m=Jh(new i,g,p);return y!=null&&Wh(y,m[o],{that:m,AS_ENTRIES:a}),m}),p.prototype=l,l.constructor=p),(c||h)&&(s("delete"),s("has"),a&&s("get")),(h||u)&&s(o),n&&l.clear&&delete l.clear}return d[e]=p,Gh({global:!0,constructor:!0,forced:p!=i},d),Qh(p,e),n||t.setStrong(p,e,a),p},ey=Ae,ry=function(e,r,t){for(var a in r)ey(e,a,r[a],t);return e},ty=nr,ay=z,ny=D,oy=U,Pi=ny("species"),iy=function(e){var r=ty(e),t=ay.f;oy&&r&&!r[Pi]&&t(r,Pi,{configurable:!0,get:function(){return this}})},ly=z.f,sy=Bt,Ri=ry,uy=An,cy=Ds,fy=js,vy=Vn,dy=iy,dr=U,Ai=Hn.exports.fastKey,Ls=Lr,_i=Ls.set,xa=Ls.getterFor,py={getConstructor:function(e,r,t,a){var n=e(function(d,s){cy(d,o),_i(d,{type:r,index:sy(null),first:void 0,last:void 0,size:0}),dr||(d.size=0),s!=null&&fy(s,d[a],{that:d,AS_ENTRIES:t})}),o=n.prototype,i=xa(r),l=function(d,s,f){var v=i(d),u=p(d,s),c,$;return u?u.value=f:(v.last=u={index:$=Ai(s,!0),key:s,value:f,previous:c=v.last,next:void 0,removed:!1},v.first||(v.first=u),c&&(c.next=u),dr?v.size++:d.size++,$!=="F"&&(v.index[$]=u)),d},p=function(d,s){var f=i(d),v=Ai(s),u;if(v!=="F")return f.index[v];for(u=f.first;u;u=u.next)if(u.key==s)return u};return Ri(o,{clear:function(){for(var s=this,f=i(s),v=f.index,u=f.first;u;)u.removed=!0,u.previous&&(u.previous=u.previous.next=void 0),delete v[u.index],u=u.next;f.first=f.last=void 0,dr?f.size=0:s.size=0},delete:function(d){var s=this,f=i(s),v=p(s,d);if(v){var u=v.next,c=v.previous;delete f.index[v.index],v.removed=!0,c&&(c.next=u),u&&(u.previous=c),f.first==v&&(f.first=u),f.last==v&&(f.last=c),dr?f.size--:s.size--}return!!v},forEach:function(s){for(var f=i(this),v=uy(s,arguments.length>1?arguments[1]:void 0),u;u=u?u.next:f.first;)for(v(u.value,u.key,this);u&&u.removed;)u=u.previous},has:function(s){return!!p(this,s)}}),Ri(o,t?{get:function(s){var f=p(this,s);return f&&f.value},set:function(s,f){return l(this,s===0?0:s,f)}}:{add:function(s){return l(this,s=s===0?0:s,s)}}),dr&&ly(o,"size",{get:function(){return i(this).size}}),n},setStrong:function(e,r,t){var a=r+" Iterator",n=xa(r),o=xa(a);vy(e,r,function(i,l){_i(this,{type:a,target:i,state:n(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,p=i.last;p&&p.removed;)p=p.previous;return!i.target||!(i.last=p=p?p.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:p.key,done:!1}:l=="values"?{value:p.value,done:!1}:{value:[p.key,p.value],done:!1}},t?"entries":"values",!t,!0),dy(r)}},gy=Zh,hy=py;gy("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},hy);var yy=Cn,my=_t,$y=yy?{}.toString:function(){return"[object "+my(this)+"]"},by=Cn,Sy=Ae,Iy=$y;by||Sy(Object.prototype,"toString",Iy,{unsafe:!0});var xy=_t,wy=String,lr=function(e){if(xy(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return wy(e)},Zn=T,Oy=kn,Ey=lr,Ty=ar,ky=Zn("".charAt),Ci=Zn("".charCodeAt),Py=Zn("".slice),ji=function(e){return function(r,t){var a=Ey(Ty(r)),n=Oy(t),o=a.length,i,l;return n<0||n>=o?e?"":void 0:(i=Ci(a,n),i<55296||i>56319||n+1===o||(l=Ci(a,n+1))<56320||l>57343?e?ky(a,n):i:e?Py(a,n,n+2):(i-55296<<10)+(l-56320)+65536)}},Ms={codeAt:ji(!1),charAt:ji(!0)},Ry=Ms.charAt,Ay=lr,Bs=Lr,_y=Vn,qs="String Iterator",Cy=Bs.set,jy=Bs.getterFor(qs);_y(String,"String",function(e){Cy(this,{type:qs,string:Ay(e),index:0})},function(){var r=jy(this),t=r.string,a=r.index,n;return a>=t.length?{value:void 0,done:!0}:(n=Ry(t,a),r.index+=n.length,{value:n,done:!1})});var Gs={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Dy=xn,wa=Dy("span").classList,Di=wa&&wa.constructor&&wa.constructor.prototype,Us=Di===Object.prototype?void 0:Di,Fi=M,Ks=Gs,Fy=Us,$r=Og,Oa=or,zs=D,Ea=zs("iterator"),Ni=zs("toStringTag"),Ta=$r.values,Vs=function(e,r){if(e){if(e[Ea]!==Ta)try{Oa(e,Ea,Ta)}catch{e[Ea]=Ta}if(e[Ni]||Oa(e,Ni,r),Ks[r]){for(var t in $r)if(e[t]!==$r[t])try{Oa(e,t,$r[t])}catch{e[t]=$r[t]}}}};for(var ka in Ks)Vs(Fi[ka]&&Fi[ka].prototype,ka);Vs(Fy,"DOMTokenList");var Ny=k,Ws=function(e,r){var t=[][e];return!!t&&Ny(function(){t.call(null,r||function(){return 1},1)})},Ly=Ct.forEach,My=Ws,By=My("forEach"),Hs=By?[].forEach:function(r){return Ly(this,r,arguments.length>1?arguments[1]:void 0)},qy=L,Li=Hs;qy({target:"Array",proto:!0,forced:[].forEach!=Li},{forEach:Li});var Mi=M,Bi=Gs,Gy=Us,Pa=Hs,Uy=or,Xs=function(e){if(e&&e.forEach!==Pa)try{Uy(e,"forEach",Pa)}catch{e.forEach=Pa}};for(var Ra in Bi)Bi[Ra]&&Xs(Mi[Ra]&&Mi[Ra].prototype);Xs(Gy);var Ky=L,zy=T,Ys=Date,Vy=zy(Ys.prototype.getTime);Ky({target:"Date",stat:!0},{now:function(){return Vy(new Ys)}});var Qs=T,Wy=Ae,eo=Date.prototype,qi="Invalid Date",Js="toString",Hy=Qs(eo[Js]),Xy=Qs(eo.getTime);String(new Date(NaN))!=qi&&Wy(eo,Js,function(){var r=Xy(this);return r===r?Hy(this):qi});function Yy(e){var{timeout:r,start:t,stop:a,leading:n=!1,trailing:o=!1}=e,i=w({name:"tick",sid:"uo9p3s"}),l=j(!1,{name:"$isRunning",sid:"-wxesi8"}),p=Qy(r),d=l.map(h=>!h),s=w({name:"saveTimeout",sid:"as5clk"}),f=j(null,{name:"$timeoutId",sid:"-bh90bo"}).on(s,(h,g)=>g),v=w({name:"saveReject",sid:"-64swis"}),u=j(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(v,(h,g)=>g),c=Fn(h=>new Promise((g,y)=>{var m=setTimeout(g,h);s(m),v(y)}),{name:"timeoutFx",sid:"7lc3mj"}),$=_d({and:{source:[f,u],effect:h=>{var[g,y]=h;y(),g&&clearTimeout(g)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return sa({and:[{clock:t,source:p,filter:d,target:c}],or:{sid:"-w5qmwp"}}),n&&sa({and:[{clock:t,filter:d,target:i}],or:{sid:"-vpslni"}}),C({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),sa({and:[{clock:c.done,source:p,filter:l,target:c}],or:{sid:"-v73liy"}}),C({and:[{clock:c.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),a&&(o&&C({and:[{clock:a,target:i}],or:{sid:"-uanqf7"}}),l.on(a,()=>!1),C({and:[{clock:a,target:$}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function Qy(e){if(W.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return j(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var Jy=U,Zs=T,Zy=ys,em=Oe,rm=pn.f,tm=Zs(rm),am=Zs([].push),Gi=function(e){return function(r){for(var t=em(r),a=Zy(t),n=a.length,o=0,i=[],l;n>o;)l=a[o++],(!Jy||tm(t,l))&&am(i,e?[l,t[l]]:t[l]);return i}},nm={entries:Gi(!0),values:Gi(!1)},om=L,im=nm.entries;om({target:"Object",stat:!0},{entries:function(r){return im(r)}});var lm=TypeError,sm=9007199254740991,um=function(e){if(e>sm)throw lm("Maximum allowed index exceeded");return e},cm=L,fm=k,vm=_n,dm=K,pm=Nr,gm=Ke,Ui=um,Ki=Xn,hm=Bl,ym=jt,mm=D,$m=yn,eu=mm("isConcatSpreadable"),bm=$m>=51||!fm(function(){var e=[];return e[eu]=!1,e.concat()[0]!==e}),Sm=ym("concat"),Im=function(e){if(!dm(e))return!1;var r=e[eu];return r!==void 0?!!r:vm(e)},xm=!bm||!Sm;cm({target:"Array",proto:!0,arity:1,forced:xm},{concat:function(r){var t=pm(this),a=hm(t,0),n=0,o,i,l,p,d;for(o=-1,l=arguments.length;o<l;o++)if(d=o===-1?t:arguments[o],Im(d))for(p=gm(d),Ui(n+p),i=0;i<p;i++,n++)i in d&&Ki(a,n,d[i]);else Ui(n+1),Ki(a,n++,d);return a.length=n,a}});var wm=V,Om=function(){var e=wm(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},ro=k,Em=M,to=Em.RegExp,ao=ro(function(){var e=to("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Tm=ao||ro(function(){return!to("a","y").sticky}),km=ao||ro(function(){var e=to("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),ru={BROKEN_CARET:km,MISSED_STICKY:Tm,UNSUPPORTED_Y:ao},Pm=k,Rm=M,Am=Rm.RegExp,_m=Pm(function(){var e=Am(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Cm=k,jm=M,Dm=jm.RegExp,Fm=Cm(function(){var e=Dm("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Qe=oe,Gt=T,Nm=lr,Lm=Om,Mm=ru,Bm=kt.exports,qm=Bt,Gm=Lr.get,Um=_m,Km=Fm,zm=Bm("native-string-replace",String.prototype.replace),wt=RegExp.prototype.exec,un=wt,Vm=Gt("".charAt),Wm=Gt("".indexOf),Hm=Gt("".replace),Aa=Gt("".slice),cn=function(){var e=/a/,r=/b*/g;return Qe(wt,e,"a"),Qe(wt,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),tu=Mm.BROKEN_CARET,fn=/()??/.exec("")[1]!==void 0,Xm=cn||fn||tu||Um||Km;Xm&&(un=function(r){var t=this,a=Gm(t),n=Nm(r),o=a.raw,i,l,p,d,s,f,v;if(o)return o.lastIndex=t.lastIndex,i=Qe(un,o,n),t.lastIndex=o.lastIndex,i;var u=a.groups,c=tu&&t.sticky,$=Qe(Lm,t),h=t.source,g=0,y=n;if(c&&($=Hm($,"y",""),Wm($,"g")===-1&&($+="g"),y=Aa(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&Vm(n,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",y=" "+y,g++),l=new RegExp("^(?:"+h+")",$)),fn&&(l=new RegExp("^"+h+"$(?!\\s)",$)),cn&&(p=t.lastIndex),d=Qe(wt,c?l:t,y),c?d?(d.input=Aa(d.input,g),d[0]=Aa(d[0],g),d.index=t.lastIndex,t.lastIndex+=d[0].length):t.lastIndex=0:cn&&d&&(t.lastIndex=t.global?d.index+d[0].length:p),fn&&d&&d.length>1&&Qe(zm,d[0],l,function(){for(s=1;s<arguments.length-2;s++)arguments[s]===void 0&&(d[s]=void 0)}),d&&u)for(d.groups=f=qm(null),s=0;s<u.length;s++)v=u[s],f[v[0]]=d[v[1]];return d});var Ut=un,Ym=L,zi=Ut;Ym({target:"RegExp",proto:!0,forced:/./.exec!==zi},{exec:zi});var Qm=Ot,au=Function.prototype,Vi=au.apply,Wi=au.call,Jm=typeof Reflect=="object"&&Reflect.apply||(Qm?Wi.bind(Vi):function(){return Wi.apply(Vi,arguments)}),Hi=T,Xi=Ae,Zm=Ut,Yi=k,nu=D,e$=or,r$=nu("species"),_a=RegExp.prototype,ou=function(e,r,t,a){var n=nu(e),o=!Yi(function(){var d={};return d[n]=function(){return 7},""[e](d)!=7}),i=o&&!Yi(function(){var d=!1,s=/a/;return e==="split"&&(s={},s.constructor={},s.constructor[r$]=function(){return s},s.flags="",s[n]=/./[n]),s.exec=function(){return d=!0,null},s[n](""),!d});if(!o||!i||t){var l=Hi(/./[n]),p=r(n,""[e],function(d,s,f,v,u){var c=Hi(d),$=s.exec;return $===Zm||$===_a.exec?o&&!u?{done:!0,value:l(s,f,v)}:{done:!0,value:c(f,s,v)}:{done:!1}});Xi(String.prototype,e,p[0]),Xi(_a,n,p[1])}a&&e$(_a[n],"sham",!0)},t$=K,a$=Ue,n$=D,o$=n$("match"),iu=function(e){var r;return t$(e)&&((r=e[o$])!==void 0?!!r:a$(e)=="RegExp")},i$=Dn,l$=Tt,s$=TypeError,u$=function(e){if(i$(e))return e;throw s$(l$(e)+" is not a constructor")},Qi=V,c$=u$,f$=D,v$=f$("species"),d$=function(e,r){var t=Qi(e).constructor,a;return t===void 0||(a=Qi(t)[v$])==null?r:c$(a)},p$=Ms.charAt,lu=function(e,r,t){return r+(t?p$(e,r).length:1)},Ji=oe,g$=V,h$=F,y$=Ue,m$=Ut,$$=TypeError,su=function(e,r){var t=e.exec;if(h$(t)){var a=Ji(t,e,r);return a!==null&&g$(a),a}if(y$(e)==="RegExp")return Ji(m$,e,r);throw $$("RegExp#exec called on incompatible receiver")},b$=Jm,pr=oe,no=T,S$=ou,I$=iu,x$=V,Zi=ar,w$=d$,O$=lu,E$=Pn,Ca=lr,T$=Fr,el=Ps,rl=su,k$=Ut,P$=ru,R$=k,He=P$.UNSUPPORTED_Y,tl=4294967295,A$=Math.min,uu=[].push,_$=no(/./.exec),Xe=no(uu),gr=no("".slice),C$=!R$(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});S$("split",function(e,r,t){var a;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?a=function(n,o){var i=Ca(Zi(this)),l=o===void 0?tl:o>>>0;if(l===0)return[];if(n===void 0)return[i];if(!I$(n))return pr(r,i,n,l);for(var p=[],d=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),s=0,f=new RegExp(n.source,d+"g"),v,u,c;(v=pr(k$,f,i))&&(u=f.lastIndex,!(u>s&&(Xe(p,gr(i,s,v.index)),v.length>1&&v.index<i.length&&b$(uu,p,el(v,1)),c=v[0].length,s=u,p.length>=l)));)f.lastIndex===v.index&&f.lastIndex++;return s===i.length?(c||!_$(f,""))&&Xe(p,""):Xe(p,gr(i,s)),p.length>l?el(p,0,l):p}:"0".split(void 0,0).length?a=function(n,o){return n===void 0&&o===0?[]:pr(r,this,n,o)}:a=r,[function(o,i){var l=Zi(this),p=o==null?void 0:T$(o,e);return p?pr(p,o,l,i):pr(a,Ca(l),o,i)},function(n,o){var i=x$(this),l=Ca(n),p=t(a,i,l,o,a!==r);if(p.done)return p.value;var d=w$(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(He?"g":"y"),v=new d(He?"^(?:"+i.source+")":i,f),u=o===void 0?tl:o>>>0;if(u===0)return[];if(l.length===0)return rl(v,l)===null?[l]:[];for(var c=0,$=0,h=[];$<l.length;){v.lastIndex=He?0:$;var g=rl(v,He?gr(l,$):l),y;if(g===null||(y=A$(E$(v.lastIndex+(He?$:0)),l.length))===c)$=O$(l,$,s);else{if(Xe(h,gr(l,c,$)),h.length===u)return h;for(var m=1;m<=g.length-1;m++)if(Xe(h,g[m]),h.length===u)return h;$=c=y}}return Xe(h,gr(l,c)),h}]},!C$,He);var j$=L,D$=Al.includes,F$=k,N$=qt,L$=F$(function(){return!Array(1).includes()});j$({target:"Array",proto:!0,forced:L$},{includes:function(r){return D$(this,r,arguments.length>1?arguments[1]:void 0)}});N$("includes");var M$=iu,B$=TypeError,q$=function(e){if(M$(e))throw B$("The method doesn't accept regular expressions");return e},G$=D,U$=G$("match"),K$=function(e){var r=/./;try{"/./"[e](r)}catch{try{return r[U$]=!1,"/./"[e](r)}catch{}}return!1},z$=L,V$=T,W$=q$,H$=ar,al=lr,X$=K$,Y$=V$("".indexOf);z$({target:"String",proto:!0,forced:!X$("includes")},{includes:function(r){return!!~Y$(al(H$(this)),al(W$(r)),arguments.length>1?arguments[1]:void 0)}});var Q$=L,J$=T,Z$=gn,eb=Oe,rb=Ws,tb=J$([].join),ab=Z$!=Object,nb=rb("join",",");Q$({target:"Array",proto:!0,forced:ab||!nb},{join:function(r){return tb(eb(this),r===void 0?",":r)}});var ob=T,ib=ob([].slice),lb=L,nl=_n,sb=Dn,ub=K,ol=At,cb=Ke,fb=Oe,vb=Xn,db=D,pb=jt,gb=ib,hb=pb("slice"),yb=db("species"),ja=Array,mb=Math.max;lb({target:"Array",proto:!0,forced:!hb},{slice:function(r,t){var a=fb(this),n=cb(a),o=ol(r,n),i=ol(t===void 0?n:t,n),l,p,d;if(nl(a)&&(l=a.constructor,sb(l)&&(l===ja||nl(l.prototype))?l=void 0:ub(l)&&(l=l[yb],l===null&&(l=void 0)),l===ja||l===void 0))return gb(a,o,i);for(p=new(l===void 0?ja:l)(mb(i-o,0)),d=0;o<i;o++,d++)o in a&&vb(p,d,a[o]);return p.length=d,p}});var $b=Nr,il=At,bb=Ke,Sb=function(r){for(var t=$b(this),a=bb(t),n=arguments.length,o=il(n>1?arguments[1]:void 0,a),i=n>2?arguments[2]:void 0,l=i===void 0?a:il(i,a);l>o;)t[o++]=r;return t},Ib=L,xb=Sb,wb=qt;Ib({target:"Array",proto:!0},{fill:xb});wb("fill");function ll(e){var r=new Map,t=new Map;return e.forEach(function(a,n){Ob(t,n,a)}),t.forEach(function(a,n){var o=ct(a,2),i=o[0],l=o[1],p=e.get(n)||0;p&&i+l<2||p&&i+l>3||(!p&&i+l==3?r.set(n,i>l?1:2):p&&r.set(n,p))}),r}function Ob(e,r,t){var a=cu(r),n=ct(a,2),o=n[0],i=n[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(p){e.has(p)||e.set(p,[0,0]);var d=e.get(p),s=ct(d,2),f=s[0],v=s[1];t===1?e.set(p,[f+1,v]):e.set(p,[f,v+1])}),e}function cu(e){var r=e.split("|");return[+r[0],+r[1]]}function fu(e){var r=ct(e,2),t=r[0],a=r[1];return"".concat(t,"|").concat(a)}function vu(e){if(e.target&&e.target.dataset&&e.target.dataset.row&&e.target.dataset.col)return{row:+e.target.dataset.row,col:+e.target.dataset.col,shift:e.shiftKey}}function Eb(e){var r=null,t=null,a=e.map(function(n,o){var i=n.includes(1)||n.includes(2);return r===null&&i&&(r=o),i&&(t=o),n.map(function(l){return+l}).join("")});return r===null||t===null?"":a.slice(r,t+1).join(`
`)}function Tb(e){localStorage.setItem("history",JSON.stringify(e))}function kb(){try{return JSON.parse(localStorage.getItem("history")||null)||null}catch(e){return console.error(e),null}}function Pb(e,r){return Array(r).fill(0).map(function(){return Array(e).fill(0)})}var Rb=50,Ab=80,oo=j({height:50,width:80},{name:"$fieldSize",sid:"-r4z5lt"}),_b=new Map,jr=j(_b,{name:"$fauna",sid:"ytpy9b"}),Dr=j({x:-Math.ceil(Ab/2),y:-Math.ceil(Rb/2)},{name:"$focus",sid:"u03g6b"}),br=w({name:"moveFocus",sid:"vmk6y4"}),du=w({name:"resetFocus",sid:"-x40l5k"}),Tr=j(1,{name:"$selectedColor",sid:"-sq5zfx"}),st=w({name:"colorSelected",sid:"hr9j66"});Tr.on(st,function(e,r){return r});var io=w({name:"toggleCell",sid:"-539w8u"}),lo=w({name:"gameTick",sid:"5qn1re"}),pu=w({name:"saveClicked",sid:"-s7ippx"}),gu=w({name:"reset",sid:"mhk3cb"}),hu=w({name:"makeNSteps",sid:"-r63n8z"}),so=w({name:"startTimer",sid:"ae4018"}),yu=w({name:"stopTimer",sid:"-2alayc"}),mu=Nd({sid:"-t4p0s3",fn:function(){return Yy({timeout:50,start:so,stop:yu})},name:"timer",method:"interval"}),ut={start:so,stop:yu,isRunning:mu.isRunning},$u=w({name:"cellHovered",sid:"-v63m08"}),uo=Ft({and:[oo,jr,Dr,function(e,r,t){var a=e.width,n=e.height,o=Pb(a,n);return r.forEach(function(i,l){var p=cu(l),d=p[0]+a/2+t.x,s=p[1]+n/2+t.y;d>=0&&d<a&&s>=0&&s<n&&(o[s][d]=i)}),o}],or:{name:"$field",sid:"ed656n"}});jr.on(lo,function(e){return ll(e)}).on(hu,function(e,r){for(var t=e,a=1;a<=r;a++)t=ll(t);return t}).on(gu,function(){return new Map});Dr.on(br,function(e,r){return{x:e.x+(r.x||0),y:e.y+(r.y||0)}}).reset(du);C({and:[{clock:[mu.tick,so],target:lo}],or:{sid:"crusia"}});C({and:[{clock:$u.filterMap(function(e){if(e.shiftKey)return vu(e)}),target:io}],or:{sid:"d5lncb"}});C({and:[{source:{fauna:jr,color:Tr,size:oo,focus:Dr},clock:io,fn:function(r,t){var a=r.color,n=r.fauna,o=r.focus,i=r.size,l=t.col,p=t.row,d=t.shift,s=new Map(n),f=l-i.width/2-o.x,v=p-i.height/2-o.y,u=fu([f,v]);return d?s.set(u,a):s.get(u)===a?s.delete(u):s.set(u,a),s},target:jr}],or:{sid:"dljojs"}});var bu="#5583e5",Su="#79e555";const Cb="_field_aqx38_1",jb="_cell_aqx38_9",Db="_on1_aqx38_19",Fb="_on2_aqx38_22",Nb="_roundCell_aqx38_26",Lb="_history_aqx38_30",Mb="_colorBtn_aqx38_36",Bb="_currentColor_aqx38_43",Z={field:Cb,cell:jb,on1:Db,on2:Fb,roundCell:Nb,history:Lb,colorBtn:Mb,currentColor:Bb};function qb(){O("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,a;O("button",{classList:(r={},me(r,Z.colorBtn,!0),me(r,Z.currentColor,Tr.map(function(n){return n===1})),r),style:{backgroundColor:bu},handler:{click:st.prepend(function(){return 1})}}),O("button",{classList:(t={},me(t,Z.colorBtn,!0),me(t,Z.currentColor,Tr.map(function(n){return n===2})),t),style:{backgroundColor:Su},handler:{click:st.prepend(function(){return 2})}}),O("button",{classList:(a={},me(a,Z.colorBtn,!0),me(a,Z.currentColor,Tr.map(function(n){return!n})),a),handler:{click:st.prepend(function(){return 0})}})}})}var sl,ul;function Gb(){O("p",function(){xe({style:{display:"flex",gap:"8px"}}),_r(sl||(sl=kr(["Move: "])));var r=br.prepend(function(){return{x:5}}),t=br.prepend(function(){return{x:-5}}),a=br.prepend(function(){return{y:5}}),n=br.prepend(function(){return{y:-5}});O("button",{text:"<-",handler:{click:r}}),O("button",{text:"^",handler:{click:a}}),O("button",{text:"v",handler:{click:n}}),O("button",{text:"->",handler:{click:t}}),_r(ul||(ul=kr(["(",", ",")"])),Dr.map(function(o){var i=o.x;return i}),Dr.map(function(o){var i=o.y;return i})),O("button",{text:"reset focus",handler:{click:du}})});var e=w({name:"rawClicked",sid:"jwvj2v"});C({and:[{clock:e.filterMap(vu),target:io}],or:{sid:"-ver34e"}}),O("div",{classList:[Z.field],styleVar:{width:oo.map(function(r){return r.width}),color1:bu,color2:Su},handler:{click:e},fn:function(){en(uo,function(t){var a=t.store,n=t.key;en(a,function(o){var i,l=o.store,p=o.key;O("div",{data:{row:n,col:p},handler:{mouseover:$u},classList:(i={},me(i,Z.cell,!0),me(i,Z.on1,l.map(function(d){return d===1})),me(i,Z.on2,l.map(function(d){return d===2})),i)})})})}})}var Ub=U,Kb=On.EXISTS,Iu=T,zb=z.f,xu=Function.prototype,Vb=Iu(xu.toString),wu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Wb=Iu(wu.exec),Hb="name";Ub&&!Kb&&zb(xu,Hb,{configurable:!0,get:function(){try{return Wb(wu,Vb(this))[1]}catch{return""}}});var Xb=oe,Yb=ou,Qb=V,Jb=Pn,Da=lr,Zb=ar,e1=Fr,r1=lu,cl=su;Yb("match",function(e,r,t){return[function(n){var o=Zb(this),i=n==null?void 0:e1(n,e);return i?Xb(i,n,o):new RegExp(n)[e](Da(o))},function(a){var n=Qb(this),o=Da(a),i=t(r,n,o);if(i.done)return i.value;if(!n.global)return cl(n,o);var l=n.unicode;n.lastIndex=0;for(var p=[],d=0,s;(s=cl(n,o))!==null;){var f=Da(s[0]);p[d]=f,f===""&&(n.lastIndex=r1(o,Jb(n.lastIndex),l)),d++}return d===0?null:p}]});var t1=L,a1=Ct.filter,n1=jt,o1=n1("filter");t1({target:"Array",proto:!0,forced:!o1},{filter:function(r){return a1(this,r,arguments.length>1?arguments[1]:void 0)}});var Kt=j(kb()||[],{name:"$history",sid:"8vj2mw"}),Ou=w({name:"addToHistory",sid:"-6p9jgl"}),Eu=w({name:"removeFromHistory",sid:"iwl8tq"}),co=w({name:"historySelected",sid:"bspsag"});Kt.on(Ou,function(e,r){var t,a=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",n=a.match(/(\d+)/),o=n&&+n[1]||0;return[].concat(Au(e),[{field:r,name:"save #".concat(o+1)}])}).on(Eu,function(e,r){});C({and:[{source:Kt,target:Fn(function(e){Tb(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var fl,vl;function i1(){O("div",{classList:[Z.history],fn:function(){O("p",{text:"History: ",style:{margin:"0"}}),en(Kt,function(r){var t=r.store,a=w({name:"rawClick",sid:"-qzwzqm"}),n=w({name:"rawRemoveClick",sid:"-udpnvy"});C({and:[{clock:a,source:t.map(function(o){return o.name}),target:co}],or:{sid:"fank5r"}}),C({and:[{clock:n,source:t.map(function(o){return o.name}),target:Eu}],or:{sid:"fdej4k"}}),O("div",function(){O("button",function(){xe({handler:{click:a}}),_r(fl||(fl=kr(["",""])),t.map(function(o){return o.name}))}),O("button",function(){xe({handler:{click:n}}),_r(vl||(vl=kr(["x"])))})})}),O("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:pu}})}})}var Tu=j("",{name:"$exported",sid:"-eko3nz"}),ku=w({name:"exportClicked",sid:"ve9igg"}),l1=L,s1=Ct.find,u1=qt,vn="find",Pu=!0;vn in[]&&Array(1)[vn](function(){Pu=!1});l1({target:"Array",proto:!0,forced:Pu},{find:function(r){return s1(this,r,arguments.length>1?arguments[1]:void 0)}});u1(vn);C({and:[{source:uo,clock:pu,target:Ou}],or:{sid:"-32twmo"}});C({and:[{source:Kt,clock:co,fn:function(r,t){var a=r.find(function(o){return o.name===t}).field,n=new Map;return a.forEach(function(o,i){o.forEach(function(l,p){l&&n.set(fu([p,i]),l)})}),n},target:jr}],or:{sid:"-qowvko"}});C({and:[{clock:co,target:ut.stop}],or:{sid:"-q40p0y"}});C({and:[{source:uo,clock:ku,fn:Eb,target:Tu}],or:{sid:"-q3gwfl"}});var dl;function c1(){O("div",function(){xe({style:{margin:"40px auto",maxWidth:"900px",border:"2px solid lightblue",padding:"16px"}}),O("h1",{text:"Game of Life"}),i1(),qb(),O("p",function(){xe({style:{display:"flex",gap:"8px"}}),O("button",{text:"Step",handler:{click:lo}}),O("button",{text:"100 steps",handler:{click:hu.prepend(function(){return 100})}}),_r(dl||(dl=kr([" timer: "," "])),ut.isRunning.map(function(e){return e?"on":"off"})),O("button",{text:"Start",handler:{click:ut.start}}),O("button",{text:"Stop",handler:{click:ut.stop}})}),Gb(),O("button",{text:"Reset",handler:{click:gu}}),O("hr",{}),O("button",{text:"Export",handler:{click:ku}}),O("br",{}),O("textarea",{style:{fontSize:"8px",width:"100%",height:"100px",lineHeight:1},text:Tu})})}tp(document.querySelector("#app"),c1);
