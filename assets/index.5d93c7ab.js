const Ku=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}};Ku();function At(e,r){for(let t in e)r(e[t],t)}function U(e,r){e.forEach(r)}function X(e,r){if(!e)throw Error(r)}function Jn(e,r){G={parent:G,value:e,template:N(e,"template")||vr(),sidRoot:N(e,"sidRoot")||G&&G.sidRoot};try{return r()}finally{G=pe(G)}}function ke({node:e=[],from:r,source:t,parent:n=r||t,to:a,target:o,child:i=a||o,scope:l={},meta:g={},family:p={type:"regular"},regional:u}={}){let v=wr(n),f=wr(p.links),s=wr(p.owners),c=[];U(e,h=>h&&Ie(c,h));let y={id:Qu(),seq:c,next:wr(i),meta:g,scope:l,family:{type:p.type||"crosslink",links:f,owners:s}};return U(f,h=>Ie(jt(h),y)),U(s,h=>Ie(Ft(h),y)),U(v,h=>Ie(h.next,y)),u&&G&&lr(Tr(G),[y]),y}function R(e,r,t){let n=ve,a=null,o=_;if(e.target&&(r=e.params,t=e.defer,n="page"in e?e.page:n,e.stack&&(a=e.stack),o=Se(e)||o,e=e.target),o&&_&&o!==_&&(_=null),Array.isArray(e))for(let s=0;s<e.length;s++)je("pure",n,Y(e[s]),a,r[s],o);else je("pure",n,Y(e),a,r,o);if(t&&!Hr)return;let i,l,g,p,u,v,f={isRoot:Hr,currentPage:ve,scope:_,isWatch:at,isPure:ot};Hr=0;e:for(;p=tc();){let{idx:s,stack:c,type:y}=p;g=c.node,ve=u=c.page,_=Se(c),u?v=u.reg:_&&(v=_.reg);let h=!!u,d=!!_,m={fail:0,scope:g.scope};i=l=0;for(let b=s;b<g.seq.length&&!i;b++){let $=g.seq[b];if($.order){let{priority:S,barrierID:x}=$.order,I=x?u?`${u.fullID}_${x}`:x:0;if(b!==s||y!==S){x?sn.has(I)||(sn.add(I),ra(b,c,S,x)):ra(b,c,S);continue e}x&&sn.delete(I)}switch($.type){case"mov":{let x,I=$.data;switch(I.from){case Me:x=Tr(c);break;case"a":case"b":x=c[I.from];break;case"value":x=I.store;break;case"store":if(v&&!v[I.store.id])if(h){let E=Nl(u,I.store.id);c.page=u=E,E?v=E.reg:d?(ur(_,I.store,0,1,I.softRead),v=_.reg):v=void 0}else d&&ur(_,I.store,0,1,I.softRead);x=Pr(v&&v[I.store.id]||I.store)}switch(I.to){case Me:c.value=x;break;case"a":case"b":c[I.to]=x;break;case"store":ac(u,_,g,I.target).current=x}break}case"compute":let S=$.data;if(S.fn){at=N(g,"op")==="watch",ot=S.pure;let x=S.safe?(0,S.fn)(Tr(c),m.scope,c):oc(m,S.fn,c);S.filter?l=!x:c.value=x,at=f.isWatch,ot=f.isPure}}i=m.fail||l}if(!i){let b=Tr(c);U(g.next,S=>{je("child",u,S,c,b,Se(c))});let $=Se(c);if($){N(g,"needFxCounter")&&je("child",u,$.fxCount,c,b,$),N(g,"storeChange")&&je("child",u,$.storeChange,c,b,$),N(g,"warnSerialize")&&je("child",u,$.warnSerializeNode,c,b,$);let S=$.additionalLinks[g.id];S&&U(S,x=>{je("child",u,x,c,b,$)})}}}Hr=f.isRoot,ve=f.currentPage,_=Se(f)}function Tl(e,r="combine"){let t=r+"(",n="",a=0;return At(e,o=>{a<25&&(o!=null&&(t+=n,t+=Be(o)?Ta(o).fullName:o.toString()),a+=1,n=", ")}),t+")"}function Pl(e,r){let t,n,a=e;if(r){let o=Ta(r);e.length===0?(t=o.path,n=o.fullName):(t=o.path.concat([e]),n=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],n=e;return{shortName:a,fullName:n,path:t}}function Br(e,r){let t=r?e:e[0];Fl(t);let n=t.or,a=t.and;if(a){let o=r?a:a[0];if(ge(o)&&"and"in o){let i=Br(a,r);e=i[0],n={...n,...i[1]}}else e=a}return[e,n]}function re(e,...r){let t=vr();if(t){let n=t.handlers[e];if(n)return n(t,...r)}}function O(e,r){let t=(a,...o)=>(qe(!N(t,"derived"),"call of derived event","createEvent"),qe(!ot,"unit call from pure function","operators like sample"),ve?((i,l,g,p)=>{let u=ve,v=null;if(l)for(v=ve;v&&v.template!==l;)v=pe(v);To(v);let f=i.create(g,p);return To(u),f})(t,n,a,o):t.create(a,o)),n=vr();return Object.assign(t,{graphite:ke({meta:ql("event",t,e,r),regional:1}),create:a=>(R({target:t,params:a,scope:_}),a),watch:a=>Ml(t,a),map:a=>un(t,ir,a,[we()]),filter:a=>un(t,"filter",a.fn?a:a.fn,[we(Ra,1)]),filterMap:a=>un(t,"filterMap",a,[we(),de(o=>!W(o),1)]),prepend(a){let o=O("* \u2192 "+t.shortName,{parent:pe(t)});return re("eventPrepend",Y(o)),ze(o,t,[we()],"prepend",a),Bl(t,o),o}})}function T(e,r){let t=sr(e),n=O({named:"updates",derived:1});re("storeBase",t);let a=t.id,o={subscribers:new Map,updates:n,defaultState:e,stateRef:t,getState(){let v,f=t;if(ve){let s=ve;for(;s&&!s.reg[a];)s=pe(s);s&&(v=s)}return!v&&_&&(ur(_,t,1),v=_),v&&(f=v.reg[a]),Pr(f)},setState:v=>R({target:o,params:v,defer:1,scope:_}),reset:(...v)=>(U(v,f=>o.on(f,()=>o.defaultState)),o),on:(v,f)=>(mt(v,".on","first argument"),qe(!N(o,"derived"),".on in derived store","createStore"),U(Array.isArray(v)?v:[v],s=>{o.off(s),nt(o).set(s,Ll(Ro(s,o,"on",ec,f)))}),o),off(v){let f=nt(o).get(v);return f&&(f(),nt(o).delete(v)),o},map(v,f){let s,c;ge(v)&&(s=v,v=v.fn),qe(W(f),"second argument of store.map","updateFilter");let y=o.getState();vr()?c=null:W(y)||(c=v(y,f));let h=T(c,{name:`${o.shortName} \u2192 *`,derived:1,and:s}),d=Ro(o,h,ir,Zn,v);return ea(te(h),{type:ir,fn:v,from:t}),te(h).noInit=1,re("storeMap",t,d),h},watch(v,f){if(!f||!Be(v)){let s=Ml(o,v);return re("storeWatch",t,v)||v(o.getState()),s}return X(ne(f),"second argument should be a function"),v.watch(s=>f(o.getState(),s))}},i=ql("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=ke({scope:{state:t,fn:l},node:[de((v,f,s)=>(s.scope&&!s.scope.reg[t.id]&&(s.b=1),v)),Ge(t),de((v,f,{a:s,b:c})=>!W(v)&&(v!==s||c),1),l&&we(Zn,1),ee({from:Me,target:t})],child:n,meta:i,regional:1});let g=N(o,"derived"),p=N(o,"serialize")==="ignore",u=N(o,"sid");return u&&(p||Ne(o,"storeChange",1),t.sid=u),u||p||g||Ne(o,"warnSerialize",1),X(g||!W(e),"current state can't be undefined, use null instead"),lr(o,[n]),o}function Te(...e){let r,t,n;[e,n]=Br(e);let a,o,i,l=e[e.length-1];if(ne(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let g=t[0];oe(g)||(a=g,o=1)}if(!o&&(a=t,r)){i=1;let g=r;r=p=>g(...p)}return X(ge(a),"shape should be an object"),lc(Array.isArray(a),!i,a,n,r)}function Vu(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function ka(e,r){let t=O(ne(e)?{handler:e}:e,r),n=Y(t);Ne(n,"op",t.kind="effect"),t.use=f=>(X(ne(f),".use argument should be a function"),p.scope.handler=f,t),t.use.getCurrent=()=>p.scope.handler;let a=t.finally=O({named:"finally",derived:1}),o=t.done=a.filterMap({named:"done",fn({status:f,params:s,result:c}){if(f==="done")return{params:s,result:c}}}),i=t.fail=a.filterMap({named:"fail",fn({status:f,params:s,error:c}){if(f==="fail")return{params:s,error:c}}}),l=t.doneData=o.map({named:"doneData",fn:({result:f})=>f}),g=t.failData=i.map({named:"failData",fn:({error:f})=>f}),p=ke({scope:{handlerId:N(n,"sid"),handler:t.defaultConfig.handler||(()=>X(0,`no handler used in ${t.getType()}`))},node:[de((f,s,c)=>{let y=s,h=y.handler;if(Se(c)){let d=Se(c).handlers[y.handlerId];d&&(h=d)}return f.handler=h,f},0,1),de(({params:f,req:s,handler:c,args:y=[f]},h,d)=>{let m=yt(f,s,1,a,d),b=yt(f,s,0,a,d),[$,S]=Gl(c,b,y);$&&(ge(S)&&ne(S.then)?S.then(m,b):m(S))},0,1)],meta:{op:"fx",fx:"runner"}});n.scope.runner=p,Ie(n.seq,de((f,{runner:s},c)=>{let y=pe(c)?{params:f,req:{rs(h){},rj(h){}}}:f;return R({target:s,params:y,defer:1,scope:Se(c)}),y.params},0,1)),t.create=f=>{let s=Vu(),c={params:f,req:s};if(_){if(!at){let y=_;s.req.finally(()=>{nc(y)}).catch(()=>{})}R({target:t,params:c,scope:_})}else R(t,c);return s.req};let u=t.inFlight=T(0,{serialize:"ignore"}).on(t,f=>f+1).on(a,f=>f-1).map({fn:f=>f,named:"inFlight"});Ne(a,"needFxCounter","dec"),Ne(t,"needFxCounter",1);let v=t.pending=u.map({fn:f=>f>0,named:"pending"});return lr(t,[a,o,i,l,g,v,u]),t}function Wu(e){let r;[e,r]=Br(e,1);let{source:t,effect:n,mapParams:a}=e,o=ka(e,r);Ne(o,"attached",1);let i,{runner:l}=Y(o).scope,g=de((u,v,f)=>{let s,{params:c,req:y,handler:h}=u,d=o.finally,m=yt(c,y,0,d,f),b=f.a,$=ht(h),S=1;if(a?[S,s]=Gl(a,m,[c,b]):s=t&&$?b:c,S){if(!$)return u.args=[b,s],1;R({target:h,params:{params:s,req:{rs:yt(c,y,1,d,f),rj:m}},page:f.page,defer:1})}},1,1);if(t){let u;oe(t)?(u=t,lr(u,[o])):(u=Te(t),lr(o,[u])),i=[Ge(te(u)),g]}else i=[g];l.seq.splice(1,0,...i),o.use(n);let p=pe(n);return p&&(Object.assign(Ta(o),Pl(o.shortName,p)),o.defaultConfig.parent=p),Bl(n,o,"effect"),o}function gt(e,r){mt(e,"merge","first argument");let t=O({name:Tl(e,"merge"),derived:1,and:r});return ze(e,t,[],"merge"),t}function Rl(e,r){let t=0;return U(uc,n=>{n in e&&(X(e[n]!=null,Ul(r,n)),t=1)}),t}function A(...e){let r,t,n,a,[[o,i,l],g]=Br(e),p=1;return W(i)&&ge(o)&&Rl(o,"sample")&&(i=o.clock,l=o.fn,p=!o.greedy,a=o.filter,r=o.target,t=o.name,n=o.sid,o=o.source),zl("sample",i,o,a,r,l,t,g,p,1,0,n)}function on(...e){let[[r,t],n]=Br(e);return t||(t=r,r=t.source),Rl(t,"guard"),zl("guard",t.clock,r,t.filter,t.target,null,t.name,n,!t.greedy,0,1)}function wo(e,r,t){if(oe(e))return qe(0,"restore($store)"),e;if(Cl(e)||ht(e)){let a=pe(e),o=T(r,{parent:a,name:e.shortName,and:t});return ze(ht(e)?e.doneData:e,o),a&&a.hooks.store(o),o}let n=Array.isArray(e)?[]:{};return At(e,(a,o)=>n[o]=oe(a)?a:T(a,{name:o})),n}let Hu=typeof Symbol<"u"&&Symbol.observable||"@@observable",ir="map",Me="stack",Be=e=>(ne(e)||ge(e))&&"kind"in e;const qr=e=>r=>Be(r)&&r.kind===e;let oe=qr("store"),Cl=qr("event"),ht=qr("effect"),_l=qr("domain"),Xu=qr("scope");var B={__proto__:null,unit:Be,store:oe,event:Cl,effect:ht,domain:_l,scope:Xu};let ln=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},Ie=(e,r)=>e.push(r),qe=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Y=e=>e.graphite||e,jt=e=>e.family.owners,Ft=e=>e.family.links,te=e=>e.stateRef,Tr=e=>e.value,nt=e=>e.subscribers,pe=e=>e.parent,Se=e=>e.scope,N=(e,r)=>Y(e).meta[r],Ne=(e,r,t)=>Y(e).meta[r]=t,Ta=e=>e.compositeName;const Pa=()=>{let e=0;return()=>""+ ++e};let Yu=Pa(),Al=Pa(),Qu=Pa(),G=null,vr=()=>G&&G.template,jl=e=>(e&&G&&G.sidRoot&&(e=`${G.sidRoot}|${e}`),e),Ju=({sid:e,name:r,loc:t,method:n,fn:a})=>Jn(ke({meta:{sidRoot:jl(e),name:r,loc:t,method:n}}),a),lr=(e,r)=>{let t=Y(e);U(r,n=>{let a=Y(n);t.family.type!=="domain"&&(a.family.type="crosslink"),Ie(jt(a),t),Ie(Ft(t),a)})},wr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Y),ge=e=>typeof e=="object"&&e!==null,ne=e=>typeof e=="function",W=e=>e===void 0,Fl=e=>X(ge(e)||ne(e),"expect first argument be an object");const Oo=(e,r,t,n)=>X(!(!ge(e)&&!ne(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${n}`);let mt=(e,r,t)=>{Array.isArray(e)?U(e,(n,a)=>Oo(n,r,`${a} item of ${t}`,"")):Oo(e,r,t," or array of units")},Zu=(e,r,t="target")=>U(wr(r),n=>qe(!N(n,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),Zn=(e,{fn:r},{a:t})=>r(e,t),ec=(e,{fn:r},{a:t})=>r(t,e),Ra=(e,{fn:r})=>r(e);const Dl=(e,r,t,n)=>{let a={id:Al(),type:e,data:r};return t&&(a.order={priority:t},n&&(a.order.barrierID=++rc)),a};let rc=0,ee=({from:e="store",store:r,target:t,to:n=t?"store":Me,batch:a,priority:o})=>Dl("mov",{from:e,store:r,to:n,target:t},o,a),Fr=({fn:e,batch:r,priority:t,safe:n=0,filter:a=0,pure:o=0})=>Dl("compute",{fn:e,safe:n,filter:a,pure:o},t,r),Ca=({fn:e})=>Fr({fn:e,priority:"effect"}),de=(e,r,t)=>Fr({fn:e,safe:1,filter:r,priority:t&&"effect"}),Ge=(e,r,t)=>ee({store:e,to:r?Me:"a",priority:t&&"sampler",batch:1}),we=(e=Ra,r)=>Fr({fn:e,pure:1,filter:r}),Eo={mov:ee,compute:Fr,filter:({fn:e,pure:r})=>Fr({fn:e,filter:1,pure:r}),run:Ca},sr=e=>({id:Al(),current:e}),Pr=({current:e})=>e,ea=(e,r)=>{e.before||(e.before=[]),Ie(e.before,r)},tr=null;const _a=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||ta(e.v.type)>ta(r.v.type))&&(t=e,e=r,r=t),t=_a(e.r,r),e.r=e.l,e.l=t,e},Aa=[];let ko=0;for(;ko<6;)Ie(Aa,{first:null,last:null,size:0}),ko+=1;const tc=()=>{for(let e=0;e<6;e++){let r=Aa[e];if(r.size>0){if(e===3||e===4){r.size-=1;let n=tr.v;return tr=_a(tr.l,tr.r),n}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},je=(e,r,t,n,a,o)=>ra(0,{a:null,b:null,node:t,parent:n,value:a,page:r,scope:o},e),ra=(e,r,t,n=0)=>{let a=ta(t),o=Aa[a],i={v:{idx:e,stack:r,type:t,id:n},l:null,r:null};a===3||a===4?tr=_a(tr,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},ta=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},sn=new Set;let _,Hr=1,at=0,ot=0,ve=null,nc=e=>{_=e},To=e=>{ve=e};const Nl=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=pe(e);if(e)return e}return null};let ac=(e,r,t,n,a)=>{let o=Nl(e,n.id);return o?o.reg[n.id]:r?(ur(r,n,a),r.reg[n.id]):n},ur=(e,r,t,n,a)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!a){let g=0,p=t||!r.noInit||n;U(r.before,u=>{switch(u.type){case ir:{let v=u.from;if(v||u.fn){v&&ur(e,v,t,n);let f=v&&o[v.id].current;p&&(l.current=u.fn?u.fn(f):f)}break}case"field":g||(g=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),ur(e,u.from,t,n),p&&(l.current[u.field]=o[o[u.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const oc=(e,r,t)=>{try{return r(Tr(t),e.scope,t)}catch(n){console.error(n),e.fail=1}};let na=(e,r={})=>(ge(e)&&(na(e.or,r),At(e,(t,n)=>{W(t)||n==="or"||n==="and"||(r[n]=t)}),na(e.and,r)),r);const Po=(e,r)=>{ln(e.next,r),ln(jt(e),r),ln(Ft(e),r)},aa=(e,r,t)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let a=Ft(e);for(;n=a.pop();)Po(n,e),(r||t&&N(e,"op")!=="sample"||n.family.type==="crosslink")&&aa(n,r,N(n,"op")!=="on"&&t);for(a=jt(e);n=a.pop();)Po(n,e),t&&n.family.type==="crosslink"&&aa(n,r,N(n,"op")!=="on"&&t)},hr=e=>e.clear();let ic=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),oe(e))hr(nt(e));else if(_l(e)){t=1;let n=e.history;hr(n.events),hr(n.effects),hr(n.stores),hr(n.domains)}aa(Y(e),!!r,t)},Ll=e=>{let r=()=>ic(e);return r.unsubscribe=r,r},ze=(e,r,t,n,a)=>ke({node:t,parent:e,child:r,scope:{fn:a},meta:{op:n},family:{owners:[e,r],links:r},regional:1}),Ml=(e,r)=>(X(ne(r),".watch argument should be a function"),Ll(ke({scope:{fn:r},node:[Ca({fn:Ra})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Bl=(e,r,t="event")=>{pe(e)&&pe(e).hooks[t](r)},ql=(e,r,t,n)=>{let a=e==="domain",o=Yu(),i=na({or:n,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:g=null,named:p=null}=i,u=p||i.name||(a?"":o),v=Pl(u,l),f={op:r.kind=e,name:r.shortName=u,sid:r.sid=jl(g),named:p,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=v,r.defaultConfig=i,r.thru=s=>(qe(0,"thru","js pipe"),s(r)),r.getType=()=>v.fullName,!a){r.subscribe=c=>(Fl(c),r.watch(ne(c)?c:y=>c.next&&c.next(y))),r[Hu]=()=>r;let s=vr();s&&(f.nativeTemplate=s)}return f};const un=(e,r,t,n)=>{let a;ge(t)&&(a=t,t=t.fn);let o=O({name:`${e.shortName} \u2192 *`,derived:1,and:a});return ze(e,o,n,r,t),o},Ro=(e,r,t,n,a)=>{let o=te(r),i=ee({store:o,to:"a",priority:"read"});t===ir&&(i.data.softRead=1);let l=[i,we(n)];return re("storeOnMap",o,l,oe(e)&&te(e)),ze(e,r,l,t,a)},lc=(e,r,t,n,a)=>{let o=e?c=>c.slice():c=>({...c}),i=e?[]:{},l=o(i),g=sr(l),p=sr(1);g.type=e?"list":"shape",g.noInit=1,re("combineBase",g,p);let u=T(l,{name:Tl(t),derived:1,and:n}),v=te(u);v.noInit=1,Ne(u,"isCombine",1);let f=Ge(g);f.order={priority:"barrier"};let s=[de((c,y,h)=>(h.scope&&!h.scope.reg[g.id]&&(h.c=1),c)),f,ee({store:p,to:"b"}),de((c,{key:y},h)=>{if(h.c||c!==h.a[y])return r&&h.b&&(h.a=o(h.a)),h.a[y]=c,1},1),ee({from:"a",target:g}),ee({from:"value",store:0,target:p}),ee({from:"value",store:1,target:p,priority:"barrier",batch:1}),Ge(g,1),a&&we()];return At(t,(c,y)=>{if(!oe(c))return X(!Be(c)&&!W(c),`combine expects a store in a field ${y}`),void(l[y]=i[y]=c);i[y]=c.defaultState,l[y]=c.getState();let h=ze(c,u,s,"combine",a);h.scope.key=y;let d=te(c);ea(g,{type:"field",field:y,from:d}),re("combineField",d,h)}),u.defaultShape=t,ea(v,{type:ir,from:g,fn:a}),vr()||(u.defaultState=a?v.current=a(l):i),u};let Gl=(e,r,t)=>{try{return[1,e(...t)]}catch(n){return r(n),[0,null]}},yt=(e,r,t,n,a)=>o=>R({target:[n,sc],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:a.page,scope:Se(a)});const sc=ke({node:[Ca({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),uc=["source","clock","target"],Ul=(e,r)=>e+`: ${r} should be defined`;let zl=(e,r,t,n,a,o,i,l,g,p,u,v)=>{let f=!!a;X(!W(t)||!W(r),Ul(e,"either source or clock"));let s=0;W(t)?s=1:Be(t)||(t=Te(t)),W(r)?r=t:(mt(r,e,"clock"),Array.isArray(r)&&(r=gt(r))),s&&(t=r),l||i||(i=t.shortName);let c="none";(u||n)&&(Be(n)?c="unit":(X(ne(n),"`filter` should be function or unit"),c="fn")),a?(mt(a,e,"target"),Zu(e,a)):c==="none"&&p&&oe(t)&&oe(r)?a=T(o?o(Pr(te(t)),Pr(te(r))):Pr(te(t)),{name:i,sid:v,or:l}):(a=O({name:i,derived:1,or:l}),re("sampleTarget",Y(a)));let y=sr(),h=[];if(c==="unit"){let[b,$]=Co(n,a,r,y,e);h=[...cn($),...cn(b)]}let[d,m]=Co(t,a,r,y,e);return lr(t,[ze(r,a,[re("sampleSourceLoader"),ee({from:Me,target:y}),...cn(m),Ge(d,1,g),...h,Ge(y),c==="fn"&&we((b,$,{a:S})=>n(b,S),1),o&&we(Zn),re("sampleSourceUpward",f)],e,o)]),a};const cn=e=>[Ge(e),de((r,t,{a:n})=>n,1)],Co=(e,r,t,n,a)=>{let o=oe(e),i=o?te(e):sr(),l=sr(o);return o||ke({parent:e,node:[ee({from:Me,target:i}),ee({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:a},regional:1}),re("sampleSource",l,i,n),[i,l]};function it(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function Rr(e){var r,t;e.status="active",r=lt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function lt(e){return e.group.activeChilds[e.priority]}function _o(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&Rr(r)}function H(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(Rr(r),lt(r).first||it(r.group,r.priority)));var t,n,a,o;r.status==="active"&&(r.status="pending",lt(r).first||((a=r.group).queue[o=r.priority].last?(a.cursor[o].prev=a.queue[o].last,a.queue[o].last.cursor[o].next=a,a.queue[o].last=a):a.queue[o].first=a.queue[o].last=a),n=r,(t=lt(r)).last?(n.cursor.prev=t.last,t.last.cursor.next=n,t.last=n):t.first=t.last=n),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=es(r.group.queue.execQueue))}function cc(e){De("execQueue");let r,t,n=_e(),a=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(_e()-n>=1e3){a=1;break e}let o=!!e.props.first;for(o&&De("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(_e()-n>=1e3){a=1,ce("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"props")}o&&ce("props");let i=!!e.tree.first;for(i&&De("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(_e()-n>=1e3){a=1,ce("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"tree")}i&&ce("tree");let l=!!e.data.first;for(l&&De("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(_e()-n>=1e3){a=1,ce("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"data")}l&&ce("data")}if(ce("execQueue"),a)e.rafID=es(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function Cr({value:e,runOp:r,group:t,priority:n}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:n,group:t,cursor:{prev:null,next:null}}}function fc({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=cc.bind(null,r),r}function Dr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function vc({value:e,group:r,onInit:t,onChange:n}){let a=Cr({value:e,group:r,runOp(i){o.status="A",n(i)},priority:"data"}),o={status:"IA",value:a.value,ops:{init:Cr({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:a,terminate:Cr({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return H(1,o.ops.init),o}function dc(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",H(1,e.ops.terminate);break;case"AA":e.status="AT",H(1,e.ops.terminate),H(e.value.active,e.ops.change);break;case"IA":e.status="T",H(0,e.ops.init)}}function pc(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",H(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",H(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function gc(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function Kl(e,r){for(let t=0;t<r.length;t++){let{type:n,field:a,value:o}=r[t];Sc[n](e,a,o)}}function Dt(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function Vl(e,r,t){Dt(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function Wl(e,r,t){Dt(t)?delete e.style[r]:e.style[r]=`${t}`}function Hl(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function Xl(e,r,t){Dt(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function Yl(e,r,t){if(Dt(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function oa(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function cr({fn:e,state:r={},defer:t=0,name:n="",draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:g=0}){let p=k,u={id:++Ic,name:n,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:xc,upward:Eo.filter({fn(f,s,c){if(!c.page){if(!c.parent||!c.parent.page)return 1;c.page=c.parent.page}if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page upward"),0;let y=[c.page.template],h=[c.page];{let d=c.page.parent;for(;d;)h.push(d),y.push(d.template),d=d.parent}return c.node.next.forEach(d=>{let m=d.meta.nativeTemplate;if(m)if(y.includes(m)){let b=h[y.indexOf(m)];R({target:d,params:f,defer:1,page:b,stack:c,scope:c.scope})}else console.error("context drift",{stack:c,node:d});else R({target:d,params:f,defer:1,page:c.page,stack:c,scope:c.scope})}),0}}),loader:Eo.filter({fn(f,s,c){if(c.parent){let y=c.scope?c.scope.graphite.id:null;if(c.page){if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page loader"),0;if(c.page.template===u)return 1;if(c.page.root.childSpawns[c.page.fullID][u.id])c.page.root.childSpawns[c.page.fullID][u.id].forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&R({params:f,target:c.node,page:h,defer:1,scope:c.scope})});else{let h=c.page.fullID,d=c.page.template.name==="rec";u.pages.forEach(m=>{if(!y||m.root.scope&&y===m.root.scope.graphite.id)if(m.fullID===h||m.fullID.startsWith(`${h}_`)){let b=1;if(d){let $=c.page.template.id,S=m.parent;for(;S&&S!==c.page;){if(S.template.id===$){b=0;break}S=S.parent}}b&&R({params:f,target:c.node,page:m,defer:1,scope:c.scope})}else h.startsWith(`${m.fullID}_`)&&R({params:f,target:c.node,page:c.page,defer:1,scope:c.scope})})}}else u.pages.forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&R({params:f,target:c.node,page:h,defer:1,scope:c.scope})});return 0}return 1}}),parent:p,node:null,api:null,trigger:{mount:O({named:"mount"})},draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:g||!(!p||!p.isBlock)};p&&p.childTemplates.push(u);let v=ke({meta:{template:u}});return u.node=v,k=u,t?u.deferredInit=()=>{let f=k;k=u,u.deferredInit=null;try{Jn(v,()=>{let s=wo(r);u.api=e(s,u.trigger),u.nameMap=s})}finally{k=f}}:Jn(v,()=>{let f=wo(r);u.api=e(f,u.trigger),u.nameMap=f}),k=p,u}function hc(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function Ql(e,r,t){let n=r;for(;n&&!Lr(n,e);)n=n.parent;return n?Lr(n,e):t?(t.getState(e),t.reg[e.id]):e}function fn(e,r){Lr(r,e)||(r.reg[e.id]=Ql(e,r.parent,r.root.scope))}function Ao(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function bt(e,{values:r={},parentLeaf:t,mountNode:n,svgRoot:a,leafData:o,opGroup:i,domSubtree:l,hydration:g,root:p}){function u(h){if(h.before)for(let d=0;d<h.before.length;d++){let m=h.before[d];switch(m.type){case"map":{let b,$=m.from;if(!m.fn&&!$)break;$&&(fn($,s),b=f[$.id].current),f[h.id].current=m.fn?m.fn(b):b;break}case"field":{let b=m.from;fn(b,s),f[h.id].current[m.field]=f[b.id].current;break}case"closure":fn(m.of,s)}}}function v(h,d,m){let b;d.stop=1;try{for(;d.i<h.length;)b=h[d.i],d.i++,b.fn(m[b.of.id]?m[b.of.id].current:Ql(b.of,s.parent,s.root.scope).current)}catch($){console.error($),d.stop=0}}let f={},s={draft:e.draft,svgRoot:a,data:o,parent:t,hydration:g,mountNode:n,root:p,id:++wc,fullID:"",reg:f,template:e};e.pages.push(s);let c=or;or=s,t&&Ao([s],e.id,p.childSpawns[t.fullID]),s.fullID=t?`${t.fullID}_${s.id}`:`${s.id}`,p.childSpawns[s.fullID]={},p.activeSpawns.add(s.fullID),p.leafOps[s.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let d=e.closure[h],m=d,b=s.parent;e:for(;b;){if(Lr(b,d)){m=Lr(b,d);break e}b=b.parent}!b&&p.scope&&(p.scope.getState(d),m=p.scope.reg[d.id]),f[d.id]=m}for(let h=0;h<e.plain.length;h++){let d=e.plain[h],m={id:d.id,current:hc(d,p.scope)};f[d.id]=m}for(let h in r){let d=e.nameMap[h].stateRef.id;f[d]={id:d,current:r[h]}}e.closure.forEach(u),e.plain.forEach(u);let y={i:0,stop:0};for(;!y.stop;)v(e.watch,y,f);if(t)for(let h in p.childSpawns[s.fullID])Ao(p.childSpawns[s.fullID][h],h,p.childSpawns[t.fullID]);if($e)$e.steps.push({target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope});else{let h;$e={parent:$e,steps:[{target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope}]};do for(;h=$e.steps.shift();)$e={parent:$e,steps:[]},R(h);while($e=$e.parent)}return or=c,s}function $t(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function St(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=St(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=St(r);if(t)return t;r=r.left}return null}default:return null}}function xt(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=St(r);if(t)return t;r=r.left}return xt(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let n=r.child[t];if(!n)continue;let a=St(n);if(a)return a}switch(r.type){case"element":case"using":return null}return xt(r)}default:return null}}function ia(e){let r=xt(e);return r?r.value:null}function Nr(e,r){if(!e)throw Error(r)}function Gr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function It(e){if(!k)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(k.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=k.draft.childCount,k.draft.childCount+=1,k.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${k.draft.type}`)}}function xe(e,{parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o}){e.childTemplates.forEach(i=>{ja({parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o,actor:i})})}function ja({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:n,svgRoot:a,values:o}){let i;Nr(Oc.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=n,{queue:g}=r.root.leafOps[r.fullID].group,p=Dr(g),u=r.root.leafOps[r.fullID].domSubtree,v=u;switch(l.type){case"route":{let s={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"route",block:s,ops:{},initialized:0,pendingInit:null};break}case"element":{let s;if(n.isBlock){let y,h,d=r;for(;d&&(!h||!y);){d.template.env&&(y=d.template.env);let{draft:m}=d;m.type==="element"&&(m.tag==="svg"?h="svg":m.tag==="foreignObject"&&(h="html")),d=d.parent}h||(h="html"),y&&(s=h==="svg"?y.document.createElementNS("http://www.w3.org/2000/svg",l.tag):y.document.createElement(l.tag),Kl(s,l.staticSeq))}else s=l.stencil.cloneNode();let c={type:"element",parent:e,child:[],value:s,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"element",block:c,ops:{visible:Cr({value:0,priority:"tree",runOp(y){if(y){Jl(c);let h=i;h.needToCallNode&&(h.needToCallNode=0,R({target:Ot,params:{element:c.value,fns:l.node},page:f,scope:r.root.scope})),c.visible=1}else c.value.remove(),c.visible=0},group:u})},needToCallNode:l.node.length>0},v=Dr(g);break}case"list":{let s={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"list",draft:l,block:s,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let s={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec",block:s};break}case"recItem":{let s={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec item",block:s};break}case"block":{let s={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block",block:s};break}case"blockItem":{let s={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block item",block:s};break}default:console.warn(`unexpected draft type ${l.type}`)}let f=bt(n,{values:o,parentLeaf:r,mountNode:t,svgRoot:a||r.svgRoot,leafData:i,opGroup:p,domSubtree:v,hydration:r.hydration,root:r.root})}function Jl(e){let r=ia(e);r?r.after(e.value):$t(e).prepend(e.value),e.visible=1}function nr({mount:e,state:r,onMount:t,onState:n}){return{onMount:A({source:r,clock:e,fn:t,greedy:1}),onState:A({source:e,clock:r,fn:n,greedy:1})}}function _r(e,r){for(let t in e)r(e[t],t)}function jo(e,r){if(!k)return;let t=k.draft;Nr(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)Nr(B.unit(r[l]),`handler for "${l}" should be event`);let{passive:n=0,capture:a=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:n,capture:a},map:r})}function ie(e){Gr(k,"spec");let r=k.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let a=e.text,o=r.childCount;Array.isArray(a)?(r.text.push(...a.map((i,l)=>({index:l+o,value:i}))),r.childCount+=a.length):(r.text.push({index:o,value:a}),r.childCount+=1)}if(e.style){let a={};for(let o in e.style)a[gc(o)]=e.style[o];r.style.push(a)}var t,n;if(e.classList&&(t=e.classList,n=a=>r.classList.push(a),Array.isArray(t)?t.forEach(a=>{let o=typeof a=="string"?a:a.map(l=>l||""),i=typeof a=="string"?1:a.map(l=>l!==null);n({name:o,enabled:i})}):_r(t,(a,o)=>{n({name:o,enabled:a})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let a=e.handler;typeof a.on=="object"?jo(a.config||{},a.on):jo(a)}e.\u0254&&ie(e.\u0254)}function vn(e,{initCtx:r,runOp:t,hooks:{onMount:n,onState:a}}){let o=e.opsAmount++;n.watch(({value:i,leaf:l})=>{let g=r(i,l),p=Cr({value:i,priority:"props",runOp(u){t(u,g)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=p}),a.watch(({value:i,leaf:l})=>{H(i,l.root.leafOps[l.fullID].group.ops[o])})}function Xr(e,r,t){e[r].forEach(n=>{_r(n,(a,o)=>{switch(r){case"data":case"styleVar":t[r][o]=a;break;case"attr":t.attr[o==="xlink:href"?"href":o]=a;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=a:t.style[o]=a}})})}function Fo(e,r,t){let n=e.data.block,a={type:"text",parent:n,visible:0,index:t,value:null};if(n.child[t]=a,e.hydration){let o=xt(a);if(o)switch(o.type){case"text":a.value=e.root.env.document.createTextNode(r),o.value.after(a.value);break;case"element":a.value=o.value.nextSibling,oa(a.value,r)}else{let i=$t(a);a.value=i.firstChild,oa(a.value,r)}a.visible=1}else a.value=e.root.env.document.createTextNode(r),Jl(a);return a}function mr(e){let r=e.stateRef,t=k;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function w(e,r){let t,n=0,a=0;typeof r=="function"?(n=1,t=r):r&&(a=1,r.fn&&(n=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(n=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(n=1,t=r.\u0254.fn))),Gr(k,"h");let o,i=k.env,l=k.namespace,g=l,p="html";g=p=l==="svg"?"svg":"html",e==="svg"&&(p="svg",g="svg"),k.isBlock||(o=p==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let u=o,v={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:u,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(v.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),g="html"):e==="svg"?(v.attr.push({xmlns:"http://www.w3.org/2000/svg"}),g="svg"):e==="foreignObject"&&(g="foreignObject");let f=cr({name:"element",draft:v,isSvgRoot:e==="svg",namespace:g,fn(s,{mount:c}){let y=O({named:"domElementCreated"});n&&t(),a&&ie(r),B.unit(v.visible)&&(v.seq.push({type:"visible",value:v.visible}),mr(v.visible));let h={attr:{},data:{},style:{},styleVar:{}};Xr(v,"attr",h),Xr(v,"data",h),Xr(v,"style",h),Xr(v,"styleVar",h),_r(h,(d,m)=>{_r(d,(b,$)=>{B.unit(b)?(v.seq.push({type:m,field:$,value:b}),mr(b)):v.staticSeq.push({type:m,field:$,value:b})})}),v.classList.forEach(d=>{if(B.unit(d.name)||B.unit(d.enabled)){let m=B.unit(d.name)?d.name:T(d.name),b=B.unit(d.enabled)?d.enabled:T(d.enabled);v.seq.push({type:"classList",field:m,value:b}),mr(m),mr(b)}else B.unit(d.name)||v.staticSeq.push({type:"classList",field:d.name,value:d.enabled})}),v.text.forEach(d=>{d.value!==null&&(B.unit(d.value)?(v.seq.push({type:"dynamicText",value:d.value,childIndex:d.index}),mr(d.value)):v.seq.push({type:"staticText",value:String(d.value),childIndex:d.index}))}),v.handler.forEach(d=>{_r(d.map,(m,b)=>{v.seq.push({type:"handler",for:b,handler:m,options:d.options,domConfig:d.domConfig})})}),u&&Kl(u,v.staticSeq),v.seq.forEach(d=>{switch(d.type){case"visible":{let{onMount:m,onState:b}=nr({mount:c,state:d.value,onMount:($,S)=>({leaf:S,value:$,hydration:S.hydration}),onState:($,S)=>({leaf:$,value:S,hydration:0})});m.watch(({leaf:$,value:S,hydration:x})=>{let I=$.data,E=I.block;if(x&&(_o(S,I.ops.visible),S)){let j,M=ia(E);if(j=M?M.nextSibling:$t(E).firstChild,j.nodeName==="#text"){let me=j;j=j.nextSibling,me.remove()}E.value=j,E.visible=1}xe(v,{parentBlockFragment:E,leaf:$,node:E.value,svgRoot:f.isSvgRoot?E.value:null}),S&&I.needToCallNode&&(I.needToCallNode=0,R({target:Ot,params:{element:I.block.value,fns:v.node},page:$,defer:1,scope:$.root.scope})),R({target:y,params:$,defer:1,page:$,scope:$.root.scope})}),gt([b,m]).watch(({leaf:$,value:S,hydration:x})=>{x||H(S,$.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let m=Bo[d.type],b=Ec.some(({type:S,field:x})=>d.type===S&&d.field===x),$=nr({mount:y,state:d.value,onMount:(S,x)=>({leaf:x,value:S}),onState:(S,x)=>({leaf:S,value:x})});b?gt([$.onState,$.onMount]).watch(({leaf:S,value:x})=>{m(Yr(S),d.field,x)}):vn(v,{initCtx(S,x){let I=Yr(x);return m(I,d.field,S),I},runOp(S,x){m(x,d.field,S)},hooks:$});break}case"classList":{let m=Bo.classList,b=T({prev:"",curr:d.field.getState()}).on(d.field,({curr:S},x)=>({prev:S,curr:x})),$=nr({mount:y,state:Te({name:b,enabled:d.value}),onMount:(S,x)=>({leaf:x,value:S}),onState:(S,x)=>({leaf:S,value:x})});vn(v,{initCtx(S,x){let I=Yr(x);return m(I,S.name.curr,S.enabled),I},runOp(S,x){S.name.prev!==S.name.curr&&m(x,S.name.prev,0),m(x,S.name.curr,S.enabled)},hooks:$});break}case"dynamicText":vn(v,{initCtx:(m,b)=>Fo(b,m,d.childIndex),runOp(m,b){oa(b.value,m)},hooks:nr({mount:y,state:d.value,onMount:(m,b)=>({leaf:b,value:String(m)}),onState:(m,b)=>({leaf:m,value:String(b)})})});break;case"staticText":y.watch(m=>{Fo(m,d.value,d.childIndex)});break;case"handler":{let m=d.handler.graphite.meta.nativeTemplate||null;y.watch(b=>{let $=null;if(m){let S=0,x=b;for(;!S&&x;)x.template===m?(S=1,$=x):x=x.parent}else $=null;Yr(b).addEventListener(d.for,S=>{d.options.prevent&&S.preventDefault(),d.options.stop&&S.stopPropagation(),R({target:d.handler,params:S,page:$,scope:b.root.scope})},d.domConfig)});break}}}),c.watch(d=>{let m=d.data;if(!v.visible){let b=m.ops.visible,$=m.block;if(d.hydration){_o(1,b);let S,x=ia($);if(S=x?x.nextSibling:$t($).firstChild,S.nodeName==="#text"){let I=S;S=S.nextSibling,I.remove()}$.value=S,$.visible=1}xe(v,{parentBlockFragment:$,leaf:d,node:$.value,svgRoot:f.isSvgRoot?$.value:null}),R({target:y,params:d,defer:1,page:d,scope:d.root.scope}),d.hydration?m.needToCallNode&&(m.needToCallNode=0,R({target:Ot,params:{element:m.block.value,fns:v.node},page:d,defer:1,scope:d.root.scope})):H(1,b)}})},env:i});It(f)}function Do(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function mc(e,r){let t,n,a,o,i,l;if(typeof r=="function")t=r,a=Do(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,a=r.env?r.env:Do(),o=r.hydrate,n=r.onComplete,i=r.onRoot,l=r.scope}Nr(e,"using() first argument is missing");let g={scope:l,env:a,activeSpawns:new Set,childSpawns:{},leafOps:{}},p=e.namespaceURI,u=e.tagName.toLowerCase(),v={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},f=cr({name:"using",draft:v,isSvgRoot:u==="svg",namespace:p==="http://www.w3.org/2000/svg"?"svg":u==="foreignobject"?"foreignObject":"html",fn(h,{mount:d}){t(),d.watch(Na.using)},env:a}),s={type:"using",child:[],value:e},c=fc({onComplete:n}),y=bt(f,{parentLeaf:or||null,mountNode:e,svgRoot:f.isSvgRoot?e:or?or.svgRoot:null,leafData:{type:"using",draft:v,element:e,block:s},opGroup:Dr(c),domSubtree:Dr(c),hydration:o,root:g});if(i&&i({template:f,leaf:y}),c.onDrain&&!c.rafID){let h=c.onDrain;c.onDrain=null,h()}}function la(e,r){let t=e.root.childSpawns[e.fullID];for(let n in t){let a=t[n];for(let o=0;o<a.length;o++)r(a[o])}}function Zl(e,r){let t=n=>{let a=n.data;if(e&&a.type==="list"&&a.pendingUpdate){let o=a.pendingUpdate;a.pendingUpdate=null,R({target:n.template.api.pendingUpdate,params:o,defer:1,page:n,scope:n.root.scope})}if(e&&a.type==="route"){if(a.pendingInit){let o=a.pendingInit.value;a.pendingInit=null,R({target:n.template.api.pendingInit,params:o,defer:1,page:n,scope:n.root.scope})}else if(!a.block.visible)return}switch(a.type){case"element":H(e,a.ops.visible);break;case"route":case"list":case"list item":la(n,t);break;default:console.log("unsupported type",a.type)}};la(r,t)}function dn(e){e.root.activeSpawns.delete(e.fullID),la(e,Fa)}function pn(e){Ar(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Ar(e,e.template.pages)}function Fa(e){let{data:r,root:t}=e;switch(r.type){case"element":Ar(e,t.childSpawns[e.parent.fullID][e.template.id]),function n(a){t.activeSpawns.delete(a.fullID);let o=t.childSpawns[a.fullID];delete t.childSpawns[a.fullID],delete t.leafOps[a.fullID],Ar(a,a.template.pages);for(let i in o)o[i].forEach(n)}(e),H(0,r.ops.visible);break;case"list":{let n=r.records;for(let a=0;a<n.length;a++){let o=n[a];o.instance&&Fa(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),pn(e);break}case"list item":{let n=r.block;Ar(n,n.parent.child);let a=n.left,o=n.right;a&&(a.right=o,o||n.parent.lastChild!==n||(n.parent.lastChild=a)),o&&(o.left=a),a||o||n.parent.lastChild!==n||(n.parent.lastChild=null),n.left=null,n.right=null,dn(e),pn(e);break}case"route":dn(e),pn(e);break;case"block":case"block item":case"rec":case"rec item":dn(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Ar(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function yc(e,r){if(Array.isArray(r))return r.map(t=>e.map(n=>n[t]));if(typeof r=="object"&&r!==null){let t={};for(let n in r){let a=r[n];t[n]=e.map(typeof a=="function"?o=>a(o):o=>o[a])}return t}return e.map(t=>t[r])}function Da(e,r){Gr(k,"list"),typeof r=="function"&&(B.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:n,source:a,fields:o=[]}=e,i=n!==void 0?typeof n=="function"?n:u=>u[n]:(u,v)=>v,l={type:"list",key:B.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:g,namespace:p}=k;It(cr({name:"list",draft:l,isSvgRoot:0,namespace:p,fn(u,{mount:v}){let f=cr({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:p,fn({id:m,store:b},{mount:$}){t({store:b,key:m,fields:yc(b,o)});let S=O({named:"itemUpdater"});if(b.on(S,(x,I)=>I),l.itemVisible){let{onMount:x,onState:I}=nr({mount:$,state:l.itemVisible,onMount:(E,j)=>({visible:E,leaf:j}),onState:(E,j)=>({visible:j,leaf:E})});x.watch(({visible:E,leaf:j})=>{let M=j.data.block;M.visible=E,M.childInitialized=E,E&&xe(l,{parentBlockFragment:M,leaf:j})}),I.watch(({visible:E,leaf:j})=>{let M=j.data.block;M.visible=E,M.childInitialized?Zl(E,j):E&&(M.childInitialized=1,xe(l,{parentBlockFragment:M,leaf:j}))})}else $.watch(Na.listItem);return{itemUpdater:S}},env:g}),s=T([]),c=a.map(m=>m),y=A({source:a,clock:v,fn:(m,b)=>({updates:m,leaf:b,hydration:b.hydration}),greedy:1}),h=O(),d=A({source:y,clock:[c,h],fn:({leaf:m},b)=>({updates:b,leaf:m,hydration:0}),greedy:1});return A({source:s,clock:[y,d],greedy:1,fn(m,{updates:b,leaf:$,hydration:S}){let x=$.data,I=$;for(;I;){if(I.data.type==="route"&&!I.data.block.visible)return void(x.pendingUpdate=b);I=I.parent}let E=x.block;De("list update ["+a.shortName+"]");let j=Array(b.length).fill(0),M=b.map(i),me=[];for(let ye=0;ye<m.length;ye++){let se=m[ye],Pe=M.indexOf(se.key);Pe!==-1?(me.push(se),j[Pe]=1,pc(b[Pe],se.asyncValue)):(se.active=0,se.instance&&Fa(se.instance),dc(se.asyncValue))}for(let ye=0;ye<b.length;ye++){if(j[ye])continue;let se=b[ye],Pe=M[ye],nn=Dr($.root.leafOps[$.fullID].group.queue),Re={type:"LF",parent:E,child:[],childInitialized:0,visible:0,left:null,right:null},ue={type:"listItem",key:Pe,index:Pe,active:1,leafData:{type:"list item",block:Re,listDraft:l},asyncValue:vc({value:se,group:nn,onChange(Ae){ue.instance&&R({target:ue.instance.template.api.itemUpdater,params:Ae,defer:1,page:ue.instance,scope:ue.instance.root.scope})},onInit(Ae){ue.active&&(S||(ue.instance=bt(f,{values:{id:Pe,store:Ae},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ue.leafData,opGroup:nn,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root})))}})},xo=me.length;me.push(ue);let Io=xo>0?me[xo-1].leafData:null;if(E.child.push(Re),Io){let Ae=Io.block;Re.left=Ae;let an=Ae.right;an?(an.left=Re,Re.right=an):E.lastChild=Re,Ae.right=Re}else E.lastChild=Re;S&&(ue.instance=bt(f,{values:{id:Pe,store:se},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ue.leafData,opGroup:nn,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root}))}return ce("list update ["+a.shortName+"]"),me.length===0&&(E.lastChild=null),x.records=me,me},target:s}),{pendingUpdate:h}},env:g}))}function No({source:e,visible:r,fn:t}){Gr(k,"route");let{env:n,namespace:a}=k,o=cr({name:"route",isSvgRoot:0,namespace:a,env:n,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let g;if(B.store(r))g=Te({value:e,visible:r});else{let c=r;g=e.map(y=>({value:y,visible:c(y)}))}let p=cr({name:"route item",isSvgRoot:0,namespace:a,env:n,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:c},{mount:y}){let h=O({named:"itemUpdater"});c.on(h,(m,b)=>b),t({store:c});let d=A({source:y,clock:g,fn:(m,{visible:b,value:$})=>({leaf:m,visible:b,value:$}),greedy:1});y.watch(Na.routeItem),d.watch(({leaf:m,visible:b,value:$})=>{if(m.data.block.visible=b,b&&R({target:h,params:$,defer:1,page:m,scope:m.root.scope}),b){let S=m.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}Zl(b,m)})}});It(p);let{onMount:u,onState:v}=nr({mount:l,state:g,onMount:({visible:c,value:y},h)=>({leaf:h,visible:c,value:y}),onState:(c,{visible:y,value:h})=>({leaf:c,visible:y,value:h})}),f=O(),s=A({source:l,clock:f,greedy:1,fn:(c,y)=>({leaf:c,value:y,visible:1})});return gt([u,v,s]).watch(({leaf:c,visible:y,value:h})=>{let d=c.data;if(d.block.visible=y,y||d.initialized||!d.pendingInit){if(y&&!d.initialized){let m=c.parent;for(;m;){if(m.data.type==="route"&&!m.data.block.visible)return void(d.pendingInit={value:h});m=m.parent}}y&&!d.initialized&&(ja({parentBlockFragment:d.block,leaf:c,actor:p,values:{store:h}}),d.initialized=1)}else d.pendingInit=null}),{pendingInit:f}}});It(o)}function bc({source:e,cases:r,key:t}){let n;Gr(k,"variant"),Nr(B.unit(e),"variant({source}) should be unit"),n=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let a=0;for(let o in r)o!=="__"?No({source:e,visible:i=>n(i)===o,fn:r[o]}):a=1;if(a){let o=Object.keys(r);No({source:e,visible:i=>!o.includes(n(i)),fn:r.__})}}function $c(e,r){if(r.length===0)return e;let t=[e[0]];for(let n=0;n<r.length;n++)t.push(r[n],e[n+1]);return t}function wt(e,...r){Array.isArray(e)?ie({text:$c(e,r)}):ie({text:e})}let _e;_e=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let sa=new Map;const Or=[],Lo=e=>{let r=sa.get(e);r||(r={calls:0,time:0,label:e,childTime:0},sa.set(e,r)),r.calls+=1,Or.push({bucket:r,pendingStart:_e()})},Mo=e=>{let r=sa.get(e),t=Or.pop().pendingStart,n=_e()-t;r.time+=n,Or.length>0&&(Or[Or.length-1].bucket.childTime+=n)};let De,ce;typeof performance<"u"&&performance.mark?(De=e=>{performance.mark("\u2604\uFE0F "+e+" start"),Lo(e)},ce=e=>{Mo(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(De=e=>{Lo(e)},ce=e=>{Mo(e)});let es=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const Sc={attr:Yl,data:Xl,style:Wl,styleVar:Vl,classList:Hl},be=(e,r)=>e.includes(r);let xc={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,n){var a,o;t.unshift(e.loader),t.push(e.upward),n&&(be(e.plain,n)||(be(e.closure,n)||e.closure.push(n),o={type:"closure",of:n},(a=r).before||(a.before=[]),a.before.push(o)))},storeMap(e,r,t){be(e.plain,r)||be(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,n){r.current?be(e.plain,t)||be(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),be(e.plain,n)||e.plain.push(n)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},Ic=0,wc=0,k=null,or=null;const Lr=(e,r)=>e.reg[r.id];let $e=null;const Oc=["LF","using","element","recItem","rec","block","blockItem","route"];let Ot=O({named:"onMount"});Ot.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const Ec=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],Bo={attr:Yl,data:Xl,style:Wl,styleVar:Vl,classList:Hl},Yr=e=>e.data.block.value;let Na={using(e){let r=e.data;xe(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,xe(r,{parentBlockFragment:t.block,leaf:e})},block(e){xe(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){ja({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){xe(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,xe(r.listDraft,{parentBlockFragment:t,leaf:e})}};function fe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Et(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function fr(e,r){return Tc(e)||Rc(e,r)||ts(e,r)||_c()}function rs(e){return kc(e)||Pc(e)||ts(e)||Cc()}function kc(e){if(Array.isArray(e))return ua(e)}function Tc(e){if(Array.isArray(e))return e}function Pc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rc(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,i,l;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));a=!0);}catch(g){o=!0,l=g}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function ts(e,r){if(!!e){if(typeof e=="string")return ua(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ua(e,r)}}function ua(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Cc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr=function(e){return e&&e.Math==Math&&e},L=Qr(typeof globalThis=="object"&&globalThis)||Qr(typeof window=="object"&&window)||Qr(typeof self=="object"&&self)||Qr(typeof qo=="object"&&qo)||function(){return this}()||Function("return this")(),La={},P=function(e){try{return!!e()}catch{return!0}},Ac=P,z=!Ac(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),jc=P,Nt=!jc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Fc=Nt,Jr=Function.prototype.call,Q=Fc?Jr.bind(Jr):function(){return Jr.apply(Jr,arguments)},Ma={},ns={}.propertyIsEnumerable,as=Object.getOwnPropertyDescriptor,Dc=as&&!ns.call({1:2},1);Ma.f=Dc?function(r){var t=as(this,r);return!!t&&t.enumerable}:ns;var Lt=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},os=Nt,is=Function.prototype,Nc=is.bind,ca=is.call,Lc=os&&Nc.bind(ca,ca),C=os?function(e){return e&&Lc(e)}:function(e){return e&&function(){return ca.apply(e,arguments)}},ls=C,Mc=ls({}.toString),Bc=ls("".slice),Ke=function(e){return Bc(Mc(e),8,-1)},qc=C,Gc=P,Uc=Ke,gn=Object,zc=qc("".split),ss=Gc(function(){return!gn("z").propertyIsEnumerable(0)})?function(e){return Uc(e)=="String"?zc(e,""):gn(e)}:gn,Kc=TypeError,Ve=function(e){if(e==null)throw Kc("Can't call method on "+e);return e},Vc=ss,Wc=Ve,We=function(e){return Vc(Wc(e))},F=function(e){return typeof e=="function"},Hc=F,J=function(e){return typeof e=="object"?e!==null:Hc(e)},hn=L,Xc=F,Yc=function(e){return Xc(e)?e:void 0},dr=function(e,r){return arguments.length<2?Yc(hn[e]):hn[e]&&hn[e][r]},Qc=C,Ba=Qc({}.isPrototypeOf),Jc=dr,Zc=Jc("navigator","userAgent")||"",us=L,mn=Zc,Go=us.process,Uo=us.Deno,zo=Go&&Go.versions||Uo&&Uo.version,Ko=zo&&zo.v8,Z,kt;Ko&&(Z=Ko.split("."),kt=Z[0]>0&&Z[0]<4?1:+(Z[0]+Z[1]));!kt&&mn&&(Z=mn.match(/Edge\/(\d+)/),(!Z||Z[1]>=74)&&(Z=mn.match(/Chrome\/(\d+)/),Z&&(kt=+Z[1])));var qa=kt,Vo=qa,ef=P,cs=!!Object.getOwnPropertySymbols&&!ef(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Vo&&Vo<41}),rf=cs,fs=rf&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tf=dr,nf=F,af=Ba,of=fs,lf=Object,vs=of?function(e){return typeof e=="symbol"}:function(e){var r=tf("Symbol");return nf(r)&&af(r.prototype,lf(e))},sf=String,Mt=function(e){try{return sf(e)}catch{return"Object"}},uf=F,cf=Mt,ff=TypeError,Ga=function(e){if(uf(e))return e;throw ff(cf(e)+" is not a function")},vf=Ga,pr=function(e,r){var t=e[r];return t==null?void 0:vf(t)},yn=Q,bn=F,$n=J,df=TypeError,pf=function(e,r){var t,n;if(r==="string"&&bn(t=e.toString)&&!$n(n=yn(t,e))||bn(t=e.valueOf)&&!$n(n=yn(t,e))||r!=="string"&&bn(t=e.toString)&&!$n(n=yn(t,e)))return n;throw df("Can't convert object to primitive value")},Bt={exports:{}},Wo=L,gf=Object.defineProperty,Ua=function(e,r){try{gf(Wo,e,{value:r,configurable:!0,writable:!0})}catch{Wo[e]=r}return r},hf=L,mf=Ua,Ho="__core-js_shared__",yf=hf[Ho]||mf(Ho,{}),za=yf,Xo=za;(Bt.exports=function(e,r){return Xo[e]||(Xo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var bf=Ve,$f=Object,Ur=function(e){return $f(bf(e))},Sf=C,xf=Ur,If=Sf({}.hasOwnProperty),he=Object.hasOwn||function(r,t){return If(xf(r),t)},wf=C,Of=0,Ef=Math.random(),kf=wf(1 .toString),Ka=function(e){return"Symbol("+(e===void 0?"":e)+")_"+kf(++Of+Ef,36)},Tf=L,Pf=Bt.exports,Yo=he,Rf=Ka,Qo=cs,ds=fs,Ye=Pf("wks"),Le=Tf.Symbol,Jo=Le&&Le.for,Cf=ds?Le:Le&&Le.withoutSetter||Rf,D=function(e){if(!Yo(Ye,e)||!(Qo||typeof Ye[e]=="string")){var r="Symbol."+e;Qo&&Yo(Le,e)?Ye[e]=Le[e]:ds&&Jo?Ye[e]=Jo(r):Ye[e]=Cf(r)}return Ye[e]},_f=Q,Zo=J,ei=vs,Af=pr,jf=pf,Ff=D,Df=TypeError,Nf=Ff("toPrimitive"),Lf=function(e,r){if(!Zo(e)||ei(e))return e;var t=Af(e,Nf),n;if(t){if(r===void 0&&(r="default"),n=_f(t,e,r),!Zo(n)||ei(n))return n;throw Df("Can't convert object to primitive value")}return r===void 0&&(r="number"),jf(e,r)},Mf=Lf,Bf=vs,Va=function(e){var r=Mf(e,"string");return Bf(r)?r:r+""},qf=L,ri=J,fa=qf.document,Gf=ri(fa)&&ri(fa.createElement),Wa=function(e){return Gf?fa.createElement(e):{}},Uf=z,zf=P,Kf=Wa,ps=!Uf&&!zf(function(){return Object.defineProperty(Kf("div"),"a",{get:function(){return 7}}).a!=7}),Vf=z,Wf=Q,Hf=Ma,Xf=Lt,Yf=We,Qf=Va,Jf=he,Zf=ps,ti=Object.getOwnPropertyDescriptor;La.f=Vf?ti:function(r,t){if(r=Yf(r),t=Qf(t),Zf)try{return ti(r,t)}catch{}if(Jf(r,t))return Xf(!Wf(Hf.f,r,t),r[t])};var K={},ev=z,rv=P,gs=ev&&rv(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),tv=J,nv=String,av=TypeError,q=function(e){if(tv(e))return e;throw av(nv(e)+" is not an object")},ov=z,iv=ps,lv=gs,Zr=q,ni=Va,sv=TypeError,Sn=Object.defineProperty,uv=Object.getOwnPropertyDescriptor,xn="enumerable",In="configurable",wn="writable";K.f=ov?lv?function(r,t,n){if(Zr(r),t=ni(t),Zr(n),typeof r=="function"&&t==="prototype"&&"value"in n&&wn in n&&!n[wn]){var a=uv(r,t);a&&a[wn]&&(r[t]=n.value,n={configurable:In in n?n[In]:a[In],enumerable:xn in n?n[xn]:a[xn],writable:!1})}return Sn(r,t,n)}:Sn:function(r,t,n){if(Zr(r),t=ni(t),Zr(n),iv)try{return Sn(r,t,n)}catch{}if("get"in n||"set"in n)throw sv("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var cv=z,fv=K,vv=Lt,gr=cv?function(e,r,t){return fv.f(e,r,vv(1,t))}:function(e,r,t){return e[r]=t,e},hs={exports:{}},va=z,dv=he,ms=Function.prototype,pv=va&&Object.getOwnPropertyDescriptor,Ha=dv(ms,"name"),gv=Ha&&function(){}.name==="something",hv=Ha&&(!va||va&&pv(ms,"name").configurable),qt={EXISTS:Ha,PROPER:gv,CONFIGURABLE:hv},mv=C,yv=F,da=za,bv=mv(Function.toString);yv(da.inspectSource)||(da.inspectSource=function(e){return bv(e)});var Xa=da.inspectSource,$v=L,Sv=F,xv=Xa,ai=$v.WeakMap,Iv=Sv(ai)&&/native code/.test(xv(ai)),wv=Bt.exports,Ov=Ka,oi=wv("keys"),Ya=function(e){return oi[e]||(oi[e]=Ov(e))},Gt={},Ev=Iv,ys=L,On=C,kv=J,Tv=gr,En=he,kn=za,Pv=Ya,Rv=Gt,ii="Object already initialized",pa=ys.TypeError,Cv=ys.WeakMap,Tt,Mr,Pt,_v=function(e){return Pt(e)?Mr(e):Tt(e,{})},Av=function(e){return function(r){var t;if(!kv(r)||(t=Mr(r)).type!==e)throw pa("Incompatible receiver, "+e+" required");return t}};if(Ev||kn.state){var Fe=kn.state||(kn.state=new Cv),jv=On(Fe.get),li=On(Fe.has),Fv=On(Fe.set);Tt=function(e,r){if(li(Fe,e))throw new pa(ii);return r.facade=e,Fv(Fe,e,r),r},Mr=function(e){return jv(Fe,e)||{}},Pt=function(e){return li(Fe,e)}}else{var Qe=Pv("state");Rv[Qe]=!0,Tt=function(e,r){if(En(e,Qe))throw new pa(ii);return r.facade=e,Tv(e,Qe,r),r},Mr=function(e){return En(e,Qe)?e[Qe]:{}},Pt=function(e){return En(e,Qe)}}var zr={set:Tt,get:Mr,has:Pt,enforce:_v,getterFor:Av},Dv=P,Nv=F,et=he,ga=z,Lv=qt.CONFIGURABLE,Mv=Xa,bs=zr,Bv=bs.enforce,qv=bs.get,st=Object.defineProperty,Gv=ga&&!Dv(function(){return st(function(){},"length",{value:8}).length!==8}),Uv=String(String).split("String"),zv=hs.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!et(e,"name")||Lv&&e.name!==r)&&(ga?st(e,"name",{value:r,configurable:!0}):e.name=r),Gv&&t&&et(t,"arity")&&e.length!==t.arity&&st(e,"length",{value:t.arity});try{t&&et(t,"constructor")&&t.constructor?ga&&st(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Bv(e);return et(n,"source")||(n.source=Uv.join(typeof r=="string"?r:"")),e};Function.prototype.toString=zv(function(){return Nv(this)&&qv(this).source||Mv(this)},"toString");var Kv=F,Vv=K,Wv=hs.exports,Hv=Ua,He=function(e,r,t,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:r;if(Kv(t)&&Wv(t,o,n),n.global)a?e[r]=t:Hv(r,t);else{try{n.unsafe?e[r]&&(a=!0):delete e[r]}catch{}a?e[r]=t:Vv.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},Ut={},Xv=Math.ceil,Yv=Math.floor,Qv=Math.trunc||function(r){var t=+r;return(t>0?Yv:Xv)(t)},Jv=Qv,zt=function(e){var r=+e;return r!==r||r===0?0:Jv(r)},Zv=zt,ed=Math.max,rd=Math.min,$s=function(e,r){var t=Zv(e);return t<0?ed(t+r,0):rd(t,r)},td=zt,nd=Math.min,Kt=function(e){return e>0?nd(td(e),9007199254740991):0},ad=Kt,Kr=function(e){return ad(e.length)},od=We,id=$s,ld=Kr,si=function(e){return function(r,t,n){var a=od(r),o=ld(a),i=id(n,o),l;if(e&&t!=t){for(;o>i;)if(l=a[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in a)&&a[i]===t)return e||i||0;return!e&&-1}},sd={includes:si(!0),indexOf:si(!1)},ud=C,Tn=he,cd=We,fd=sd.indexOf,vd=Gt,ui=ud([].push),Ss=function(e,r){var t=cd(e),n=0,a=[],o;for(o in t)!Tn(vd,o)&&Tn(t,o)&&ui(a,o);for(;r.length>n;)Tn(t,o=r[n++])&&(~fd(a,o)||ui(a,o));return a},Qa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dd=Ss,pd=Qa,gd=pd.concat("length","prototype");Ut.f=Object.getOwnPropertyNames||function(r){return dd(r,gd)};var xs={};xs.f=Object.getOwnPropertySymbols;var hd=dr,md=C,yd=Ut,bd=xs,$d=q,Sd=md([].concat),xd=hd("Reflect","ownKeys")||function(r){var t=yd.f($d(r)),n=bd.f;return n?Sd(t,n(r)):t},ci=he,Id=xd,wd=La,Od=K,Ed=function(e,r,t){for(var n=Id(r),a=Od.f,o=wd.f,i=0;i<n.length;i++){var l=n[i];!ci(e,l)&&!(t&&ci(t,l))&&a(e,l,o(r,l))}},kd=P,Td=F,Pd=/#|\.prototype\./,Vr=function(e,r){var t=Cd[Rd(e)];return t==Ad?!0:t==_d?!1:Td(r)?kd(r):!!r},Rd=Vr.normalize=function(e){return String(e).replace(Pd,".").toLowerCase()},Cd=Vr.data={},_d=Vr.NATIVE="N",Ad=Vr.POLYFILL="P",Is=Vr,Pn=L,jd=La.f,Fd=gr,Dd=He,Nd=Ua,Ld=Ed,Md=Is,le=function(e,r){var t=e.target,n=e.global,a=e.stat,o,i,l,g,p,u;if(n?i=Pn:a?i=Pn[t]||Nd(t,{}):i=(Pn[t]||{}).prototype,i)for(l in r){if(p=r[l],e.dontCallGetSet?(u=jd(i,l),g=u&&u.value):g=i[l],o=Md(n?l:t+(a?".":"#")+l,e.forced),!o&&g!==void 0){if(typeof p==typeof g)continue;Ld(p,g)}(e.sham||g&&g.sham)&&Fd(p,"sham",!0),Dd(i,l,p,e)}},fi=C,Bd=Ga,qd=Nt,Gd=fi(fi.bind),Ja=function(e,r){return Bd(e),r===void 0?e:qd?Gd(e,r):function(){return e.apply(r,arguments)}},Ud=Ke,ws=Array.isArray||function(r){return Ud(r)=="Array"},zd=D,Kd=zd("toStringTag"),Os={};Os[Kd]="z";var Za=String(Os)==="[object z]",Vd=Za,Wd=F,ut=Ke,Hd=D,Xd=Hd("toStringTag"),Yd=Object,Qd=ut(function(){return arguments}())=="Arguments",Jd=function(e,r){try{return e[r]}catch{}},Vt=Vd?ut:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=Jd(r=Yd(e),Xd))=="string"?t:Qd?ut(r):(n=ut(r))=="Object"&&Wd(r.callee)?"Arguments":n},Zd=C,ep=P,Es=F,rp=Vt,tp=dr,np=Xa,ks=function(){},ap=[],Ts=tp("Reflect","construct"),eo=/^\s*(?:class|function)\b/,op=Zd(eo.exec),ip=!eo.exec(ks),yr=function(r){if(!Es(r))return!1;try{return Ts(ks,ap,r),!0}catch{return!1}},Ps=function(r){if(!Es(r))return!1;switch(rp(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ip||!!op(eo,np(r))}catch{return!0}};Ps.sham=!0;var Rs=!Ts||ep(function(){var e;return yr(yr.call)||!yr(Object)||!yr(function(){e=!0})||e})?Ps:yr,vi=ws,lp=Rs,sp=J,up=D,cp=up("species"),di=Array,fp=function(e){var r;return vi(e)&&(r=e.constructor,lp(r)&&(r===di||vi(r.prototype))?r=void 0:sp(r)&&(r=r[cp],r===null&&(r=void 0))),r===void 0?di:r},vp=fp,Cs=function(e,r){return new(vp(e))(r===0?0:r)},dp=Ja,pp=C,gp=ss,hp=Ur,mp=Kr,yp=Cs,pi=pp([].push),Ce=function(e){var r=e==1,t=e==2,n=e==3,a=e==4,o=e==6,i=e==7,l=e==5||o;return function(g,p,u,v){for(var f=hp(g),s=gp(f),c=dp(p,u),y=mp(s),h=0,d=v||yp,m=r?d(g,y):t||i?d(g,0):void 0,b,$;y>h;h++)if((l||h in s)&&(b=s[h],$=c(b,h,f),e))if(r)m[h]=$;else if($)switch(e){case 3:return!0;case 5:return b;case 6:return h;case 2:pi(m,b)}else switch(e){case 4:return!1;case 7:pi(m,b)}return o?-1:n||a?a:m}},Wt={forEach:Ce(0),map:Ce(1),filter:Ce(2),some:Ce(3),every:Ce(4),find:Ce(5),findIndex:Ce(6),filterReject:Ce(7)},bp=P,$p=D,Sp=qa,xp=$p("species"),ro=function(e){return Sp>=51||!bp(function(){var r=[],t=r.constructor={};return t[xp]=function(){return{foo:1}},r[e](Boolean).foo!==1})},Ip=le,wp=Wt.map,Op=ro,Ep=Op("map");Ip({target:"Array",proto:!0,forced:!Ep},{map:function(r){return wp(this,r,arguments.length>1?arguments[1]:void 0)}});var _s={},kp=Ss,Tp=Qa,As=Object.keys||function(r){return kp(r,Tp)},Pp=z,Rp=gs,Cp=K,_p=q,Ap=We,jp=As;_s.f=Pp&&!Rp?Object.defineProperties:function(r,t){_p(r);for(var n=Ap(t),a=jp(t),o=a.length,i=0,l;o>i;)Cp.f(r,l=a[i++],n[l]);return r};var Fp=dr,Dp=Fp("document","documentElement"),Np=q,Lp=_s,gi=Qa,Mp=Gt,Bp=Dp,qp=Wa,Gp=Ya,hi=">",mi="<",ha="prototype",ma="script",js=Gp("IE_PROTO"),Rn=function(){},Fs=function(e){return mi+ma+hi+e+mi+"/"+ma+hi},yi=function(e){e.write(Fs("")),e.close();var r=e.parentWindow.Object;return e=null,r},Up=function(){var e=qp("iframe"),r="java"+ma+":",t;return e.style.display="none",Bp.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Fs("document.F=Object")),t.close(),t.F},rt,ct=function(){try{rt=new ActiveXObject("htmlfile")}catch{}ct=typeof document<"u"?document.domain&&rt?yi(rt):Up():yi(rt);for(var e=gi.length;e--;)delete ct[ha][gi[e]];return ct()};Mp[js]=!0;var Ht=Object.create||function(r,t){var n;return r!==null?(Rn[ha]=Np(r),n=new Rn,Rn[ha]=null,n[js]=r):n=ct(),t===void 0?n:Lp.f(n,t)},zp=D,Kp=Ht,Vp=K.f,ya=zp("unscopables"),ba=Array.prototype;ba[ya]==null&&Vp(ba,ya,{configurable:!0,value:Kp(null)});var Ds=function(e){ba[ya][e]=!0},Wr={},Wp=P,Hp=!Wp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Xp=he,Yp=F,Qp=Ur,Jp=Ya,Zp=Hp,bi=Jp("IE_PROTO"),$a=Object,eg=$a.prototype,Ns=Zp?$a.getPrototypeOf:function(e){var r=Qp(e);if(Xp(r,bi))return r[bi];var t=r.constructor;return Yp(t)&&r instanceof t?t.prototype:r instanceof $a?eg:null},rg=P,tg=F,$i=Ns,ng=He,ag=D,Sa=ag("iterator"),Ls=!1,Ue,Cn,_n;[].keys&&(_n=[].keys(),"next"in _n?(Cn=$i($i(_n)),Cn!==Object.prototype&&(Ue=Cn)):Ls=!0);var og=Ue==null||rg(function(){var e={};return Ue[Sa].call(e)!==e});og&&(Ue={});tg(Ue[Sa])||ng(Ue,Sa,function(){return this});var Ms={IteratorPrototype:Ue,BUGGY_SAFARI_ITERATORS:Ls},ig=K.f,lg=he,sg=D,Si=sg("toStringTag"),to=function(e,r,t){e&&!t&&(e=e.prototype),e&&!lg(e,Si)&&ig(e,Si,{configurable:!0,value:r})},ug=Ms.IteratorPrototype,cg=Ht,fg=Lt,vg=to,dg=Wr,pg=function(){return this},gg=function(e,r,t,n){var a=r+" Iterator";return e.prototype=cg(ug,{next:fg(+!n,t)}),vg(e,a,!1),dg[a]=pg,e},hg=F,mg=String,yg=TypeError,bg=function(e){if(typeof e=="object"||hg(e))return e;throw yg("Can't set "+mg(e)+" as a prototype")},$g=C,Sg=q,xg=bg,Bs=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=$g(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(a,o){return Sg(a),xg(o),e?t(a,o):a.__proto__=o,a}}():void 0),Ig=le,wg=Q,qs=qt,Og=F,Eg=gg,xi=Ns,Ii=Bs,kg=to,Tg=gr,An=He,Pg=D,Rg=Wr,Gs=Ms,Cg=qs.PROPER,_g=qs.CONFIGURABLE,wi=Gs.IteratorPrototype,tt=Gs.BUGGY_SAFARI_ITERATORS,br=Pg("iterator"),Oi="keys",$r="values",Ei="entries",Ag=function(){return this},no=function(e,r,t,n,a,o,i){Eg(t,r,n);var l=function(d){if(d===a&&f)return f;if(!tt&&d in u)return u[d];switch(d){case Oi:return function(){return new t(this,d)};case $r:return function(){return new t(this,d)};case Ei:return function(){return new t(this,d)}}return function(){return new t(this)}},g=r+" Iterator",p=!1,u=e.prototype,v=u[br]||u["@@iterator"]||a&&u[a],f=!tt&&v||l(a),s=r=="Array"&&u.entries||v,c,y,h;if(s&&(c=xi(s.call(new e)),c!==Object.prototype&&c.next&&(xi(c)!==wi&&(Ii?Ii(c,wi):Og(c[br])||An(c,br,Ag)),kg(c,g,!0))),Cg&&a==$r&&v&&v.name!==$r&&(_g?Tg(u,"name",$r):(p=!0,f=function(){return wg(v,this)})),a)if(y={values:l($r),keys:o?f:l(Oi),entries:l(Ei)},i)for(h in y)(tt||p||!(h in u))&&An(u,h,y[h]);else Ig({target:r,proto:!0,forced:tt||p},y);return u[br]!==f&&An(u,br,f,{name:a}),Rg[r]=f,y},jg=We,ao=Ds,ki=Wr,Us=zr,Fg=K.f,Dg=no,Ng=z,zs="Array Iterator",Lg=Us.set,Mg=Us.getterFor(zs),Bg=Dg(Array,"Array",function(e,r){Lg(this,{type:zs,target:jg(e),index:0,kind:r})},function(){var e=Mg(this),r=e.target,t=e.kind,n=e.index++;return!r||n>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values"),Ti=ki.Arguments=ki.Array;ao("keys");ao("values");ao("entries");if(Ng&&Ti.name!=="values")try{Fg(Ti,"name",{value:"values"})}catch{}var oo={exports:{}},Ks={},qg=Va,Gg=K,Ug=Lt,Vs=function(e,r,t){var n=qg(r);n in e?Gg.f(e,n,Ug(0,t)):e[n]=t},Pi=$s,zg=Kr,Kg=Vs,Vg=Array,Wg=Math.max,Ws=function(e,r,t){for(var n=zg(e),a=Pi(r,n),o=Pi(t===void 0?n:t,n),i=Vg(Wg(o-a,0)),l=0;a<o;a++,l++)Kg(i,l,e[a]);return i.length=l,i},Hg=Ke,Xg=We,Hs=Ut.f,Yg=Ws,Xs=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Qg=function(e){try{return Hs(e)}catch{return Yg(Xs)}};Ks.f=function(r){return Xs&&Hg(r)=="Window"?Qg(r):Hs(Xg(r))};var Jg=P,Zg=Jg(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),eh=P,rh=J,th=Ke,Ri=Zg,ft=Object.isExtensible,nh=eh(function(){ft(1)}),ah=nh||Ri?function(r){return!rh(r)||Ri&&th(r)=="ArrayBuffer"?!1:ft?ft(r):!0}:ft,oh=P,ih=!oh(function(){return Object.isExtensible(Object.preventExtensions({}))}),lh=le,sh=C,uh=Gt,ch=J,io=he,fh=K.f,Ci=Ut,vh=Ks,lo=ah,dh=Ka,ph=ih,Ys=!1,Oe=dh("meta"),gh=0,so=function(e){fh(e,Oe,{value:{objectID:"O"+gh++,weakData:{}}})},hh=function(e,r){if(!ch(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!io(e,Oe)){if(!lo(e))return"F";if(!r)return"E";so(e)}return e[Oe].objectID},mh=function(e,r){if(!io(e,Oe)){if(!lo(e))return!0;if(!r)return!1;so(e)}return e[Oe].weakData},yh=function(e){return ph&&Ys&&lo(e)&&!io(e,Oe)&&so(e),e},bh=function(){$h.enable=function(){},Ys=!0;var e=Ci.f,r=sh([].splice),t={};t[Oe]=1,e(t).length&&(Ci.f=function(n){for(var a=e(n),o=0,i=a.length;o<i;o++)if(a[o]===Oe){r(a,o,1);break}return a},lh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:vh.f}))},$h=oo.exports={enable:bh,fastKey:hh,getWeakData:mh,onFreeze:yh};uh[Oe]=!0;var Sh=D,xh=Wr,Ih=Sh("iterator"),wh=Array.prototype,Oh=function(e){return e!==void 0&&(xh.Array===e||wh[Ih]===e)},Eh=Vt,_i=pr,kh=Wr,Th=D,Ph=Th("iterator"),Qs=function(e){if(e!=null)return _i(e,Ph)||_i(e,"@@iterator")||kh[Eh(e)]},Rh=Q,Ch=Ga,_h=q,Ah=Mt,jh=Qs,Fh=TypeError,Dh=function(e,r){var t=arguments.length<2?jh(e):r;if(Ch(t))return _h(Rh(t,e));throw Fh(Ah(e)+" is not iterable")},Nh=Q,Ai=q,Lh=pr,Mh=function(e,r,t){var n,a;Ai(e);try{if(n=Lh(e,"return"),!n){if(r==="throw")throw t;return t}n=Nh(n,e)}catch(o){a=!0,n=o}if(r==="throw")throw t;if(a)throw n;return Ai(n),t},Bh=Ja,qh=Q,Gh=q,Uh=Mt,zh=Oh,Kh=Kr,ji=Ba,Vh=Dh,Wh=Qs,Fi=Mh,Hh=TypeError,vt=function(e,r){this.stopped=e,this.result=r},Di=vt.prototype,Js=function(e,r,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),g=Bh(r,n),p,u,v,f,s,c,y,h=function(m){return p&&Fi(p,"normal",m),new vt(!0,m)},d=function(m){return a?(Gh(m),l?g(m[0],m[1],h):g(m[0],m[1])):l?g(m,h):g(m)};if(o)p=e.iterator;else if(i)p=e;else{if(u=Wh(e),!u)throw Hh(Uh(e)+" is not iterable");if(zh(u)){for(v=0,f=Kh(e);f>v;v++)if(s=d(e[v]),s&&ji(Di,s))return s;return new vt(!1)}p=Vh(e,u)}for(c=o?e.next:p.next;!(y=qh(c,p)).done;){try{s=d(y.value)}catch(m){Fi(p,"throw",m)}if(typeof s=="object"&&s&&ji(Di,s))return s}return new vt(!1)},Xh=Ba,Yh=TypeError,Zs=function(e,r){if(Xh(r,e))return e;throw Yh("Incorrect invocation")},Qh=D,eu=Qh("iterator"),ru=!1;try{var Jh=0,Ni={next:function(){return{done:!!Jh++}},return:function(){ru=!0}};Ni[eu]=function(){return this},Array.from(Ni,function(){throw 2})}catch{}var Zh=function(e,r){if(!r&&!ru)return!1;var t=!1;try{var n={};n[eu]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},em=F,rm=J,Li=Bs,tm=function(e,r,t){var n,a;return Li&&em(n=r.constructor)&&n!==t&&rm(a=n.prototype)&&a!==t.prototype&&Li(e,a),e},nm=le,am=L,om=C,Mi=Is,im=He,lm=oo.exports,sm=Js,um=Zs,cm=F,jn=J,Fn=P,fm=Zh,vm=to,dm=tm,pm=function(e,r,t){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,o=n?"set":"add",i=am[e],l=i&&i.prototype,g=i,p={},u=function(d){var m=om(l[d]);im(l,d,d=="add"?function($){return m(this,$===0?0:$),this}:d=="delete"?function(b){return a&&!jn(b)?!1:m(this,b===0?0:b)}:d=="get"?function($){return a&&!jn($)?void 0:m(this,$===0?0:$)}:d=="has"?function($){return a&&!jn($)?!1:m(this,$===0?0:$)}:function($,S){return m(this,$===0?0:$,S),this})},v=Mi(e,!cm(i)||!(a||l.forEach&&!Fn(function(){new i().entries().next()})));if(v)g=t.getConstructor(r,e,n,o),lm.enable();else if(Mi(e,!0)){var f=new g,s=f[o](a?{}:-0,1)!=f,c=Fn(function(){f.has(1)}),y=fm(function(d){new i(d)}),h=!a&&Fn(function(){for(var d=new i,m=5;m--;)d[o](m,m);return!d.has(-0)});y||(g=r(function(d,m){um(d,l);var b=dm(new i,d,g);return m!=null&&sm(m,b[o],{that:b,AS_ENTRIES:n}),b}),g.prototype=l,l.constructor=g),(c||h)&&(u("delete"),u("has"),n&&u("get")),(h||s)&&u(o),a&&l.clear&&delete l.clear}return p[e]=g,nm({global:!0,constructor:!0,forced:g!=i},p),vm(g,e),a||t.setStrong(g,e,n),g},gm=He,hm=function(e,r,t){for(var n in r)gm(e,n,r[n],t);return e},mm=dr,ym=K,bm=D,$m=z,Bi=bm("species"),Sm=function(e){var r=mm(e),t=ym.f;$m&&r&&!r[Bi]&&t(r,Bi,{configurable:!0,get:function(){return this}})},xm=K.f,Im=Ht,qi=hm,wm=Ja,Om=Zs,Em=Js,km=no,Tm=Sm,Sr=z,Gi=oo.exports.fastKey,tu=zr,Ui=tu.set,Dn=tu.getterFor,Pm={getConstructor:function(e,r,t,n){var a=e(function(p,u){Om(p,o),Ui(p,{type:r,index:Im(null),first:void 0,last:void 0,size:0}),Sr||(p.size=0),u!=null&&Em(u,p[n],{that:p,AS_ENTRIES:t})}),o=a.prototype,i=Dn(r),l=function(p,u,v){var f=i(p),s=g(p,u),c,y;return s?s.value=v:(f.last=s={index:y=Gi(u,!0),key:u,value:v,previous:c=f.last,next:void 0,removed:!1},f.first||(f.first=s),c&&(c.next=s),Sr?f.size++:p.size++,y!=="F"&&(f.index[y]=s)),p},g=function(p,u){var v=i(p),f=Gi(u),s;if(f!=="F")return v.index[f];for(s=v.first;s;s=s.next)if(s.key==u)return s};return qi(o,{clear:function(){for(var u=this,v=i(u),f=v.index,s=v.first;s;)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete f[s.index],s=s.next;v.first=v.last=void 0,Sr?v.size=0:u.size=0},delete:function(p){var u=this,v=i(u),f=g(u,p);if(f){var s=f.next,c=f.previous;delete v.index[f.index],f.removed=!0,c&&(c.next=s),s&&(s.previous=c),v.first==f&&(v.first=s),v.last==f&&(v.last=c),Sr?v.size--:u.size--}return!!f},forEach:function(u){for(var v=i(this),f=wm(u,arguments.length>1?arguments[1]:void 0),s;s=s?s.next:v.first;)for(f(s.value,s.key,this);s&&s.removed;)s=s.previous},has:function(u){return!!g(this,u)}}),qi(o,t?{get:function(u){var v=g(this,u);return v&&v.value},set:function(u,v){return l(this,u===0?0:u,v)}}:{add:function(u){return l(this,u=u===0?0:u,u)}}),Sr&&xm(o,"size",{get:function(){return i(this).size}}),a},setStrong:function(e,r,t){var n=r+" Iterator",a=Dn(r),o=Dn(n);km(e,r,function(i,l){Ui(this,{type:n,target:i,state:a(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,g=i.last;g&&g.removed;)g=g.previous;return!i.target||!(i.last=g=g?g.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:g.key,done:!1}:l=="values"?{value:g.value,done:!1}:{value:[g.key,g.value],done:!1}},t?"entries":"values",!t,!0),Tm(r)}},Rm=pm,Cm=Pm;Rm("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Cm);var _m=Za,Am=Vt,jm=_m?{}.toString:function(){return"[object "+Am(this)+"]"},Fm=Za,Dm=He,Nm=jm;Fm||Dm(Object.prototype,"toString",Nm,{unsafe:!0});var Lm=Vt,Mm=String,Xe=function(e){if(Lm(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Mm(e)},uo=C,Bm=zt,qm=Xe,Gm=Ve,Um=uo("".charAt),zi=uo("".charCodeAt),zm=uo("".slice),Ki=function(e){return function(r,t){var n=qm(Gm(r)),a=Bm(t),o=n.length,i,l;return a<0||a>=o?e?"":void 0:(i=zi(n,a),i<55296||i>56319||a+1===o||(l=zi(n,a+1))<56320||l>57343?e?Um(n,a):i:e?zm(n,a,a+2):(i-55296<<10)+(l-56320)+65536)}},nu={codeAt:Ki(!1),charAt:Ki(!0)},Km=nu.charAt,Vm=Xe,au=zr,Wm=no,ou="String Iterator",Hm=au.set,Xm=au.getterFor(ou);Wm(String,"String",function(e){Hm(this,{type:ou,string:Vm(e),index:0})},function(){var r=Xm(this),t=r.string,n=r.index,a;return n>=t.length?{value:void 0,done:!0}:(a=Km(t,n),r.index+=a.length,{value:a,done:!1})});var iu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ym=Wa,Nn=Ym("span").classList,Vi=Nn&&Nn.constructor&&Nn.constructor.prototype,lu=Vi===Object.prototype?void 0:Vi,Wi=L,su=iu,Qm=lu,Er=Bg,Ln=gr,uu=D,Mn=uu("iterator"),Hi=uu("toStringTag"),Bn=Er.values,cu=function(e,r){if(e){if(e[Mn]!==Bn)try{Ln(e,Mn,Bn)}catch{e[Mn]=Bn}if(e[Hi]||Ln(e,Hi,r),su[r]){for(var t in Er)if(e[t]!==Er[t])try{Ln(e,t,Er[t])}catch{e[t]=Er[t]}}}};for(var qn in su)cu(Wi[qn]&&Wi[qn].prototype,qn);cu(Qm,"DOMTokenList");var Jm=P,Zm=function(e,r){var t=[][e];return!!t&&Jm(function(){t.call(null,r||function(){return 1},1)})},ey=Wt.forEach,ry=Zm,ty=ry("forEach"),fu=ty?[].forEach:function(r){return ey(this,r,arguments.length>1?arguments[1]:void 0)},ny=le,Xi=fu;ny({target:"Array",proto:!0,forced:[].forEach!=Xi},{forEach:Xi});var Yi=L,Qi=iu,ay=lu,Gn=fu,oy=gr,vu=function(e){if(e&&e.forEach!==Gn)try{oy(e,"forEach",Gn)}catch{e.forEach=Gn}};for(var Un in Qi)Qi[Un]&&vu(Yi[Un]&&Yi[Un].prototype);vu(ay);var iy=z,du=C,ly=As,sy=We,uy=Ma.f,cy=du(uy),fy=du([].push),Ji=function(e){return function(r){for(var t=sy(r),n=ly(t),a=n.length,o=0,i=[],l;a>o;)l=n[o++],(!iy||cy(t,l))&&fy(i,e?[l,t[l]]:t[l]);return i}},vy={entries:Ji(!0),values:Ji(!1)},dy=le,py=vy.entries;dy({target:"Object",stat:!0},{entries:function(r){return py(r)}});var gy=TypeError,hy=9007199254740991,my=function(e){if(e>hy)throw gy("Maximum allowed index exceeded");return e},yy=le,by=P,$y=ws,Sy=J,xy=Ur,Iy=Kr,Zi=my,el=Vs,wy=Cs,Oy=ro,Ey=D,ky=qa,pu=Ey("isConcatSpreadable"),Ty=ky>=51||!by(function(){var e=[];return e[pu]=!1,e.concat()[0]!==e}),Py=Oy("concat"),Ry=function(e){if(!Sy(e))return!1;var r=e[pu];return r!==void 0?!!r:$y(e)},Cy=!Ty||!Py;yy({target:"Array",proto:!0,arity:1,forced:Cy},{concat:function(r){var t=xy(this),n=wy(t,0),a=0,o,i,l,g,p;for(o=-1,l=arguments.length;o<l;o++)if(p=o===-1?t:arguments[o],Ry(p))for(g=Iy(p),Zi(a+g),i=0;i<g;i++,a++)i in p&&el(n,a,p[i]);else Zi(a+1),el(n,a++,p);return n.length=a,n}});var _y=q,Ay=function(){var e=_y(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},co=P,jy=L,fo=jy.RegExp,vo=co(function(){var e=fo("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Fy=vo||co(function(){return!fo("a","y").sticky}),Dy=vo||co(function(){var e=fo("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),gu={BROKEN_CARET:Dy,MISSED_STICKY:Fy,UNSUPPORTED_Y:vo},Ny=P,Ly=L,My=Ly.RegExp,By=Ny(function(){var e=My(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),qy=P,Gy=L,Uy=Gy.RegExp,zy=qy(function(){var e=Uy("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),ar=Q,Xt=C,Ky=Xe,Vy=Ay,Wy=gu,Hy=Bt.exports,Xy=Ht,Yy=zr.get,Qy=By,Jy=zy,Zy=Hy("native-string-replace",String.prototype.replace),Rt=RegExp.prototype.exec,xa=Rt,eb=Xt("".charAt),rb=Xt("".indexOf),tb=Xt("".replace),zn=Xt("".slice),Ia=function(){var e=/a/,r=/b*/g;return ar(Rt,e,"a"),ar(Rt,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),hu=Wy.BROKEN_CARET,wa=/()??/.exec("")[1]!==void 0,nb=Ia||wa||hu||Qy||Jy;nb&&(xa=function(r){var t=this,n=Yy(t),a=Ky(r),o=n.raw,i,l,g,p,u,v,f;if(o)return o.lastIndex=t.lastIndex,i=ar(xa,o,a),t.lastIndex=o.lastIndex,i;var s=n.groups,c=hu&&t.sticky,y=ar(Vy,t),h=t.source,d=0,m=a;if(c&&(y=tb(y,"y",""),rb(y,"g")===-1&&(y+="g"),m=zn(a,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&eb(a,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",m=" "+m,d++),l=new RegExp("^(?:"+h+")",y)),wa&&(l=new RegExp("^"+h+"$(?!\\s)",y)),Ia&&(g=t.lastIndex),p=ar(Rt,c?l:t,m),c?p?(p.input=zn(p.input,d),p[0]=zn(p[0],d),p.index=t.lastIndex,t.lastIndex+=p[0].length):t.lastIndex=0:Ia&&p&&(t.lastIndex=t.global?p.index+p[0].length:g),wa&&p&&p.length>1&&ar(Zy,p[0],l,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(p[u]=void 0)}),p&&s)for(p.groups=v=Xy(null),u=0;u<s.length;u++)f=s[u],v[f[0]]=p[f[1]];return p});var Yt=xa,ab=le,rl=Yt;ab({target:"RegExp",proto:!0,forced:/./.exec!==rl},{exec:rl});var ob=Nt,mu=Function.prototype,tl=mu.apply,nl=mu.call,yu=typeof Reflect=="object"&&Reflect.apply||(ob?nl.bind(tl):function(){return nl.apply(tl,arguments)}),al=C,ol=He,ib=Yt,il=P,bu=D,lb=gr,sb=bu("species"),Kn=RegExp.prototype,po=function(e,r,t,n){var a=bu(e),o=!il(function(){var p={};return p[a]=function(){return 7},""[e](p)!=7}),i=o&&!il(function(){var p=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[sb]=function(){return u},u.flags="",u[a]=/./[a]),u.exec=function(){return p=!0,null},u[a](""),!p});if(!o||!i||t){var l=al(/./[a]),g=r(a,""[e],function(p,u,v,f,s){var c=al(p),y=u.exec;return y===ib||y===Kn.exec?o&&!s?{done:!0,value:l(u,v,f)}:{done:!0,value:c(v,u,f)}:{done:!1}});ol(String.prototype,e,g[0]),ol(Kn,a,g[1])}n&&lb(Kn[a],"sham",!0)},ub=J,cb=Ke,fb=D,vb=fb("match"),db=function(e){var r;return ub(e)&&((r=e[vb])!==void 0?!!r:cb(e)=="RegExp")},pb=Rs,gb=Mt,hb=TypeError,mb=function(e){if(pb(e))return e;throw hb(gb(e)+" is not a constructor")},ll=q,yb=mb,bb=D,$b=bb("species"),Sb=function(e,r){var t=ll(e).constructor,n;return t===void 0||(n=ll(t)[$b])==null?r:yb(n)},xb=nu.charAt,go=function(e,r,t){return r+(t?xb(e,r).length:1)},sl=Q,Ib=q,wb=F,Ob=Ke,Eb=Yt,kb=TypeError,ho=function(e,r){var t=e.exec;if(wb(t)){var n=sl(t,e,r);return n!==null&&Ib(n),n}if(Ob(e)==="RegExp")return sl(Eb,e,r);throw kb("RegExp#exec called on incompatible receiver")},Tb=yu,xr=Q,mo=C,Pb=po,Rb=db,Cb=q,ul=Ve,_b=Sb,Ab=go,jb=Kt,Vn=Xe,Fb=pr,cl=Ws,fl=ho,Db=Yt,Nb=gu,Lb=P,Je=Nb.UNSUPPORTED_Y,vl=4294967295,Mb=Math.min,$u=[].push,Bb=mo(/./.exec),Ze=mo($u),Ir=mo("".slice),qb=!Lb(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});Pb("split",function(e,r,t){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(a,o){var i=Vn(ul(this)),l=o===void 0?vl:o>>>0;if(l===0)return[];if(a===void 0)return[i];if(!Rb(a))return xr(r,i,a,l);for(var g=[],p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),u=0,v=new RegExp(a.source,p+"g"),f,s,c;(f=xr(Db,v,i))&&(s=v.lastIndex,!(s>u&&(Ze(g,Ir(i,u,f.index)),f.length>1&&f.index<i.length&&Tb($u,g,cl(f,1)),c=f[0].length,u=s,g.length>=l)));)v.lastIndex===f.index&&v.lastIndex++;return u===i.length?(c||!Bb(v,""))&&Ze(g,""):Ze(g,Ir(i,u)),g.length>l?cl(g,0,l):g}:"0".split(void 0,0).length?n=function(a,o){return a===void 0&&o===0?[]:xr(r,this,a,o)}:n=r,[function(o,i){var l=ul(this),g=o==null?void 0:Fb(o,e);return g?xr(g,o,l,i):xr(n,Vn(l),o,i)},function(a,o){var i=Cb(this),l=Vn(a),g=t(n,i,l,o,n!==r);if(g.done)return g.value;var p=_b(i,RegExp),u=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Je?"g":"y"),f=new p(Je?"^(?:"+i.source+")":i,v),s=o===void 0?vl:o>>>0;if(s===0)return[];if(l.length===0)return fl(f,l)===null?[l]:[];for(var c=0,y=0,h=[];y<l.length;){f.lastIndex=Je?0:y;var d=fl(f,Je?Ir(l,y):l),m;if(d===null||(m=Mb(jb(f.lastIndex+(Je?y:0)),l.length))===c)y=Ab(l,y,u);else{if(Ze(h,Ir(l,c,y)),h.length===s)return h;for(var b=1;b<=d.length-1;b++)if(Ze(h,d[b]),h.length===s)return h;y=c=m}}return Ze(h,Ir(l,c)),h}]},!qb,Je);var Gb=z,Ub=qt.EXISTS,Su=C,zb=K.f,xu=Function.prototype,Kb=Su(xu.toString),Iu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Vb=Su(Iu.exec),Wb="name";Gb&&!Ub&&zb(xu,Wb,{configurable:!0,get:function(){try{return Vb(Iu,Kb(this))[1]}catch{return""}}});var wu=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Hb=C,Xb=Ve,Yb=Xe,Qb=wu,dl=Hb("".replace),Ct="["+Qb+"]",Jb=RegExp("^"+Ct+Ct+"*"),Zb=RegExp(Ct+Ct+"*$"),Wn=function(e){return function(r){var t=Yb(Xb(r));return e&1&&(t=dl(t,Jb,"")),e&2&&(t=dl(t,Zb,"")),t}},e$={start:Wn(1),end:Wn(2),trim:Wn(3)},r$=qt.PROPER,t$=P,pl=wu,gl="\u200B\x85\u180E",n$=function(e){return t$(function(){return!!pl[e]()||gl[e]()!==gl||r$&&pl[e].name!==e})},a$=le,o$=e$.trim,i$=n$;a$({target:"String",proto:!0,forced:i$("trim")},{trim:function(){return o$(this)}});function hl(e){var r=new Map,t=new Map;return e.forEach(function(n,a){l$(t,a,n)}),t.forEach(function(n,a){var o=fr(n,2),i=o[0],l=o[1],g=e.get(a)||0;g&&i+l<2||g&&i+l>3||(!g&&i+l==3?r.set(a,i>l?1:2):g&&r.set(a,g))}),r}function l$(e,r,t){var n=Ou(r),a=fr(n,2),o=a[0],i=a[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(g){e.has(g)||e.set(g,[0,0]);var p=e.get(g),u=fr(p,2),v=u[0],f=u[1];t===1?e.set(g,[v+1,f]):e.set(g,[v,f+1])}),e}function Ou(e){var r=e.split("|"),t=fr(r,2),n=t[0],a=t[1];return[+n,+a]}function Eu(e){var r=fr(e,2),t=r[0],n=r[1];return"".concat(t,"|").concat(n)}function ku(e,r){var t=Math.floor(e.clientY/r),n=Math.floor(e.clientX/r);return{row:t,col:n,shift:e.shiftKey}}function s$(e){return""}function u$(e){var r=e.map(function(t){var n=t.name,a=t.fauna,o=rs(a.entries());return{fauna:o,name:n}});localStorage.setItem("history",JSON.stringify(r))}function c$(){try{var e=JSON.parse(localStorage.getItem("history")||"null")||[],r=e.map(function(t){var n=t.fauna,a=t.name,o=new Map(n);return{fauna:o,name:a}});return r}catch(t){return console.error(t),[]}}function f$(){return{width:window.visualViewport.width,height:window.visualViewport.height}}function v$(e){var r=new Map;return e.split(`
`).forEach(function(t,n){t=t.trim();for(var a=0;a<t.length;a++)t[a]==="O"&&r.set(Eu([a,n]),1)}),r}var Tu="#5583e5",Pu="#79e555",Ru=[5,10,20,30,40],d$=Ru[2],ml=f$();function p$(){var e=T(Ru,{name:"$options",sid:"jcy7nx"}),r=T(d$,{name:"$cellSize",sid:"eeiscj"}),t=r.map(function(o){return{height:Math.ceil(ml.height/o),width:Math.ceil(ml.width/o)}}),n=O({name:"cellSizeChanged",sid:"-ub9olw"});r.on(n,function(o,i){return i});var a={$options:e,$cellSize:r,$fieldSize:t,cellSizeChanged:n};return a}function g$(){var e=T(!0,{name:"$isOn",sid:"byljm1"}),r=O({name:"changed",sid:"uvawwv"});e.on(r,function(n,a){return a});var t={$isOn:e,changed:r};return t}var ae=p$(),_t=g$(),Ee=T(new Map,{name:"$fauna",sid:"12kukq"}),yo=T({col:0,row:0},{name:"$focus",sid:"-5hzlos"}),kr=O({name:"moveFocus",sid:"-7a3fel"}),Cu=O({name:"resetFocus",sid:"e03fb7"}),jr=T(1,{name:"$selectedColor",sid:"-wiiylh"}),dt=O({name:"colorSelected",sid:"dywk0m"});jr.on(dt,function(e,r){return r});var _u=O({name:"toggleCell",sid:"-itkxoh"}),Au=O({name:"saveClicked",sid:"sm8ofd"}),Qt=O({name:"resetFieldPressed",sid:"bcu3mo"}),ju=T({row:0,col:0,shift:!1},{and:{updateFilter:function(r,t){return!(r.row===t.row&&r.col===t.col&&r.shift===t.shift)}},name:"$hoveredCell",sid:"vsdd07"}),Fu=O({name:"fieldMouseMove",sid:"-7x4hmo"}),h$=Te({and:[_t.$isOn,ae.$cellSize,function(e,r){return e?"elsa":r}],or:{name:"$fieldTilesStyle",sid:"-2r55s9"}}),Du=Te({and:[ae.$fieldSize,Ee,yo,function(e,r,t){var n=e.width,a=e.height,o=[];return r.forEach(function(i,l){var g=Ou(l),p=fr(g,2),u=p[0],v=p[1],f=Math.ceil(u+t.col),s=Math.ceil(v+t.row);f>=0&&f<n&&s>=0&&s<a&&o.push({col:f,row:s,val:i})}),o}],or:{name:"$field",sid:"-s9rfl"}}),m$=Te({and:[Du,ae.$cellSize,function(e,r){return e.map(function(t){var n=t.val,a=t.col,o=t.row;return{val:n,y:o*r+"px",x:a*r+"px"}})}],or:{name:"$viewField",sid:"8bwuy0"}}),yl=Te({and:[ju,ae.$cellSize,function(e,r){var t=e.col,n=e.row;return{y:n*r+"px",x:t*r+"px"}}],or:{name:"$viewHoveredCell",sid:"mm3upx"}});Ee.on(Qt,function(){return new Map});yo.on(kr,function(e,r){return{col:e.col+(r.col||0),row:e.row+(r.row||0)}}).reset(Cu);A({and:[{source:ae.$cellSize,clock:Fu,fn:function(r,t){return ku(t,r)},target:ju}],or:{sid:"c9pkxd"}});A({and:[{source:{fauna:Ee,color:jr,focus:yo},clock:_u,fn:function(r,t){var n=r.color,a=r.fauna,o=r.focus,i=t.col,l=t.row,g=t.shift,p=new Map(a),u=i-o.col,v=l-o.row,f=Eu([u,v]);return g?p.set(f,n):p.get(f)===n?p.delete(f):p.set(f,n),p},target:Ee}],or:{sid:"cpnm4u"}});function y$(e){w("select",function(){ie({handler:{change:e.onChange}}),Da(e.options,function(r){var t=r.store;w("option",{attr:{value:t.map(function(n){return n.value}),selected:Te({and:[t,e.value,function(n,a){return n.value===a}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(n){return n.label})})})})}function b$(e){w("label",{text:e.label,fn:function(){w("input",{attr:{type:"checkbox",checked:e.value},handler:{change:e.onChange.prepend(function(t){return t.target.checked})}})}})}const $$="_history_iy2lc_1",S$="_colorBtn_iy2lc_7",x$="_currentColor_iy2lc_14",I$="_arrowBtn_iy2lc_18",V={history:$$,colorBtn:S$,currentColor:x$,arrowBtn:I$};function w$(){b$({label:"Elsa",value:_t.$isOn,onChange:_t.changed}),w("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,n;w("button",{classList:(r={},fe(r,V.colorBtn,!0),fe(r,V.currentColor,jr.map(function(a){return a===1})),r),style:{backgroundColor:Tu},handler:{click:dt.prepend(function(){return 1})}}),w("button",{classList:(t={},fe(t,V.colorBtn,!0),fe(t,V.currentColor,jr.map(function(a){return a===2})),t),style:{backgroundColor:Pu},handler:{click:dt.prepend(function(){return 2})}}),w("button",{classList:(n={},fe(n,V.colorBtn,!0),fe(n,V.currentColor,jr.map(function(a){return!a})),n),handler:{click:dt.prepend(function(){return 0})}})}})}var bo=C,O$=Ur,E$=Math.floor,Hn=bo("".charAt),k$=bo("".replace),Xn=bo("".slice),T$=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P$=/\$([$&'`]|\d{1,2})/g,R$=function(e,r,t,n,a,o){var i=t+e.length,l=n.length,g=P$;return a!==void 0&&(a=O$(a),g=T$),k$(o,g,function(p,u){var v;switch(Hn(u,0)){case"$":return"$";case"&":return e;case"`":return Xn(r,0,t);case"'":return Xn(r,i);case"<":v=a[Xn(u,1,-1)];break;default:var f=+u;if(f===0)return p;if(f>l){var s=E$(f/10);return s===0?p:s<=l?n[s-1]===void 0?Hn(u,1):n[s-1]+Hn(u,1):p}v=n[f-1]}return v===void 0?"":v})},C$=yu,bl=Q,Jt=C,_$=po,A$=P,j$=q,F$=F,D$=zt,N$=Kt,er=Xe,L$=Ve,M$=go,B$=pr,q$=R$,G$=ho,U$=D,Oa=U$("replace"),z$=Math.max,K$=Math.min,V$=Jt([].concat),Yn=Jt([].push),$l=Jt("".indexOf),Sl=Jt("".slice),W$=function(e){return e===void 0?e:String(e)},H$=function(){return"a".replace(/./,"$0")==="$0"}(),xl=function(){return/./[Oa]?/./[Oa]("a","$0")==="":!1}(),X$=!A$(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});_$("replace",function(e,r,t){var n=xl?"$":"$0";return[function(o,i){var l=L$(this),g=o==null?void 0:B$(o,Oa);return g?bl(g,o,l,i):bl(r,er(l),o,i)},function(a,o){var i=j$(this),l=er(a);if(typeof o=="string"&&$l(o,n)===-1&&$l(o,"$<")===-1){var g=t(r,i,l,o);if(g.done)return g.value}var p=F$(o);p||(o=er(o));var u=i.global;if(u){var v=i.unicode;i.lastIndex=0}for(var f=[];;){var s=G$(i,l);if(s===null||(Yn(f,s),!u))break;var c=er(s[0]);c===""&&(i.lastIndex=M$(l,N$(i.lastIndex),v))}for(var y="",h=0,d=0;d<f.length;d++){s=f[d];for(var m=er(s[0]),b=z$(K$(D$(s.index),l.length),0),$=[],S=1;S<s.length;S++)Yn($,W$(s[S]));var x=s.groups;if(p){var I=V$([m],$,b,l);x!==void 0&&Yn(I,x);var E=er(C$(o,void 0,I))}else E=q$(m,l,b,$,x,o);b>=h&&(y+=Sl(l,h,b)+E,h=b+m.length)}return y+Sl(l,h)}]},!X$||!H$||xl);const Y$=""+new URL("heart-line-icon.a4369d33.svg",import.meta.url).href,Q$="_field_n4fvk_1",J$="_cell_n4fvk_13",Z$="_on1_n4fvk_21",e1="_on2_n4fvk_24",r1="_heartMode_n4fvk_28",rr={field:Q$,cell:J$,on1:Z$,on2:e1,heartMode:r1};function t1(e){var r=`
<svg viewBox='0 0 `.concat(e," ").concat(e,`' xmlns='http://www.w3.org/2000/svg'>
<line x1='0' y1='0' x2='0' y2='`).concat(e,`' stroke='#b4b6b8' />
<line x1='0' y1='0' x2='`).concat(e,`' y2='0' stroke='#b4b6b8' />
</svg>`);return"data:image/svg+xml;base64,"+btoa(r.replace(/\n/g,""))}function n1(){var e=O({name:"rawClicked",sid:"co1uzo"});A({and:[{source:ae.$cellSize,clock:e,fn:function(t,n){return ku(n,t)},target:_u}],or:{sid:"cevhdx"}}),w("div",{classList:[rr.field],styleVar:{cellSize:ae.$cellSize.map(function(r){return r+"px"}),color1:Tu,color2:Pu},style:{backgroundImage:h$.map(function(r){var t=r==="elsa"?Y$:t1(r);return'url("'.concat(t,'")')}),backgroundSize:ae.$cellSize.map(function(r){return"".concat(r,"px ").concat(r,"px")})},handler:{click:e,mousemove:Fu},fn:function(){Da(m$,function(t){var n,a=t.store;w("div",{style:{left:a.map(function(o){return o.x}),top:a.map(function(o){return o.y})},classList:(n={},fe(n,rr.heartMode,_t.$isOn),fe(n,rr.cell,!0),fe(n,rr.on1,a.map(function(o){return o.val===1})),fe(n,rr.on2,a.map(function(o){return o.val===2})),n)})}),w("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:yl.map(function(t){return t.x}),top:yl.map(function(t){return t.y})},classList:[rr.cell]})}})}var a1=Q,o1=po,i1=q,l1=Kt,Qn=Xe,s1=Ve,u1=pr,c1=go,Il=ho;o1("match",function(e,r,t){return[function(a){var o=s1(this),i=a==null?void 0:u1(a,e);return i?a1(i,a,o):new RegExp(a)[e](Qn(o))},function(n){var a=i1(this),o=Qn(n),i=t(r,a,o);if(i.done)return i.value;if(!a.global)return Il(a,o);var l=a.unicode;a.lastIndex=0;for(var g=[],p=0,u;(u=Il(a,o))!==null;){var v=Qn(u[0]);g[p]=v,v===""&&(a.lastIndex=c1(o,l1(a.lastIndex),l)),p++}return p===0?null:g}]});var f1=le,v1=Wt.filter,d1=ro,p1=d1("filter");f1({target:"Array",proto:!0,forced:!p1},{filter:function(r){return v1(this,r,arguments.length>1?arguments[1]:void 0)}});var Zt=T(c$()||[],{name:"$history",sid:"8vj2mw"}),Nu=O({name:"addToHistory",sid:"-6p9jgl"}),Lu=O({name:"removeFromHistory",sid:"iwl8tq"}),en=O({name:"historySelected",sid:"bspsag"});Zt.on(Nu,function(e,r){var t,n=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",a=n.match(/(\d+)/),o=a&&+a[1]||0;return[].concat(rs(e),[{fauna:r,name:"save #".concat(o+1)}])}).on(Lu,function(e,r){});A({and:[{source:Zt,target:ka(function(e){u$(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var wl,Ol;function g1(){w("div",{classList:[V.history],fn:function(){w("p",{text:"History: ",style:{margin:"0"}}),Da(Zt,function(r){var t=r.store,n=O({name:"rawClick",sid:"-69qia6"}),a=O({name:"rawRemoveClick",sid:"-9nj6fi"});A({and:[{clock:n,source:t.map(function(o){return o.name}),target:en}],or:{sid:"-pa1t75"}}),A({and:[{clock:a,source:t.map(function(o){return o.name}),target:Lu}],or:{sid:"-p7au8c"}}),w("div",function(){w("button",function(){ie({handler:{click:n}}),wt(wl||(wl=Et(["",""])),t.map(function(o){return o.name}))}),w("button",function(){ie({handler:{click:a}}),wt(Ol||(Ol=Et(["x"])))})})}),w("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:Au}})}})}const h1=""+new URL("redo-arrow-icon.c268a7f7.svg",import.meta.url).href;function m1(){var e=kr.prepend(function(){return{col:5}}),r=kr.prepend(function(){return{col:-5}}),t=kr.prepend(function(){return{row:5}}),n=kr.prepend(function(){return{row:-5}});w("div",function(){ie({style:{display:"grid",gridTemplateColumns:"30px 30px 30px",gridTemplateRows:"30px 30px 30px",gap:"8px",position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",zIndex:1}}),w("div",{}),w("button",{text:"^",classList:[V.arrowBtn],style:{transform:"rotate(90deg)"},handler:{click:t}}),w("div",{}),w("button",{text:"<-",classList:[V.arrowBtn],style:{transform:"rotate(0deg)"},handler:{click:e}}),w("button",{classList:[V.arrowBtn],style:{backgroundImage:'url("'.concat(h1,'")')},handler:{click:Cu}}),w("button",{text:"->",classList:[V.arrowBtn],style:{transform:"rotate(180deg)"},handler:{click:r}}),w("div",{}),w("button",{text:"v",classList:[V.arrowBtn],style:{transform:"rotate(270deg)"},handler:{click:n}})}),w("div",function(){ie({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),y$({options:ae.$options.map(function(a){return a.map(function(o){return{label:"cell ".concat(o,"px"),value:String(o)}})}),value:ae.$cellSize.map(function(a){return String(a)}),onChange:ae.cellSizeChanged.prepend(function(a){return+a.target.value})})})}function y1(e){var{timeout:r,start:t,stop:n,leading:a=!1,trailing:o=!1}=e,i=O({name:"tick",sid:"uo9p3s"}),l=T(!1,{name:"$isRunning",sid:"-wxesi8"}),g=b1(r),p=l.map(h=>!h),u=O({name:"saveTimeout",sid:"as5clk"}),v=T(null,{name:"$timeoutId",sid:"-bh90bo"}).on(u,(h,d)=>d),f=O({name:"saveReject",sid:"-64swis"}),s=T(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(f,(h,d)=>d),c=ka(h=>new Promise((d,m)=>{var b=setTimeout(d,h);u(b),f(m)}),{name:"timeoutFx",sid:"7lc3mj"}),y=Wu({and:{source:[v,s],effect:h=>{var[d,m]=h;m(),d&&clearTimeout(d)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return on({and:[{clock:t,source:g,filter:p,target:c}],or:{sid:"-w5qmwp"}}),a&&on({and:[{clock:t,filter:p,target:i}],or:{sid:"-vpslni"}}),A({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),on({and:[{clock:c.done,source:g,filter:l,target:c}],or:{sid:"-v73liy"}}),A({and:[{clock:c.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),n&&(o&&A({and:[{clock:n,target:i}],or:{sid:"-uanqf7"}}),l.on(n,()=>!1),A({and:[{clock:n,target:y}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function b1(e){if(B.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return T(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var $o=T(0,{name:"$stepCount",sid:"qcyfda"});T(0,{name:"$startFauna",sid:"871hb0"});var rn=O({name:"gameTick",sid:"3e0yvy"}),Mu=O({name:"makeNSteps",sid:"-su79h9"}),So=O({name:"startTimer",sid:"qpqggy"}),Bu=O({name:"stopTimer",sid:"o91ddu"}),qu=Ju({sid:"-9gtfjx",fn:function(){return y1({timeout:50,start:So,stop:Bu})},name:"timer",method:"interval"}),pt={start:So,stop:Bu,isRunning:qu.isRunning};A({and:[{clock:[qu.tick,So],target:rn}],or:{sid:"-pq1jks"}});$o.on(rn,function(e){return e+1}).on(Mu,function(e,r){return e+r});var El,kl;function $1(){w("p",function(){ie({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),w("button",{text:"Step",handler:{click:rn}}),wt(El||(El=Et([" timer: "]))),bc({source:pt.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){w("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:pt.stop}})},0:function(){w("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:pt.start}})}}}),wt(kl||(kl=Et(["steps: ",""])),$o)})}var S1=le,x1=Wt.find,I1=Ds,Ea="find",Gu=!0;Ea in[]&&Array(1)[Ea](function(){Gu=!1});S1({target:"Array",proto:!0,forced:Gu},{find:function(r){return x1(this,r,arguments.length>1?arguments[1]:void 0)}});I1(Ea);var tn=T("",{name:"$exported",sid:"-eko3nz"}),Uu=O({name:"exportFieldChanged",sid:"-1z9j1h"}),w1=O({name:"exportClicked",sid:"vvb4un"}),zu=O({name:"importClicked",sid:"-xhz735"});tn.on(Uu,function(e,r){return r});A({and:[{source:Ee,clock:Au,target:Nu}],or:{sid:"-32a41b"}});A({and:[{source:Zt,clock:en,fn:function(r,t){var n=r.find(function(o){return o.name===t}).fauna,a=new Map(n);return a},target:Ee}],or:{sid:"-qod2zb"}});A({and:[{source:tn,clock:zu,fn:v$,target:Ee}],or:{sid:"-q7bgl4"}});Ee.watch(console.log);A({and:[{clock:[en,Qt],target:pt.stop}],or:{sid:"-q67vee"}});A({and:[{source:Du,clock:w1,fn:s$,target:tn}],or:{sid:"-q5o2t1"}});Ee.on(rn,function(e){return hl(e)}).on(Mu,function(e,r){for(var t=e,n=1;n<=r;n++)t=hl(t);return t});$o.reset(en,Qt);function O1(){w("div",function(){m1(),n1(),w("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){w("h1",{text:"Game of Life"}),g1(),w$(),$1()}}),w("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:Qt}}),w("div",function(){ie({style:{position:"absolute",bottom:"50px",left:"20px"}}),w("button",{text:"Import",handler:{click:zu}}),w("br",{}),w("textarea",{style:{fontSize:"8px",width:"100%",height:"100px",lineHeight:1},text:tn,handler:{change:Uu.prepend(function(e){return e.target.value})}})})})}mc(document.querySelector("#app"),O1);
