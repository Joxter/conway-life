const bu=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};bu();function Tt(e,r){for(let t in e)r(e[t],t)}function q(e,r){e.forEach(r)}function Q(e,r){if(!e)throw Error(r)}function Na(e,r){U={parent:U,value:e,template:M(e,"template")||ir(),sidRoot:M(e,"sidRoot")||U&&U.sidRoot};try{return r()}finally{U=ce(U)}}function Ae({node:e=[],from:r,source:t,parent:a=r||t,to:n,target:o,child:i=n||o,scope:l={},meta:g={},family:v={type:"regular"},regional:s}={}){let f=yr(a),d=yr(v.links),c=yr(v.owners),u=[];q(e,h=>h&&Ie(u,h));let m={id:Au(),seq:u,next:yr(i),meta:g,scope:l,family:{type:v.type||"crosslink",links:d,owners:c}};return q(d,h=>Ie(kt(h),m)),q(c,h=>Ie(Pt(h),m)),q(f,h=>Ie(h.next,m)),s&&U&&rr(Sr(U),[m]),m}function T(e,r,t){let a=se,n=null,o=k;if(e.target&&(r=e.params,t=e.defer,a="page"in e?e.page:a,e.stack&&(n=e.stack),o=be(e)||o,e=e.target),o&&k&&o!==k&&(k=null),Array.isArray(e))for(let c=0;c<e.length;c++)Ce("pure",a,H(e[c]),n,r[c],o);else Ce("pure",a,H(e),n,r,o);if(t&&!zr)return;let i,l,g,v,s,f,d={isRoot:zr,currentPage:se,scope:k,isWatch:rt,isPure:tt};zr=0;e:for(;v=Pu();){let{idx:c,stack:u,type:m}=v;g=u.node,se=s=u.page,k=be(u),s?f=s.reg:k&&(f=k.reg);let h=!!s,p=!!k,y={fail:0,scope:g.scope};i=l=0;for(let b=c;b<g.seq.length&&!i;b++){let $=g.seq[b];if($.order){let{priority:S,barrierID:I}=$.order,x=I?s?`${s.fullID}_${I}`:I:0;if(b!==c||m!==S){I?Ht.has(x)||(Ht.add(x),La(b,u,S,I)):La(b,u,S);continue e}I&&Ht.delete(x)}switch($.type){case"mov":{let I,x=$.data;switch(x.from){case De:I=Sr(u);break;case"a":case"b":I=u[x.from];break;case"value":I=x.store;break;case"store":if(f&&!f[x.store.id])if(h){let A=pl(s,x.store.id);u.page=s=A,A?f=A.reg:p?(ar(k,x.store,0,1,x.softRead),f=k.reg):f=void 0}else p&&ar(k,x.store,0,1,x.softRead);I=Ir(f&&f[x.store.id]||x.store)}switch(x.to){case De:u.value=I;break;case"a":case"b":u[x.to]=I;break;case"store":Cu(s,k,g,x.target).current=I}break}case"compute":let S=$.data;if(S.fn){rt=M(g,"op")==="watch",tt=S.pure;let I=S.safe?(0,S.fn)(Sr(u),y.scope,u):_u(y,S.fn,u);S.filter?l=!I:u.value=I,rt=d.isWatch,tt=d.isPure}}i=y.fail||l}if(!i){let b=Sr(u);q(g.next,S=>{Ce("child",s,S,u,b,be(u))});let $=be(u);if($){M(g,"needFxCounter")&&Ce("child",s,$.fxCount,u,b,$),M(g,"storeChange")&&Ce("child",s,$.storeChange,u,b,$),M(g,"warnSerialize")&&Ce("child",s,$.warnSerializeNode,u,b,$);let S=$.additionalLinks[g.id];S&&q(S,I=>{Ce("child",s,I,u,b,$)})}}}zr=d.isRoot,se=d.currentPage,k=be(d)}function ol(e,r="combine"){let t=r+"(",a="",n=0;return Tt(e,o=>{n<25&&(o!=null&&(t+=a,t+=Me(o)?vn(o).fullName:o.toString()),n+=1,a=", ")}),t+")"}function il(e,r){let t,a,n=e;if(r){let o=vn(r);e.length===0?(t=o.path,a=o.fullName):(t=o.path.concat([e]),a=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],a=e;return{shortName:n,fullName:a,path:t}}function Fr(e,r){let t=r?e:e[0];vl(t);let a=t.or,n=t.and;if(n){let o=r?n:n[0];if(fe(o)&&"and"in o){let i=Fr(n,r);e=i[0],a={...a,...i[1]}}else e=n}return[e,a]}function ee(e,...r){let t=ir();if(t){let a=t.handlers[e];if(a)return a(t,...r)}}function w(e,r){let t=(n,...o)=>(Le(!M(t,"derived"),"call of derived event","createEvent"),Le(!tt,"unit call from pure function","operators like sample"),se?((i,l,g,v)=>{let s=se,f=null;if(l)for(f=se;f&&f.template!==l;)f=ce(f);po(f);let d=i.create(g,v);return po(s),d})(t,a,n,o):t.create(n,o)),a=ir();return Object.assign(t,{graphite:Ae({meta:ml("event",t,e,r),regional:1}),create:n=>(T({target:t,params:n,scope:k}),n),watch:n=>hl(t,n),map:n=>Xt(t,er,n,[xe()]),filter:n=>Xt(t,"filter",n.fn?n:n.fn,[xe(pn,1)]),filterMap:n=>Xt(t,"filterMap",n,[xe(),ue(o=>!W(o),1)]),prepend(n){let o=w("* \u2192 "+t.shortName,{parent:ce(t)});return ee("eventPrepend",H(o)),Ue(o,t,[xe()],"prepend",n),yl(t,o),o}})}function P(e,r){let t=tr(e),a=w({named:"updates",derived:1});ee("storeBase",t);let n=t.id,o={subscribers:new Map,updates:a,defaultState:e,stateRef:t,getState(){let f,d=t;if(se){let c=se;for(;c&&!c.reg[n];)c=ce(c);c&&(f=c)}return!f&&k&&(ar(k,t,1),f=k),f&&(d=f.reg[n]),Ir(d)},setState:f=>T({target:o,params:f,defer:1,scope:k}),reset:(...f)=>(q(f,d=>o.on(d,()=>o.defaultState)),o),on:(f,d)=>(pt(f,".on","first argument"),Le(!M(o,"derived"),".on in derived store","createStore"),q(Array.isArray(f)?f:[f],c=>{o.off(c),et(o).set(c,gl(ho(c,o,"on",Tu,d)))}),o),off(f){let d=et(o).get(f);return d&&(d(),et(o).delete(f)),o},map(f,d){let c,u;fe(f)&&(c=f,f=f.fn),Le(W(d),"second argument of store.map","updateFilter");let m=o.getState();ir()?u=null:W(m)||(u=f(m,d));let h=P(u,{name:`${o.shortName} \u2192 *`,derived:1,and:c}),p=ho(o,h,er,Da,f);return Ma(re(h),{type:er,fn:f,from:t}),re(h).noInit=1,ee("storeMap",t,p),h},watch(f,d){if(!d||!Me(f)){let c=hl(o,f);return ee("storeWatch",t,f)||f(o.getState()),c}return Q(te(d),"second argument should be a function"),f.watch(c=>d(o.getState(),c))}},i=ml("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=Ae({scope:{state:t,fn:l},node:[ue((f,d,c)=>(c.scope&&!c.scope.reg[t.id]&&(c.b=1),f)),Be(t),ue((f,d,{a:c,b:u})=>!W(f)&&(f!==c||u),1),l&&xe(Da,1),Z({from:De,target:t})],child:a,meta:i,regional:1});let g=M(o,"derived"),v=M(o,"serialize")==="ignore",s=M(o,"sid");return s&&(v||Fe(o,"storeChange",1),t.sid=s),s||v||g||Fe(o,"warnSerialize",1),Q(g||!W(e),"current state can't be undefined, use null instead"),rr(o,[a]),o}function or(...e){let r,t,a;[e,a]=Fr(e);let n,o,i,l=e[e.length-1];if(te(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let g=t[0];ae(g)||(n=g,o=1)}if(!o&&(n=t,r)){i=1;let g=r;r=v=>g(...v)}return Q(fe(n),"shape should be an object"),Fu(Array.isArray(n),!i,n,a,r)}function $u(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function fn(e,r){let t=w(te(e)?{handler:e}:e,r),a=H(t);Fe(a,"op",t.kind="effect"),t.use=d=>(Q(te(d),".use argument should be a function"),v.scope.handler=d,t),t.use.getCurrent=()=>v.scope.handler;let n=t.finally=w({named:"finally",derived:1}),o=t.done=n.filterMap({named:"done",fn({status:d,params:c,result:u}){if(d==="done")return{params:c,result:u}}}),i=t.fail=n.filterMap({named:"fail",fn({status:d,params:c,error:u}){if(d==="fail")return{params:c,error:u}}}),l=t.doneData=o.map({named:"doneData",fn:({result:d})=>d}),g=t.failData=i.map({named:"failData",fn:({error:d})=>d}),v=Ae({scope:{handlerId:M(a,"sid"),handler:t.defaultConfig.handler||(()=>Q(0,`no handler used in ${t.getType()}`))},node:[ue((d,c,u)=>{let m=c,h=m.handler;if(be(u)){let p=be(u).handlers[m.handlerId];p&&(h=p)}return d.handler=h,d},0,1),ue(({params:d,req:c,handler:u,args:m=[d]},h,p)=>{let y=gt(d,c,1,n,p),b=gt(d,c,0,n,p),[$,S]=bl(u,b,m);$&&(fe(S)&&te(S.then)?S.then(y,b):y(S))},0,1)],meta:{op:"fx",fx:"runner"}});a.scope.runner=v,Ie(a.seq,ue((d,{runner:c},u)=>{let m=ce(u)?{params:d,req:{rs(h){},rj(h){}}}:d;return T({target:c,params:m,defer:1,scope:be(u)}),m.params},0,1)),t.create=d=>{let c=$u(),u={params:d,req:c};if(k){if(!rt){let m=k;c.req.finally(()=>{Ru(m)}).catch(()=>{})}T({target:t,params:u,scope:k})}else T(t,u);return c.req};let s=t.inFlight=P(0,{serialize:"ignore"}).on(t,d=>d+1).on(n,d=>d-1).map({fn:d=>d,named:"inFlight"});Fe(n,"needFxCounter","dec"),Fe(t,"needFxCounter",1);let f=t.pending=s.map({fn:d=>d>0,named:"pending"});return rr(t,[n,o,i,l,g,f,s]),t}function Su(e){let r;[e,r]=Fr(e,1);let{source:t,effect:a,mapParams:n}=e,o=fn(e,r);Fe(o,"attached",1);let i,{runner:l}=H(o).scope,g=ue((s,f,d)=>{let c,{params:u,req:m,handler:h}=s,p=o.finally,y=gt(u,m,0,p,d),b=d.a,$=dt(h),S=1;if(n?[S,c]=bl(n,y,[u,b]):c=t&&$?b:u,S){if(!$)return s.args=[b,c],1;T({target:h,params:{params:c,req:{rs:gt(u,m,1,p,d),rj:y}},page:d.page,defer:1})}},1,1);if(t){let s;ae(t)?(s=t,rr(s,[o])):(s=or(t),rr(o,[s])),i=[Be(re(s)),g]}else i=[g];l.seq.splice(1,0,...i),o.use(a);let v=ce(a);return v&&(Object.assign(vn(o),il(o.shortName,v)),o.defaultConfig.parent=v),yl(a,o,"effect"),o}function vt(e,r){pt(e,"merge","first argument");let t=w({name:ol(e,"merge"),derived:1,and:r});return Ue(e,t,[],"merge"),t}function ll(e,r){let t=0;return q(Du,a=>{a in e&&(Q(e[a]!=null,$l(r,a)),t=1)}),t}function j(...e){let r,t,a,n,[[o,i,l],g]=Fr(e),v=1;return W(i)&&fe(o)&&ll(o,"sample")&&(i=o.clock,l=o.fn,v=!o.greedy,n=o.filter,r=o.target,t=o.name,a=o.sid,o=o.source),Sl("sample",i,o,n,r,l,t,g,v,1,0,a)}function Yt(...e){let[[r,t],a]=Fr(e);return t||(t=r,r=t.source),ll(t,"guard"),Sl("guard",t.clock,r,t.filter,t.target,null,t.name,a,!t.greedy,0,1)}function uo(e,r,t){if(ae(e))return Le(0,"restore($store)"),e;if(sl(e)||dt(e)){let n=ce(e),o=P(r,{parent:n,name:e.shortName,and:t});return Ue(dt(e)?e.doneData:e,o),n&&n.hooks.store(o),o}let a=Array.isArray(e)?[]:{};return Tt(e,(n,o)=>a[o]=ae(n)?n:P(n,{name:o})),a}let Iu=typeof Symbol<"u"&&Symbol.observable||"@@observable",er="map",De="stack",Me=e=>(te(e)||fe(e))&&"kind"in e;const Nr=e=>r=>Me(r)&&r.kind===e;let ae=Nr("store"),sl=Nr("event"),dt=Nr("effect"),ul=Nr("domain"),xu=Nr("scope");var G={__proto__:null,unit:Me,store:ae,event:sl,effect:dt,domain:ul,scope:xu};let Qt=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},Ie=(e,r)=>e.push(r),Le=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),H=e=>e.graphite||e,kt=e=>e.family.owners,Pt=e=>e.family.links,re=e=>e.stateRef,Sr=e=>e.value,et=e=>e.subscribers,ce=e=>e.parent,be=e=>e.scope,M=(e,r)=>H(e).meta[r],Fe=(e,r,t)=>H(e).meta[r]=t,vn=e=>e.compositeName;const dn=()=>{let e=0;return()=>""+ ++e};let wu=dn(),cl=dn(),Au=dn(),U=null,ir=()=>U&&U.template,fl=e=>(e&&U&&U.sidRoot&&(e=`${U.sidRoot}|${e}`),e),Ou=({sid:e,name:r,loc:t,method:a,fn:n})=>Na(Ae({meta:{sidRoot:fl(e),name:r,loc:t,method:a}}),n),rr=(e,r)=>{let t=H(e);q(r,a=>{let n=H(a);t.family.type!=="domain"&&(n.family.type="crosslink"),Ie(kt(n),t),Ie(Pt(t),n)})},yr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(H),fe=e=>typeof e=="object"&&e!==null,te=e=>typeof e=="function",W=e=>e===void 0,vl=e=>Q(fe(e)||te(e),"expect first argument be an object");const co=(e,r,t,a)=>Q(!(!fe(e)&&!te(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${a}`);let pt=(e,r,t)=>{Array.isArray(e)?q(e,(a,n)=>co(a,r,`${n} item of ${t}`,"")):co(e,r,t," or array of units")},Eu=(e,r,t="target")=>q(yr(r),a=>Le(!M(a,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),Da=(e,{fn:r},{a:t})=>r(e,t),Tu=(e,{fn:r},{a:t})=>r(t,e),pn=(e,{fn:r})=>r(e);const dl=(e,r,t,a)=>{let n={id:cl(),type:e,data:r};return t&&(n.order={priority:t},a&&(n.order.barrierID=++ku)),n};let ku=0,Z=({from:e="store",store:r,target:t,to:a=t?"store":De,batch:n,priority:o})=>dl("mov",{from:e,store:r,to:a,target:t},o,n),Tr=({fn:e,batch:r,priority:t,safe:a=0,filter:n=0,pure:o=0})=>dl("compute",{fn:e,safe:a,filter:n,pure:o},t,r),gn=({fn:e})=>Tr({fn:e,priority:"effect"}),ue=(e,r,t)=>Tr({fn:e,safe:1,filter:r,priority:t&&"effect"}),Be=(e,r,t)=>Z({store:e,to:r?De:"a",priority:t&&"sampler",batch:1}),xe=(e=pn,r)=>Tr({fn:e,pure:1,filter:r}),fo={mov:Z,compute:Tr,filter:({fn:e,pure:r})=>Tr({fn:e,filter:1,pure:r}),run:gn},tr=e=>({id:cl(),current:e}),Ir=({current:e})=>e,Ma=(e,r)=>{e.before||(e.before=[]),Ie(e.before,r)},He=null;const hn=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||Ba(e.v.type)>Ba(r.v.type))&&(t=e,e=r,r=t),t=hn(e.r,r),e.r=e.l,e.l=t,e},yn=[];let vo=0;for(;vo<6;)Ie(yn,{first:null,last:null,size:0}),vo+=1;const Pu=()=>{for(let e=0;e<6;e++){let r=yn[e];if(r.size>0){if(e===3||e===4){r.size-=1;let a=He.v;return He=hn(He.l,He.r),a}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},Ce=(e,r,t,a,n,o)=>La(0,{a:null,b:null,node:t,parent:a,value:n,page:r,scope:o},e),La=(e,r,t,a=0)=>{let n=Ba(t),o=yn[n],i={v:{idx:e,stack:r,type:t,id:a},l:null,r:null};n===3||n===4?He=hn(He,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},Ba=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},Ht=new Set;let k,zr=1,rt=0,tt=0,se=null,Ru=e=>{k=e},po=e=>{se=e};const pl=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=ce(e);if(e)return e}return null};let Cu=(e,r,t,a,n)=>{let o=pl(e,a.id);return o?o.reg[a.id]:r?(ar(r,a,n),r.reg[a.id]):a},ar=(e,r,t,a,n)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!n){let g=0,v=t||!r.noInit||a;q(r.before,s=>{switch(s.type){case er:{let f=s.from;if(f||s.fn){f&&ar(e,f,t,a);let d=f&&o[f.id].current;v&&(l.current=s.fn?s.fn(d):d)}break}case"field":g||(g=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),ar(e,s.from,t,a),v&&(l.current[s.field]=o[o[s.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const _u=(e,r,t)=>{try{return r(Sr(t),e.scope,t)}catch(a){console.error(a),e.fail=1}};let Ga=(e,r={})=>(fe(e)&&(Ga(e.or,r),Tt(e,(t,a)=>{W(t)||a==="or"||a==="and"||(r[a]=t)}),Ga(e.and,r)),r);const go=(e,r)=>{Qt(e.next,r),Qt(kt(e),r),Qt(Pt(e),r)},Ua=(e,r,t)=>{let a;e.next.length=0,e.seq.length=0,e.scope=null;let n=Pt(e);for(;a=n.pop();)go(a,e),(r||t&&M(e,"op")!=="sample"||a.family.type==="crosslink")&&Ua(a,r,M(a,"op")!=="on"&&t);for(n=kt(e);a=n.pop();)go(a,e),t&&a.family.type==="crosslink"&&Ua(a,r,M(a,"op")!=="on"&&t)},ur=e=>e.clear();let ju=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),ae(e))ur(et(e));else if(ul(e)){t=1;let a=e.history;ur(a.events),ur(a.effects),ur(a.stores),ur(a.domains)}Ua(H(e),!!r,t)},gl=e=>{let r=()=>ju(e);return r.unsubscribe=r,r},Ue=(e,r,t,a,n)=>Ae({node:t,parent:e,child:r,scope:{fn:n},meta:{op:a},family:{owners:[e,r],links:r},regional:1}),hl=(e,r)=>(Q(te(r),".watch argument should be a function"),gl(Ae({scope:{fn:r},node:[gn({fn:pn})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),yl=(e,r,t="event")=>{ce(e)&&ce(e).hooks[t](r)},ml=(e,r,t,a)=>{let n=e==="domain",o=wu(),i=Ga({or:a,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:g=null,named:v=null}=i,s=v||i.name||(n?"":o),f=il(s,l),d={op:r.kind=e,name:r.shortName=s,sid:r.sid=fl(g),named:v,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=f,r.defaultConfig=i,r.thru=c=>(Le(0,"thru","js pipe"),c(r)),r.getType=()=>f.fullName,!n){r.subscribe=u=>(vl(u),r.watch(te(u)?u:m=>u.next&&u.next(m))),r[Iu]=()=>r;let c=ir();c&&(d.nativeTemplate=c)}return d};const Xt=(e,r,t,a)=>{let n;fe(t)&&(n=t,t=t.fn);let o=w({name:`${e.shortName} \u2192 *`,derived:1,and:n});return Ue(e,o,a,r,t),o},ho=(e,r,t,a,n)=>{let o=re(r),i=Z({store:o,to:"a",priority:"read"});t===er&&(i.data.softRead=1);let l=[i,xe(a)];return ee("storeOnMap",o,l,ae(e)&&re(e)),Ue(e,r,l,t,n)},Fu=(e,r,t,a,n)=>{let o=e?u=>u.slice():u=>({...u}),i=e?[]:{},l=o(i),g=tr(l),v=tr(1);g.type=e?"list":"shape",g.noInit=1,ee("combineBase",g,v);let s=P(l,{name:ol(t),derived:1,and:a}),f=re(s);f.noInit=1,Fe(s,"isCombine",1);let d=Be(g);d.order={priority:"barrier"};let c=[ue((u,m,h)=>(h.scope&&!h.scope.reg[g.id]&&(h.c=1),u)),d,Z({store:v,to:"b"}),ue((u,{key:m},h)=>{if(h.c||u!==h.a[m])return r&&h.b&&(h.a=o(h.a)),h.a[m]=u,1},1),Z({from:"a",target:g}),Z({from:"value",store:0,target:v}),Z({from:"value",store:1,target:v,priority:"barrier",batch:1}),Be(g,1),n&&xe()];return Tt(t,(u,m)=>{if(!ae(u))return Q(!Me(u)&&!W(u),`combine expects a store in a field ${m}`),void(l[m]=i[m]=u);i[m]=u.defaultState,l[m]=u.getState();let h=Ue(u,s,c,"combine",n);h.scope.key=m;let p=re(u);Ma(g,{type:"field",field:m,from:p}),ee("combineField",p,h)}),s.defaultShape=t,Ma(f,{type:er,from:g,fn:n}),ir()||(s.defaultState=n?f.current=n(l):i),s};let bl=(e,r,t)=>{try{return[1,e(...t)]}catch(a){return r(a),[0,null]}},gt=(e,r,t,a,n)=>o=>T({target:[a,Nu],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:n.page,scope:be(n)});const Nu=Ae({node:[gn({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),Du=["source","clock","target"],$l=(e,r)=>e+`: ${r} should be defined`;let Sl=(e,r,t,a,n,o,i,l,g,v,s,f)=>{let d=!!n;Q(!W(t)||!W(r),$l(e,"either source or clock"));let c=0;W(t)?c=1:Me(t)||(t=or(t)),W(r)?r=t:(pt(r,e,"clock"),Array.isArray(r)&&(r=vt(r))),c&&(t=r),l||i||(i=t.shortName);let u="none";(s||a)&&(Me(a)?u="unit":(Q(te(a),"`filter` should be function or unit"),u="fn")),n?(pt(n,e,"target"),Eu(e,n)):u==="none"&&v&&ae(t)&&ae(r)?n=P(o?o(Ir(re(t)),Ir(re(r))):Ir(re(t)),{name:i,sid:f,or:l}):(n=w({name:i,derived:1,or:l}),ee("sampleTarget",H(n)));let m=tr(),h=[];if(u==="unit"){let[b,$]=yo(a,n,r,m,e);h=[...Jt($),...Jt(b)]}let[p,y]=yo(t,n,r,m,e);return rr(t,[Ue(r,n,[ee("sampleSourceLoader"),Z({from:De,target:m}),...Jt(y),Be(p,1,g),...h,Be(m),u==="fn"&&xe((b,$,{a:S})=>a(b,S),1),o&&xe(Da),ee("sampleSourceUpward",d)],e,o)]),n};const Jt=e=>[Be(e),ue((r,t,{a})=>a,1)],yo=(e,r,t,a,n)=>{let o=ae(e),i=o?re(e):tr(),l=tr(o);return o||Ae({parent:e,node:[Z({from:De,target:i}),Z({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:n},regional:1}),ee("sampleSource",l,i,a),[i,l]};function at(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function xr(e){var r,t;e.status="active",r=nt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function nt(e){return e.group.activeChilds[e.priority]}function mo(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&xr(r)}function Y(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(xr(r),nt(r).first||at(r.group,r.priority)));var t,a,n,o;r.status==="active"&&(r.status="pending",nt(r).first||((n=r.group).queue[o=r.priority].last?(n.cursor[o].prev=n.queue[o].last,n.queue[o].last.cursor[o].next=n,n.queue[o].last=n):n.queue[o].first=n.queue[o].last=n),a=r,(t=nt(r)).last?(a.cursor.prev=t.last,t.last.cursor.next=a,t.last=a):t.first=t.last=a),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=Cl(r.group.queue.execQueue))}function Mu(e){je("execQueue");let r,t,a=ke(),n=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(ke()-a>=1e3){n=1;break e}let o=!!e.props.first;for(o&&je("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(ke()-a>=1e3){n=1,le("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,xr(t)}at(r,"props")}o&&le("props");let i=!!e.tree.first;for(i&&je("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(ke()-a>=1e3){n=1,le("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,xr(t)}at(r,"tree")}i&&le("tree");let l=!!e.data.first;for(l&&je("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(ke()-a>=1e3){n=1,le("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,xr(t)}at(r,"data")}l&&le("data")}if(le("execQueue"),n)e.rafID=Cl(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function wr({value:e,runOp:r,group:t,priority:a}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:a,group:t,cursor:{prev:null,next:null}}}function Lu({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=Mu.bind(null,r),r}function kr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function Bu({value:e,group:r,onInit:t,onChange:a}){let n=wr({value:e,group:r,runOp(i){o.status="A",a(i)},priority:"data"}),o={status:"IA",value:n.value,ops:{init:wr({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:n,terminate:wr({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return Y(1,o.ops.init),o}function Gu(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",Y(1,e.ops.terminate);break;case"AA":e.status="AT",Y(1,e.ops.terminate),Y(e.value.active,e.ops.change);break;case"IA":e.status="T",Y(0,e.ops.init)}}function Uu(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",Y(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",Y(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function qu(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function Il(e,r){for(let t=0;t<r.length;t++){let{type:a,field:n,value:o}=r[t];Qu[a](e,n,o)}}function Rt(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function xl(e,r,t){Rt(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function wl(e,r,t){Rt(t)?delete e.style[r]:e.style[r]=`${t}`}function Al(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function Ol(e,r,t){Rt(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function El(e,r,t){if(Rt(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function qa(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function nr({fn:e,state:r={},defer:t=0,name:a="",draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g=0}){let v=E,s={id:++Xu,name:a,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:Hu,upward:fo.filter({fn(d,c,u){if(!u.page){if(!u.parent||!u.parent.page)return 1;u.page=u.parent.page}if(!u.page.root.activeSpawns.has(u.page.fullID))return console.count("inactive page upward"),0;let m=[u.page.template],h=[u.page];{let p=u.page.parent;for(;p;)h.push(p),m.push(p.template),p=p.parent}return u.node.next.forEach(p=>{let y=p.meta.nativeTemplate;if(y)if(m.includes(y)){let b=h[m.indexOf(y)];T({target:p,params:d,defer:1,page:b,stack:u,scope:u.scope})}else console.error("context drift",{stack:u,node:p});else T({target:p,params:d,defer:1,page:u.page,stack:u,scope:u.scope})}),0}}),loader:fo.filter({fn(d,c,u){if(u.parent){let m=u.scope?u.scope.graphite.id:null;if(u.page){if(!u.page.root.activeSpawns.has(u.page.fullID))return console.count("inactive page loader"),0;if(u.page.template===s)return 1;if(u.page.root.childSpawns[u.page.fullID][s.id])u.page.root.childSpawns[u.page.fullID][s.id].forEach(h=>{(!m||h.root.scope&&m===h.root.scope.graphite.id)&&T({params:d,target:u.node,page:h,defer:1,scope:u.scope})});else{let h=u.page.fullID,p=u.page.template.name==="rec";s.pages.forEach(y=>{if(!m||y.root.scope&&m===y.root.scope.graphite.id)if(y.fullID===h||y.fullID.startsWith(`${h}_`)){let b=1;if(p){let $=u.page.template.id,S=y.parent;for(;S&&S!==u.page;){if(S.template.id===$){b=0;break}S=S.parent}}b&&T({params:d,target:u.node,page:y,defer:1,scope:u.scope})}else h.startsWith(`${y.fullID}_`)&&T({params:d,target:u.node,page:u.page,defer:1,scope:u.scope})})}}else s.pages.forEach(h=>{(!m||h.root.scope&&m===h.root.scope.graphite.id)&&T({params:d,target:u.node,page:h,defer:1,scope:u.scope})});return 0}return 1}}),parent:v,node:null,api:null,trigger:{mount:w({named:"mount"})},draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g||!(!v||!v.isBlock)};v&&v.childTemplates.push(s);let f=Ae({meta:{template:s}});return s.node=f,E=s,t?s.deferredInit=()=>{let d=E;E=s,s.deferredInit=null;try{Na(f,()=>{let c=uo(r);s.api=e(c,s.trigger),s.nameMap=c})}finally{E=d}}:Na(f,()=>{let d=uo(r);s.api=e(d,s.trigger),s.nameMap=d}),E=v,s}function Vu(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function Tl(e,r,t){let a=r;for(;a&&!Rr(a,e);)a=a.parent;return a?Rr(a,e):t?(t.getState(e),t.reg[e.id]):e}function Zt(e,r){Rr(r,e)||(r.reg[e.id]=Tl(e,r.parent,r.root.scope))}function bo(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function ht(e,{values:r={},parentLeaf:t,mountNode:a,svgRoot:n,leafData:o,opGroup:i,domSubtree:l,hydration:g,root:v}){function s(h){if(h.before)for(let p=0;p<h.before.length;p++){let y=h.before[p];switch(y.type){case"map":{let b,$=y.from;if(!y.fn&&!$)break;$&&(Zt($,c),b=d[$.id].current),d[h.id].current=y.fn?y.fn(b):b;break}case"field":{let b=y.from;Zt(b,c),d[h.id].current[y.field]=d[b.id].current;break}case"closure":Zt(y.of,c)}}}function f(h,p,y){let b;p.stop=1;try{for(;p.i<h.length;)b=h[p.i],p.i++,b.fn(y[b.of.id]?y[b.of.id].current:Tl(b.of,c.parent,c.root.scope).current)}catch($){console.error($),p.stop=0}}let d={},c={draft:e.draft,svgRoot:n,data:o,parent:t,hydration:g,mountNode:a,root:v,id:++Ju,fullID:"",reg:d,template:e};e.pages.push(c);let u=Ze;Ze=c,t&&bo([c],e.id,v.childSpawns[t.fullID]),c.fullID=t?`${t.fullID}_${c.id}`:`${c.id}`,v.childSpawns[c.fullID]={},v.activeSpawns.add(c.fullID),v.leafOps[c.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let p=e.closure[h],y=p,b=c.parent;e:for(;b;){if(Rr(b,p)){y=Rr(b,p);break e}b=b.parent}!b&&v.scope&&(v.scope.getState(p),y=v.scope.reg[p.id]),d[p.id]=y}for(let h=0;h<e.plain.length;h++){let p=e.plain[h],y={id:p.id,current:Vu(p,v.scope)};d[p.id]=y}for(let h in r){let p=e.nameMap[h].stateRef.id;d[p]={id:p,current:r[h]}}e.closure.forEach(s),e.plain.forEach(s);let m={i:0,stop:0};for(;!m.stop;)f(e.watch,m,d);if(t)for(let h in v.childSpawns[c.fullID])bo(v.childSpawns[c.fullID][h],h,v.childSpawns[t.fullID]);if(ye)ye.steps.push({target:e.trigger.mount,params:c,defer:1,page:c,scope:v.scope});else{let h;ye={parent:ye,steps:[{target:e.trigger.mount,params:c,defer:1,page:c,scope:v.scope}]};do for(;h=ye.steps.shift();)ye={parent:ye,steps:[]},T(h);while(ye=ye.parent)}return Ze=u,c}function yt(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function mt(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=mt(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=mt(r);if(t)return t;r=r.left}return null}default:return null}}function bt(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=mt(r);if(t)return t;r=r.left}return bt(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let a=r.child[t];if(!a)continue;let n=mt(a);if(n)return n}switch(r.type){case"element":case"using":return null}return bt(r)}default:return null}}function Va(e){let r=bt(e);return r?r.value:null}function Pr(e,r){if(!e)throw Error(r)}function Dr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function $t(e){if(!E)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(E.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=E.draft.childCount,E.draft.childCount+=1,E.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${E.draft.type}`)}}function $e(e,{parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o}){e.childTemplates.forEach(i=>{mn({parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o,actor:i})})}function mn({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:a,svgRoot:n,values:o}){let i;Pr(Zu.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=a,{queue:g}=r.root.leafOps[r.fullID].group,v=kr(g),s=r.root.leafOps[r.fullID].domSubtree,f=s;switch(l.type){case"route":{let c={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"route",block:c,ops:{},initialized:0,pendingInit:null};break}case"element":{let c;if(a.isBlock){let m,h,p=r;for(;p&&(!h||!m);){p.template.env&&(m=p.template.env);let{draft:y}=p;y.type==="element"&&(y.tag==="svg"?h="svg":y.tag==="foreignObject"&&(h="html")),p=p.parent}h||(h="html"),m&&(c=h==="svg"?m.document.createElementNS("http://www.w3.org/2000/svg",l.tag):m.document.createElement(l.tag),Il(c,l.staticSeq))}else c=l.stencil.cloneNode();let u={type:"element",parent:e,child:[],value:c,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"element",block:u,ops:{visible:wr({value:0,priority:"tree",runOp(m){if(m){kl(u);let h=i;h.needToCallNode&&(h.needToCallNode=0,T({target:St,params:{element:u.value,fns:l.node},page:d,scope:r.root.scope})),u.visible=1}else u.value.remove(),u.visible=0},group:s})},needToCallNode:l.node.length>0},f=kr(g);break}case"list":{let c={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"list",draft:l,block:c,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let c={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"rec",block:c};break}case"recItem":{let c={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"rec item",block:c};break}case"block":{let c={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"block",block:c};break}case"blockItem":{let c={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"block item",block:c};break}default:console.warn(`unexpected draft type ${l.type}`)}let d=ht(a,{values:o,parentLeaf:r,mountNode:t,svgRoot:n||r.svgRoot,leafData:i,opGroup:v,domSubtree:f,hydration:r.hydration,root:r.root})}function kl(e){let r=Va(e);r?r.after(e.value):yt(e).prepend(e.value),e.visible=1}function Xe({mount:e,state:r,onMount:t,onState:a}){return{onMount:j({source:r,clock:e,fn:t,greedy:1}),onState:j({source:e,clock:r,fn:a,greedy:1})}}function Ar(e,r){for(let t in e)r(e[t],t)}function $o(e,r){if(!E)return;let t=E.draft;Pr(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)Pr(G.unit(r[l]),`handler for "${l}" should be event`);let{passive:a=0,capture:n=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:a,capture:n},map:r})}function Pe(e){Dr(E,"spec");let r=E.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let n=e.text,o=r.childCount;Array.isArray(n)?(r.text.push(...n.map((i,l)=>({index:l+o,value:i}))),r.childCount+=n.length):(r.text.push({index:o,value:n}),r.childCount+=1)}if(e.style){let n={};for(let o in e.style)n[qu(o)]=e.style[o];r.style.push(n)}var t,a;if(e.classList&&(t=e.classList,a=n=>r.classList.push(n),Array.isArray(t)?t.forEach(n=>{let o=typeof n=="string"?n:n.map(l=>l||""),i=typeof n=="string"?1:n.map(l=>l!==null);a({name:o,enabled:i})}):Ar(t,(n,o)=>{a({name:o,enabled:n})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let n=e.handler;typeof n.on=="object"?$o(n.config||{},n.on):$o(n)}e.\u0254&&Pe(e.\u0254)}function ea(e,{initCtx:r,runOp:t,hooks:{onMount:a,onState:n}}){let o=e.opsAmount++;a.watch(({value:i,leaf:l})=>{let g=r(i,l),v=wr({value:i,priority:"props",runOp(s){t(s,g)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=v}),n.watch(({value:i,leaf:l})=>{Y(i,l.root.leafOps[l.fullID].group.ops[o])})}function Kr(e,r,t){e[r].forEach(a=>{Ar(a,(n,o)=>{switch(r){case"data":case"styleVar":t[r][o]=n;break;case"attr":t.attr[o==="xlink:href"?"href":o]=n;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=n:t.style[o]=n}})})}function So(e,r,t){let a=e.data.block,n={type:"text",parent:a,visible:0,index:t,value:null};if(a.child[t]=n,e.hydration){let o=bt(n);if(o)switch(o.type){case"text":n.value=e.root.env.document.createTextNode(r),o.value.after(n.value);break;case"element":n.value=o.value.nextSibling,qa(n.value,r)}else{let i=yt(n);n.value=i.firstChild,qa(n.value,r)}n.visible=1}else n.value=e.root.env.document.createTextNode(r),kl(n);return n}function cr(e){let r=e.stateRef,t=E;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function O(e,r){let t,a=0,n=0;typeof r=="function"?(a=1,t=r):r&&(n=1,r.fn&&(a=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(a=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(a=1,t=r.\u0254.fn))),Dr(E,"h");let o,i=E.env,l=E.namespace,g=l,v="html";g=v=l==="svg"?"svg":"html",e==="svg"&&(v="svg",g="svg"),E.isBlock||(o=v==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let s=o,f={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:s,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(f.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),g="html"):e==="svg"?(f.attr.push({xmlns:"http://www.w3.org/2000/svg"}),g="svg"):e==="foreignObject"&&(g="foreignObject");let d=nr({name:"element",draft:f,isSvgRoot:e==="svg",namespace:g,fn(c,{mount:u}){let m=w({named:"domElementCreated"});a&&t(),n&&Pe(r),G.unit(f.visible)&&(f.seq.push({type:"visible",value:f.visible}),cr(f.visible));let h={attr:{},data:{},style:{},styleVar:{}};Kr(f,"attr",h),Kr(f,"data",h),Kr(f,"style",h),Kr(f,"styleVar",h),Ar(h,(p,y)=>{Ar(p,(b,$)=>{G.unit(b)?(f.seq.push({type:y,field:$,value:b}),cr(b)):f.staticSeq.push({type:y,field:$,value:b})})}),f.classList.forEach(p=>{if(G.unit(p.name)||G.unit(p.enabled)){let y=G.unit(p.name)?p.name:P(p.name),b=G.unit(p.enabled)?p.enabled:P(p.enabled);f.seq.push({type:"classList",field:y,value:b}),cr(y),cr(b)}else G.unit(p.name)||f.staticSeq.push({type:"classList",field:p.name,value:p.enabled})}),f.text.forEach(p=>{p.value!==null&&(G.unit(p.value)?(f.seq.push({type:"dynamicText",value:p.value,childIndex:p.index}),cr(p.value)):f.seq.push({type:"staticText",value:String(p.value),childIndex:p.index}))}),f.handler.forEach(p=>{Ar(p.map,(y,b)=>{f.seq.push({type:"handler",for:b,handler:y,options:p.options,domConfig:p.domConfig})})}),s&&Il(s,f.staticSeq),f.seq.forEach(p=>{switch(p.type){case"visible":{let{onMount:y,onState:b}=Xe({mount:u,state:p.value,onMount:($,S)=>({leaf:S,value:$,hydration:S.hydration}),onState:($,S)=>({leaf:$,value:S,hydration:0})});y.watch(({leaf:$,value:S,hydration:I})=>{let x=$.data,A=x.block;if(I&&(mo(S,x.ops.visible),S)){let _,B=Va(A);if(_=B?B.nextSibling:yt(A).firstChild,_.nodeName==="#text"){let pe=_;_=_.nextSibling,pe.remove()}A.value=_,A.visible=1}$e(f,{parentBlockFragment:A,leaf:$,node:A.value,svgRoot:d.isSvgRoot?A.value:null}),S&&x.needToCallNode&&(x.needToCallNode=0,T({target:St,params:{element:x.block.value,fns:f.node},page:$,defer:1,scope:$.root.scope})),T({target:m,params:$,defer:1,page:$,scope:$.root.scope})}),vt([b,y]).watch(({leaf:$,value:S,hydration:I})=>{I||Y(S,$.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let y=Eo[p.type],b=ec.some(({type:S,field:I})=>p.type===S&&p.field===I),$=Xe({mount:m,state:p.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});b?vt([$.onState,$.onMount]).watch(({leaf:S,value:I})=>{y(Wr(S),p.field,I)}):ea(f,{initCtx(S,I){let x=Wr(I);return y(x,p.field,S),x},runOp(S,I){y(I,p.field,S)},hooks:$});break}case"classList":{let y=Eo.classList,b=P({prev:"",curr:p.field.getState()}).on(p.field,({curr:S},I)=>({prev:S,curr:I})),$=Xe({mount:m,state:or({name:b,enabled:p.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});ea(f,{initCtx(S,I){let x=Wr(I);return y(x,S.name.curr,S.enabled),x},runOp(S,I){S.name.prev!==S.name.curr&&y(I,S.name.prev,0),y(I,S.name.curr,S.enabled)},hooks:$});break}case"dynamicText":ea(f,{initCtx:(y,b)=>So(b,y,p.childIndex),runOp(y,b){qa(b.value,y)},hooks:Xe({mount:m,state:p.value,onMount:(y,b)=>({leaf:b,value:String(y)}),onState:(y,b)=>({leaf:y,value:String(b)})})});break;case"staticText":m.watch(y=>{So(y,p.value,p.childIndex)});break;case"handler":{let y=p.handler.graphite.meta.nativeTemplate||null;m.watch(b=>{let $=null;if(y){let S=0,I=b;for(;!S&&I;)I.template===y?(S=1,$=I):I=I.parent}else $=null;Wr(b).addEventListener(p.for,S=>{p.options.prevent&&S.preventDefault(),p.options.stop&&S.stopPropagation(),T({target:p.handler,params:S,page:$,scope:b.root.scope})},p.domConfig)});break}}}),u.watch(p=>{let y=p.data;if(!f.visible){let b=y.ops.visible,$=y.block;if(p.hydration){mo(1,b);let S,I=Va($);if(S=I?I.nextSibling:yt($).firstChild,S.nodeName==="#text"){let x=S;S=S.nextSibling,x.remove()}$.value=S,$.visible=1}$e(f,{parentBlockFragment:$,leaf:p,node:$.value,svgRoot:d.isSvgRoot?$.value:null}),T({target:m,params:p,defer:1,page:p,scope:p.root.scope}),p.hydration?y.needToCallNode&&(y.needToCallNode=0,T({target:St,params:{element:y.block.value,fns:f.node},page:p,defer:1,scope:p.root.scope})):Y(1,b)}})},env:i});$t(d)}function Io(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function zu(e,r){let t,a,n,o,i,l;if(typeof r=="function")t=r,n=Io(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,n=r.env?r.env:Io(),o=r.hydrate,a=r.onComplete,i=r.onRoot,l=r.scope}Pr(e,"using() first argument is missing");let g={scope:l,env:n,activeSpawns:new Set,childSpawns:{},leafOps:{}},v=e.namespaceURI,s=e.tagName.toLowerCase(),f={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},d=nr({name:"using",draft:f,isSvgRoot:s==="svg",namespace:v==="http://www.w3.org/2000/svg"?"svg":s==="foreignobject"?"foreignObject":"html",fn(h,{mount:p}){t(),p.watch($n.using)},env:n}),c={type:"using",child:[],value:e},u=Lu({onComplete:a}),m=ht(d,{parentLeaf:Ze||null,mountNode:e,svgRoot:d.isSvgRoot?e:Ze?Ze.svgRoot:null,leafData:{type:"using",draft:f,element:e,block:c},opGroup:kr(u),domSubtree:kr(u),hydration:o,root:g});if(i&&i({template:d,leaf:m}),u.onDrain&&!u.rafID){let h=u.onDrain;u.onDrain=null,h()}}function za(e,r){let t=e.root.childSpawns[e.fullID];for(let a in t){let n=t[a];for(let o=0;o<n.length;o++)r(n[o])}}function Pl(e,r){let t=a=>{let n=a.data;if(e&&n.type==="list"&&n.pendingUpdate){let o=n.pendingUpdate;n.pendingUpdate=null,T({target:a.template.api.pendingUpdate,params:o,defer:1,page:a,scope:a.root.scope})}if(e&&n.type==="route"){if(n.pendingInit){let o=n.pendingInit.value;n.pendingInit=null,T({target:a.template.api.pendingInit,params:o,defer:1,page:a,scope:a.root.scope})}else if(!n.block.visible)return}switch(n.type){case"element":Y(e,n.ops.visible);break;case"route":case"list":case"list item":za(a,t);break;default:console.log("unsupported type",n.type)}};za(r,t)}function ra(e){e.root.activeSpawns.delete(e.fullID),za(e,bn)}function ta(e){Or(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Or(e,e.template.pages)}function bn(e){let{data:r,root:t}=e;switch(r.type){case"element":Or(e,t.childSpawns[e.parent.fullID][e.template.id]),function a(n){t.activeSpawns.delete(n.fullID);let o=t.childSpawns[n.fullID];delete t.childSpawns[n.fullID],delete t.leafOps[n.fullID],Or(n,n.template.pages);for(let i in o)o[i].forEach(a)}(e),Y(0,r.ops.visible);break;case"list":{let a=r.records;for(let n=0;n<a.length;n++){let o=a[n];o.instance&&bn(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),ta(e);break}case"list item":{let a=r.block;Or(a,a.parent.child);let n=a.left,o=a.right;n&&(n.right=o,o||a.parent.lastChild!==a||(a.parent.lastChild=n)),o&&(o.left=n),n||o||a.parent.lastChild!==a||(a.parent.lastChild=null),a.left=null,a.right=null,ra(e),ta(e);break}case"route":ra(e),ta(e);break;case"block":case"block item":case"rec":case"rec item":ra(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Or(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function Ku(e,r){if(Array.isArray(r))return r.map(t=>e.map(a=>a[t]));if(typeof r=="object"&&r!==null){let t={};for(let a in r){let n=r[a];t[a]=e.map(typeof n=="function"?o=>n(o):o=>o[n])}return t}return e.map(t=>t[r])}function Rl(e,r){Dr(E,"list"),typeof r=="function"&&(G.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:a,source:n,fields:o=[]}=e,i=a!==void 0?typeof a=="function"?a:s=>s[a]:(s,f)=>f,l={type:"list",key:G.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:g,namespace:v}=E;$t(nr({name:"list",draft:l,isSvgRoot:0,namespace:v,fn(s,{mount:f}){let d=nr({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:v,fn({id:y,store:b},{mount:$}){t({store:b,key:y,fields:Ku(b,o)});let S=w({named:"itemUpdater"});if(b.on(S,(I,x)=>x),l.itemVisible){let{onMount:I,onState:x}=Xe({mount:$,state:l.itemVisible,onMount:(A,_)=>({visible:A,leaf:_}),onState:(A,_)=>({visible:_,leaf:A})});I.watch(({visible:A,leaf:_})=>{let B=_.data.block;B.visible=A,B.childInitialized=A,A&&$e(l,{parentBlockFragment:B,leaf:_})}),x.watch(({visible:A,leaf:_})=>{let B=_.data.block;B.visible=A,B.childInitialized?Pl(A,_):A&&(B.childInitialized=1,$e(l,{parentBlockFragment:B,leaf:_}))})}else $.watch($n.listItem);return{itemUpdater:S}},env:g}),c=P([]),u=n.map(y=>y),m=j({source:n,clock:f,fn:(y,b)=>({updates:y,leaf:b,hydration:b.hydration}),greedy:1}),h=w(),p=j({source:m,clock:[u,h],fn:({leaf:y},b)=>({updates:b,leaf:y,hydration:0}),greedy:1});return j({source:c,clock:[m,p],greedy:1,fn(y,{updates:b,leaf:$,hydration:S}){let I=$.data,x=$;for(;x;){if(x.data.type==="route"&&!x.data.block.visible)return void(I.pendingUpdate=b);x=x.parent}let A=I.block;je("list update ["+n.shortName+"]");let _=Array(b.length).fill(0),B=b.map(i),pe=[];for(let ge=0;ge<y.length;ge++){let oe=y[ge],Oe=B.indexOf(oe.key);Oe!==-1?(pe.push(oe),_[Oe]=1,Uu(b[Oe],oe.asyncValue)):(oe.active=0,oe.instance&&bn(oe.instance),Gu(oe.asyncValue))}for(let ge=0;ge<b.length;ge++){if(_[ge])continue;let oe=b[ge],Oe=B[ge],Kt=kr($.root.leafOps[$.fullID].group.queue),Ee={type:"LF",parent:A,child:[],childInitialized:0,visible:0,left:null,right:null},ie={type:"listItem",key:Oe,index:Oe,active:1,leafData:{type:"list item",block:Ee,listDraft:l},asyncValue:Bu({value:oe,group:Kt,onChange(Re){ie.instance&&T({target:ie.instance.template.api.itemUpdater,params:Re,defer:1,page:ie.instance,scope:ie.instance.root.scope})},onInit(Re){ie.active&&(S||(ie.instance=ht(d,{values:{id:Oe,store:Re},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ie.leafData,opGroup:Kt,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root})))}})},lo=pe.length;pe.push(ie);let so=lo>0?pe[lo-1].leafData:null;if(A.child.push(Ee),so){let Re=so.block;Ee.left=Re;let Wt=Re.right;Wt?(Wt.left=Ee,Ee.right=Wt):A.lastChild=Ee,Re.right=Ee}else A.lastChild=Ee;S&&(ie.instance=ht(d,{values:{id:Oe,store:oe},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ie.leafData,opGroup:Kt,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root}))}return le("list update ["+n.shortName+"]"),pe.length===0&&(A.lastChild=null),I.records=pe,pe},target:c}),{pendingUpdate:h}},env:g}))}function xo({source:e,visible:r,fn:t}){Dr(E,"route");let{env:a,namespace:n}=E,o=nr({name:"route",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let g;if(G.store(r))g=or({value:e,visible:r});else{let u=r;g=e.map(m=>({value:m,visible:u(m)}))}let v=nr({name:"route item",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:u},{mount:m}){let h=w({named:"itemUpdater"});u.on(h,(y,b)=>b),t({store:u});let p=j({source:m,clock:g,fn:(y,{visible:b,value:$})=>({leaf:y,visible:b,value:$}),greedy:1});m.watch($n.routeItem),p.watch(({leaf:y,visible:b,value:$})=>{if(y.data.block.visible=b,b&&T({target:h,params:$,defer:1,page:y,scope:y.root.scope}),b){let S=y.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}Pl(b,y)})}});$t(v);let{onMount:s,onState:f}=Xe({mount:l,state:g,onMount:({visible:u,value:m},h)=>({leaf:h,visible:u,value:m}),onState:(u,{visible:m,value:h})=>({leaf:u,visible:m,value:h})}),d=w(),c=j({source:l,clock:d,greedy:1,fn:(u,m)=>({leaf:u,value:m,visible:1})});return vt([s,f,c]).watch(({leaf:u,visible:m,value:h})=>{let p=u.data;if(p.block.visible=m,m||p.initialized||!p.pendingInit){if(m&&!p.initialized){let y=u.parent;for(;y;){if(y.data.type==="route"&&!y.data.block.visible)return void(p.pendingInit={value:h});y=y.parent}}m&&!p.initialized&&(mn({parentBlockFragment:p.block,leaf:u,actor:v,values:{store:h}}),p.initialized=1)}else p.pendingInit=null}),{pendingInit:d}}});$t(o)}function Wu({source:e,cases:r,key:t}){let a;Dr(E,"variant"),Pr(G.unit(e),"variant({source}) should be unit"),a=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let n=0;for(let o in r)o!=="__"?xo({source:e,visible:i=>a(i)===o,fn:r[o]}):n=1;if(n){let o=Object.keys(r);xo({source:e,visible:i=>!o.includes(a(i)),fn:r.__})}}function Yu(e,r){if(r.length===0)return e;let t=[e[0]];for(let a=0;a<r.length;a++)t.push(r[a],e[a+1]);return t}function wo(e,...r){Array.isArray(e)?Pe({text:Yu(e,r)}):Pe({text:e})}let ke;ke=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let Ka=new Map;const mr=[],Ao=e=>{let r=Ka.get(e);r||(r={calls:0,time:0,label:e,childTime:0},Ka.set(e,r)),r.calls+=1,mr.push({bucket:r,pendingStart:ke()})},Oo=e=>{let r=Ka.get(e),t=mr.pop().pendingStart,a=ke()-t;r.time+=a,mr.length>0&&(mr[mr.length-1].bucket.childTime+=a)};let je,le;typeof performance<"u"&&performance.mark?(je=e=>{performance.mark("\u2604\uFE0F "+e+" start"),Ao(e)},le=e=>{Oo(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(je=e=>{Ao(e)},le=e=>{Oo(e)});let Cl=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const Qu={attr:El,data:Ol,style:wl,styleVar:xl,classList:Al},he=(e,r)=>e.includes(r);let Hu={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,a){var n,o;t.unshift(e.loader),t.push(e.upward),a&&(he(e.plain,a)||(he(e.closure,a)||e.closure.push(a),o={type:"closure",of:a},(n=r).before||(n.before=[]),n.before.push(o)))},storeMap(e,r,t){he(e.plain,r)||he(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){he(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){he(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,a){r.current?he(e.plain,t)||he(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),he(e.plain,a)||e.plain.push(a)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},Xu=0,Ju=0,E=null,Ze=null;const Rr=(e,r)=>e.reg[r.id];let ye=null;const Zu=["LF","using","element","recItem","rec","block","blockItem","route"];let St=w({named:"onMount"});St.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const ec=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],Eo={attr:El,data:Ol,style:wl,styleVar:xl,classList:Al},Wr=e=>e.data.block.value;let $n={using(e){let r=e.data;$e(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,$e(r,{parentBlockFragment:t.block,leaf:e})},block(e){$e(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){mn({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){$e(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,$e(r.listDraft,{parentBlockFragment:t,leaf:e})}};function me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function To(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function It(e,r){return ac(e)||oc(e,r)||_l(e,r)||lc()}function rc(e){return tc(e)||nc(e)||_l(e)||ic()}function tc(e){if(Array.isArray(e))return Wa(e)}function ac(e){if(Array.isArray(e))return e}function nc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oc(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],n=!0,o=!1,i,l;try{for(t=t.call(e);!(n=(i=t.next()).done)&&(a.push(i.value),!(r&&a.length===r));n=!0);}catch(g){o=!0,l=g}finally{try{!n&&t.return!=null&&t.return()}finally{if(o)throw l}}return a}}function _l(e,r){if(!!e){if(typeof e=="string")return Wa(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wa(e,r)}}function Wa(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function ic(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr=function(e){return e&&e.Math==Math&&e},L=Yr(typeof globalThis=="object"&&globalThis)||Yr(typeof window=="object"&&window)||Yr(typeof self=="object"&&self)||Yr(typeof ko=="object"&&ko)||function(){return this}()||Function("return this")(),Sn={},R=function(e){try{return!!e()}catch{return!0}},sc=R,V=!sc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),uc=R,Ct=!uc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),cc=Ct,Qr=Function.prototype.call,ne=cc?Qr.bind(Qr):function(){return Qr.apply(Qr,arguments)},In={},jl={}.propertyIsEnumerable,Fl=Object.getOwnPropertyDescriptor,fc=Fl&&!jl.call({1:2},1);In.f=fc?function(r){var t=Fl(this,r);return!!t&&t.enumerable}:jl;var _t=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},Nl=Ct,Dl=Function.prototype,vc=Dl.bind,Ya=Dl.call,dc=Nl&&vc.bind(Ya,Ya),C=Nl?function(e){return e&&dc(e)}:function(e){return e&&function(){return Ya.apply(e,arguments)}},Ml=C,pc=Ml({}.toString),gc=Ml("".slice),qe=function(e){return gc(pc(e),8,-1)},hc=C,yc=R,mc=qe,aa=Object,bc=hc("".split),Ll=yc(function(){return!aa("z").propertyIsEnumerable(0)})?function(e){return mc(e)=="String"?bc(e,""):aa(e)}:aa,$c=TypeError,Mr=function(e){if(e==null)throw $c("Can't call method on "+e);return e},Sc=Ll,Ic=Mr,Ve=function(e){return Sc(Ic(e))},F=function(e){return typeof e=="function"},xc=F,X=function(e){return typeof e=="object"?e!==null:xc(e)},na=L,wc=F,Ac=function(e){return wc(e)?e:void 0},lr=function(e,r){return arguments.length<2?Ac(na[e]):na[e]&&na[e][r]},Oc=C,xn=Oc({}.isPrototypeOf),Ec=lr,Tc=Ec("navigator","userAgent")||"",Bl=L,oa=Tc,Po=Bl.process,Ro=Bl.Deno,Co=Po&&Po.versions||Ro&&Ro.version,_o=Co&&Co.v8,J,xt;_o&&(J=_o.split("."),xt=J[0]>0&&J[0]<4?1:+(J[0]+J[1]));!xt&&oa&&(J=oa.match(/Edge\/(\d+)/),(!J||J[1]>=74)&&(J=oa.match(/Chrome\/(\d+)/),J&&(xt=+J[1])));var wn=xt,jo=wn,kc=R,Gl=!!Object.getOwnPropertySymbols&&!kc(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&jo&&jo<41}),Pc=Gl,Ul=Pc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Rc=lr,Cc=F,_c=xn,jc=Ul,Fc=Object,ql=jc?function(e){return typeof e=="symbol"}:function(e){var r=Rc("Symbol");return Cc(r)&&_c(r.prototype,Fc(e))},Nc=String,jt=function(e){try{return Nc(e)}catch{return"Object"}},Dc=F,Mc=jt,Lc=TypeError,An=function(e){if(Dc(e))return e;throw Lc(Mc(e)+" is not a function")},Bc=An,Lr=function(e,r){var t=e[r];return t==null?void 0:Bc(t)},ia=ne,la=F,sa=X,Gc=TypeError,Uc=function(e,r){var t,a;if(r==="string"&&la(t=e.toString)&&!sa(a=ia(t,e))||la(t=e.valueOf)&&!sa(a=ia(t,e))||r!=="string"&&la(t=e.toString)&&!sa(a=ia(t,e)))return a;throw Gc("Can't convert object to primitive value")},Ft={exports:{}},Fo=L,qc=Object.defineProperty,On=function(e,r){try{qc(Fo,e,{value:r,configurable:!0,writable:!0})}catch{Fo[e]=r}return r},Vc=L,zc=On,No="__core-js_shared__",Kc=Vc[No]||zc(No,{}),En=Kc,Do=En;(Ft.exports=function(e,r){return Do[e]||(Do[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Wc=Mr,Yc=Object,Nt=function(e){return Yc(Wc(e))},Qc=C,Hc=Nt,Xc=Qc({}.hasOwnProperty),ve=Object.hasOwn||function(r,t){return Xc(Hc(r),t)},Jc=C,Zc=0,ef=Math.random(),rf=Jc(1 .toString),Tn=function(e){return"Symbol("+(e===void 0?"":e)+")_"+rf(++Zc+ef,36)},tf=L,af=Ft.exports,Mo=ve,nf=Tn,Lo=Gl,Vl=Ul,Ke=af("wks"),Ne=tf.Symbol,Bo=Ne&&Ne.for,of=Vl?Ne:Ne&&Ne.withoutSetter||nf,N=function(e){if(!Mo(Ke,e)||!(Lo||typeof Ke[e]=="string")){var r="Symbol."+e;Lo&&Mo(Ne,e)?Ke[e]=Ne[e]:Vl&&Bo?Ke[e]=Bo(r):Ke[e]=of(r)}return Ke[e]},lf=ne,Go=X,Uo=ql,sf=Lr,uf=Uc,cf=N,ff=TypeError,vf=cf("toPrimitive"),df=function(e,r){if(!Go(e)||Uo(e))return e;var t=sf(e,vf),a;if(t){if(r===void 0&&(r="default"),a=lf(t,e,r),!Go(a)||Uo(a))return a;throw ff("Can't convert object to primitive value")}return r===void 0&&(r="number"),uf(e,r)},pf=df,gf=ql,kn=function(e){var r=pf(e,"string");return gf(r)?r:r+""},hf=L,qo=X,Qa=hf.document,yf=qo(Qa)&&qo(Qa.createElement),Pn=function(e){return yf?Qa.createElement(e):{}},mf=V,bf=R,$f=Pn,zl=!mf&&!bf(function(){return Object.defineProperty($f("div"),"a",{get:function(){return 7}}).a!=7}),Sf=V,If=ne,xf=In,wf=_t,Af=Ve,Of=kn,Ef=ve,Tf=zl,Vo=Object.getOwnPropertyDescriptor;Sn.f=Sf?Vo:function(r,t){if(r=Af(r),t=Of(t),Tf)try{return Vo(r,t)}catch{}if(Ef(r,t))return wf(!If(xf.f,r,t),r[t])};var z={},kf=V,Pf=R,Kl=kf&&Pf(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Rf=X,Cf=String,_f=TypeError,K=function(e){if(Rf(e))return e;throw _f(Cf(e)+" is not an object")},jf=V,Ff=zl,Nf=Kl,Hr=K,zo=kn,Df=TypeError,ua=Object.defineProperty,Mf=Object.getOwnPropertyDescriptor,ca="enumerable",fa="configurable",va="writable";z.f=jf?Nf?function(r,t,a){if(Hr(r),t=zo(t),Hr(a),typeof r=="function"&&t==="prototype"&&"value"in a&&va in a&&!a[va]){var n=Mf(r,t);n&&n[va]&&(r[t]=a.value,a={configurable:fa in a?a[fa]:n[fa],enumerable:ca in a?a[ca]:n[ca],writable:!1})}return ua(r,t,a)}:ua:function(r,t,a){if(Hr(r),t=zo(t),Hr(a),Ff)try{return ua(r,t,a)}catch{}if("get"in a||"set"in a)throw Df("Accessors not supported");return"value"in a&&(r[t]=a.value),r};var Lf=V,Bf=z,Gf=_t,sr=Lf?function(e,r,t){return Bf.f(e,r,Gf(1,t))}:function(e,r,t){return e[r]=t,e},Wl={exports:{}},Ha=V,Uf=ve,Yl=Function.prototype,qf=Ha&&Object.getOwnPropertyDescriptor,Rn=Uf(Yl,"name"),Vf=Rn&&function(){}.name==="something",zf=Rn&&(!Ha||Ha&&qf(Yl,"name").configurable),Cn={EXISTS:Rn,PROPER:Vf,CONFIGURABLE:zf},Kf=C,Wf=F,Xa=En,Yf=Kf(Function.toString);Wf(Xa.inspectSource)||(Xa.inspectSource=function(e){return Yf(e)});var _n=Xa.inspectSource,Qf=L,Hf=F,Xf=_n,Ko=Qf.WeakMap,Jf=Hf(Ko)&&/native code/.test(Xf(Ko)),Zf=Ft.exports,ev=Tn,Wo=Zf("keys"),jn=function(e){return Wo[e]||(Wo[e]=ev(e))},Dt={},rv=Jf,Ql=L,da=C,tv=X,av=sr,pa=ve,ga=En,nv=jn,ov=Dt,Yo="Object already initialized",Ja=Ql.TypeError,iv=Ql.WeakMap,wt,Cr,At,lv=function(e){return At(e)?Cr(e):wt(e,{})},sv=function(e){return function(r){var t;if(!tv(r)||(t=Cr(r)).type!==e)throw Ja("Incompatible receiver, "+e+" required");return t}};if(rv||ga.state){var _e=ga.state||(ga.state=new iv),uv=da(_e.get),Qo=da(_e.has),cv=da(_e.set);wt=function(e,r){if(Qo(_e,e))throw new Ja(Yo);return r.facade=e,cv(_e,e,r),r},Cr=function(e){return uv(_e,e)||{}},At=function(e){return Qo(_e,e)}}else{var We=nv("state");ov[We]=!0,wt=function(e,r){if(pa(e,We))throw new Ja(Yo);return r.facade=e,av(e,We,r),r},Cr=function(e){return pa(e,We)?e[We]:{}},At=function(e){return pa(e,We)}}var Br={set:wt,get:Cr,has:At,enforce:lv,getterFor:sv},fv=R,vv=F,Xr=ve,Za=V,dv=Cn.CONFIGURABLE,pv=_n,Hl=Br,gv=Hl.enforce,hv=Hl.get,ot=Object.defineProperty,yv=Za&&!fv(function(){return ot(function(){},"length",{value:8}).length!==8}),mv=String(String).split("String"),bv=Wl.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Xr(e,"name")||dv&&e.name!==r)&&(Za?ot(e,"name",{value:r,configurable:!0}):e.name=r),yv&&t&&Xr(t,"arity")&&e.length!==t.arity&&ot(e,"length",{value:t.arity});try{t&&Xr(t,"constructor")&&t.constructor?Za&&ot(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=gv(e);return Xr(a,"source")||(a.source=mv.join(typeof r=="string"?r:"")),e};Function.prototype.toString=bv(function(){return vv(this)&&hv(this).source||pv(this)},"toString");var $v=F,Sv=z,Iv=Wl.exports,xv=On,ze=function(e,r,t,a){a||(a={});var n=a.enumerable,o=a.name!==void 0?a.name:r;if($v(t)&&Iv(t,o,a),a.global)n?e[r]=t:xv(r,t);else{try{a.unsafe?e[r]&&(n=!0):delete e[r]}catch{}n?e[r]=t:Sv.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e},Mt={},wv=Math.ceil,Av=Math.floor,Ov=Math.trunc||function(r){var t=+r;return(t>0?Av:wv)(t)},Ev=Ov,Fn=function(e){var r=+e;return r!==r||r===0?0:Ev(r)},Tv=Fn,kv=Math.max,Pv=Math.min,Xl=function(e,r){var t=Tv(e);return t<0?kv(t+r,0):Pv(t,r)},Rv=Fn,Cv=Math.min,Nn=function(e){return e>0?Cv(Rv(e),9007199254740991):0},_v=Nn,Gr=function(e){return _v(e.length)},jv=Ve,Fv=Xl,Nv=Gr,Ho=function(e){return function(r,t,a){var n=jv(r),o=Nv(n),i=Fv(a,o),l;if(e&&t!=t){for(;o>i;)if(l=n[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in n)&&n[i]===t)return e||i||0;return!e&&-1}},Dv={includes:Ho(!0),indexOf:Ho(!1)},Mv=C,ha=ve,Lv=Ve,Bv=Dv.indexOf,Gv=Dt,Xo=Mv([].push),Jl=function(e,r){var t=Lv(e),a=0,n=[],o;for(o in t)!ha(Gv,o)&&ha(t,o)&&Xo(n,o);for(;r.length>a;)ha(t,o=r[a++])&&(~Bv(n,o)||Xo(n,o));return n},Dn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Uv=Jl,qv=Dn,Vv=qv.concat("length","prototype");Mt.f=Object.getOwnPropertyNames||function(r){return Uv(r,Vv)};var Zl={};Zl.f=Object.getOwnPropertySymbols;var zv=lr,Kv=C,Wv=Mt,Yv=Zl,Qv=K,Hv=Kv([].concat),Xv=zv("Reflect","ownKeys")||function(r){var t=Wv.f(Qv(r)),a=Yv.f;return a?Hv(t,a(r)):t},Jo=ve,Jv=Xv,Zv=Sn,ed=z,rd=function(e,r,t){for(var a=Jv(r),n=ed.f,o=Zv.f,i=0;i<a.length;i++){var l=a[i];!Jo(e,l)&&!(t&&Jo(t,l))&&n(e,l,o(r,l))}},td=R,ad=F,nd=/#|\.prototype\./,Ur=function(e,r){var t=id[od(e)];return t==sd?!0:t==ld?!1:ad(r)?td(r):!!r},od=Ur.normalize=function(e){return String(e).replace(nd,".").toLowerCase()},id=Ur.data={},ld=Ur.NATIVE="N",sd=Ur.POLYFILL="P",es=Ur,ya=L,ud=Sn.f,cd=sr,fd=ze,vd=On,dd=rd,pd=es,de=function(e,r){var t=e.target,a=e.global,n=e.stat,o,i,l,g,v,s;if(a?i=ya:n?i=ya[t]||vd(t,{}):i=(ya[t]||{}).prototype,i)for(l in r){if(v=r[l],e.dontCallGetSet?(s=ud(i,l),g=s&&s.value):g=i[l],o=pd(a?l:t+(n?".":"#")+l,e.forced),!o&&g!==void 0){if(typeof v==typeof g)continue;dd(v,g)}(e.sham||g&&g.sham)&&cd(v,"sham",!0),fd(i,l,v,e)}},Zo=C,gd=An,hd=Ct,yd=Zo(Zo.bind),Mn=function(e,r){return gd(e),r===void 0?e:hd?yd(e,r):function(){return e.apply(r,arguments)}},md=qe,rs=Array.isArray||function(r){return md(r)=="Array"},bd=N,$d=bd("toStringTag"),ts={};ts[$d]="z";var Ln=String(ts)==="[object z]",Sd=Ln,Id=F,it=qe,xd=N,wd=xd("toStringTag"),Ad=Object,Od=it(function(){return arguments}())=="Arguments",Ed=function(e,r){try{return e[r]}catch{}},Lt=Sd?it:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=Ed(r=Ad(e),wd))=="string"?t:Od?it(r):(a=it(r))=="Object"&&Id(r.callee)?"Arguments":a},Td=C,kd=R,as=F,Pd=Lt,Rd=lr,Cd=_n,ns=function(){},_d=[],os=Rd("Reflect","construct"),Bn=/^\s*(?:class|function)\b/,jd=Td(Bn.exec),Fd=!Bn.exec(ns),fr=function(r){if(!as(r))return!1;try{return os(ns,_d,r),!0}catch{return!1}},is=function(r){if(!as(r))return!1;switch(Pd(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Fd||!!jd(Bn,Cd(r))}catch{return!0}};is.sham=!0;var ls=!os||kd(function(){var e;return fr(fr.call)||!fr(Object)||!fr(function(){e=!0})||e})?is:fr,ei=rs,Nd=ls,Dd=X,Md=N,Ld=Md("species"),ri=Array,Bd=function(e){var r;return ei(e)&&(r=e.constructor,Nd(r)&&(r===ri||ei(r.prototype))?r=void 0:Dd(r)&&(r=r[Ld],r===null&&(r=void 0))),r===void 0?ri:r},Gd=Bd,ss=function(e,r){return new(Gd(e))(r===0?0:r)},Ud=Mn,qd=C,Vd=Ll,zd=Nt,Kd=Gr,Wd=ss,ti=qd([].push),Te=function(e){var r=e==1,t=e==2,a=e==3,n=e==4,o=e==6,i=e==7,l=e==5||o;return function(g,v,s,f){for(var d=zd(g),c=Vd(d),u=Ud(v,s),m=Kd(c),h=0,p=f||Wd,y=r?p(g,m):t||i?p(g,0):void 0,b,$;m>h;h++)if((l||h in c)&&(b=c[h],$=u(b,h,d),e))if(r)y[h]=$;else if($)switch(e){case 3:return!0;case 5:return b;case 6:return h;case 2:ti(y,b)}else switch(e){case 4:return!1;case 7:ti(y,b)}return o?-1:a||n?n:y}},Bt={forEach:Te(0),map:Te(1),filter:Te(2),some:Te(3),every:Te(4),find:Te(5),findIndex:Te(6),filterReject:Te(7)},Yd=R,Qd=N,Hd=wn,Xd=Qd("species"),Gn=function(e){return Hd>=51||!Yd(function(){var r=[],t=r.constructor={};return t[Xd]=function(){return{foo:1}},r[e](Boolean).foo!==1})},Jd=de,Zd=Bt.map,ep=Gn,rp=ep("map");Jd({target:"Array",proto:!0,forced:!rp},{map:function(r){return Zd(this,r,arguments.length>1?arguments[1]:void 0)}});var us={},tp=Jl,ap=Dn,cs=Object.keys||function(r){return tp(r,ap)},np=V,op=Kl,ip=z,lp=K,sp=Ve,up=cs;us.f=np&&!op?Object.defineProperties:function(r,t){lp(r);for(var a=sp(t),n=up(t),o=n.length,i=0,l;o>i;)ip.f(r,l=n[i++],a[l]);return r};var cp=lr,fp=cp("document","documentElement"),vp=K,dp=us,ai=Dn,pp=Dt,gp=fp,hp=Pn,yp=jn,ni=">",oi="<",en="prototype",rn="script",fs=yp("IE_PROTO"),ma=function(){},vs=function(e){return oi+rn+ni+e+oi+"/"+rn+ni},ii=function(e){e.write(vs("")),e.close();var r=e.parentWindow.Object;return e=null,r},mp=function(){var e=hp("iframe"),r="java"+rn+":",t;return e.style.display="none",gp.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(vs("document.F=Object")),t.close(),t.F},Jr,lt=function(){try{Jr=new ActiveXObject("htmlfile")}catch{}lt=typeof document<"u"?document.domain&&Jr?ii(Jr):mp():ii(Jr);for(var e=ai.length;e--;)delete lt[en][ai[e]];return lt()};pp[fs]=!0;var Gt=Object.create||function(r,t){var a;return r!==null?(ma[en]=vp(r),a=new ma,ma[en]=null,a[fs]=r):a=lt(),t===void 0?a:dp.f(a,t)},bp=N,$p=Gt,Sp=z.f,tn=bp("unscopables"),an=Array.prototype;an[tn]==null&&Sp(an,tn,{configurable:!0,value:$p(null)});var ds=function(e){an[tn][e]=!0},qr={},Ip=R,xp=!Ip(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wp=ve,Ap=F,Op=Nt,Ep=jn,Tp=xp,li=Ep("IE_PROTO"),nn=Object,kp=nn.prototype,ps=Tp?nn.getPrototypeOf:function(e){var r=Op(e);if(wp(r,li))return r[li];var t=r.constructor;return Ap(t)&&r instanceof t?t.prototype:r instanceof nn?kp:null},Pp=R,Rp=F,si=ps,Cp=ze,_p=N,on=_p("iterator"),gs=!1,Ge,ba,$a;[].keys&&($a=[].keys(),"next"in $a?(ba=si(si($a)),ba!==Object.prototype&&(Ge=ba)):gs=!0);var jp=Ge==null||Pp(function(){var e={};return Ge[on].call(e)!==e});jp&&(Ge={});Rp(Ge[on])||Cp(Ge,on,function(){return this});var hs={IteratorPrototype:Ge,BUGGY_SAFARI_ITERATORS:gs},Fp=z.f,Np=ve,Dp=N,ui=Dp("toStringTag"),Un=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Np(e,ui)&&Fp(e,ui,{configurable:!0,value:r})},Mp=hs.IteratorPrototype,Lp=Gt,Bp=_t,Gp=Un,Up=qr,qp=function(){return this},Vp=function(e,r,t,a){var n=r+" Iterator";return e.prototype=Lp(Mp,{next:Bp(+!a,t)}),Gp(e,n,!1),Up[n]=qp,e},zp=F,Kp=String,Wp=TypeError,Yp=function(e){if(typeof e=="object"||zp(e))return e;throw Wp("Can't set "+Kp(e)+" as a prototype")},Qp=C,Hp=K,Xp=Yp,ys=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=Qp(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(n,o){return Hp(n),Xp(o),e?t(n,o):n.__proto__=o,n}}():void 0),Jp=de,Zp=ne,ms=Cn,eg=F,rg=Vp,ci=ps,fi=ys,tg=Un,ag=sr,Sa=ze,ng=N,og=qr,bs=hs,ig=ms.PROPER,lg=ms.CONFIGURABLE,vi=bs.IteratorPrototype,Zr=bs.BUGGY_SAFARI_ITERATORS,vr=ng("iterator"),di="keys",dr="values",pi="entries",sg=function(){return this},qn=function(e,r,t,a,n,o,i){rg(t,r,a);var l=function(p){if(p===n&&d)return d;if(!Zr&&p in s)return s[p];switch(p){case di:return function(){return new t(this,p)};case dr:return function(){return new t(this,p)};case pi:return function(){return new t(this,p)}}return function(){return new t(this)}},g=r+" Iterator",v=!1,s=e.prototype,f=s[vr]||s["@@iterator"]||n&&s[n],d=!Zr&&f||l(n),c=r=="Array"&&s.entries||f,u,m,h;if(c&&(u=ci(c.call(new e)),u!==Object.prototype&&u.next&&(ci(u)!==vi&&(fi?fi(u,vi):eg(u[vr])||Sa(u,vr,sg)),tg(u,g,!0))),ig&&n==dr&&f&&f.name!==dr&&(lg?ag(s,"name",dr):(v=!0,d=function(){return Zp(f,this)})),n)if(m={values:l(dr),keys:o?d:l(di),entries:l(pi)},i)for(h in m)(Zr||v||!(h in s))&&Sa(s,h,m[h]);else Jp({target:r,proto:!0,forced:Zr||v},m);return s[vr]!==d&&Sa(s,vr,d,{name:n}),og[r]=d,m},ug=Ve,Vn=ds,gi=qr,$s=Br,cg=z.f,fg=qn,vg=V,Ss="Array Iterator",dg=$s.set,pg=$s.getterFor(Ss),gg=fg(Array,"Array",function(e,r){dg(this,{type:Ss,target:ug(e),index:0,kind:r})},function(){var e=pg(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:a,done:!1}:t=="values"?{value:r[a],done:!1}:{value:[a,r[a]],done:!1}},"values"),hi=gi.Arguments=gi.Array;Vn("keys");Vn("values");Vn("entries");if(vg&&hi.name!=="values")try{cg(hi,"name",{value:"values"})}catch{}var zn={exports:{}},Is={},hg=kn,yg=z,mg=_t,xs=function(e,r,t){var a=hg(r);a in e?yg.f(e,a,mg(0,t)):e[a]=t},yi=Xl,bg=Gr,$g=xs,Sg=Array,Ig=Math.max,ws=function(e,r,t){for(var a=bg(e),n=yi(r,a),o=yi(t===void 0?a:t,a),i=Sg(Ig(o-n,0)),l=0;n<o;n++,l++)$g(i,l,e[n]);return i.length=l,i},xg=qe,wg=Ve,As=Mt.f,Ag=ws,Os=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Og=function(e){try{return As(e)}catch{return Ag(Os)}};Is.f=function(r){return Os&&xg(r)=="Window"?Og(r):As(wg(r))};var Eg=R,Tg=Eg(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),kg=R,Pg=X,Rg=qe,mi=Tg,st=Object.isExtensible,Cg=kg(function(){st(1)}),_g=Cg||mi?function(r){return!Pg(r)||mi&&Rg(r)=="ArrayBuffer"?!1:st?st(r):!0}:st,jg=R,Fg=!jg(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ng=de,Dg=C,Mg=Dt,Lg=X,Kn=ve,Bg=z.f,bi=Mt,Gg=Is,Wn=_g,Ug=Tn,qg=Fg,Es=!1,we=Ug("meta"),Vg=0,Yn=function(e){Bg(e,we,{value:{objectID:"O"+Vg++,weakData:{}}})},zg=function(e,r){if(!Lg(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Kn(e,we)){if(!Wn(e))return"F";if(!r)return"E";Yn(e)}return e[we].objectID},Kg=function(e,r){if(!Kn(e,we)){if(!Wn(e))return!0;if(!r)return!1;Yn(e)}return e[we].weakData},Wg=function(e){return qg&&Es&&Wn(e)&&!Kn(e,we)&&Yn(e),e},Yg=function(){Qg.enable=function(){},Es=!0;var e=bi.f,r=Dg([].splice),t={};t[we]=1,e(t).length&&(bi.f=function(a){for(var n=e(a),o=0,i=n.length;o<i;o++)if(n[o]===we){r(n,o,1);break}return n},Ng({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Gg.f}))},Qg=zn.exports={enable:Yg,fastKey:zg,getWeakData:Kg,onFreeze:Wg};Mg[we]=!0;var Hg=N,Xg=qr,Jg=Hg("iterator"),Zg=Array.prototype,eh=function(e){return e!==void 0&&(Xg.Array===e||Zg[Jg]===e)},rh=Lt,$i=Lr,th=qr,ah=N,nh=ah("iterator"),Ts=function(e){if(e!=null)return $i(e,nh)||$i(e,"@@iterator")||th[rh(e)]},oh=ne,ih=An,lh=K,sh=jt,uh=Ts,ch=TypeError,fh=function(e,r){var t=arguments.length<2?uh(e):r;if(ih(t))return lh(oh(t,e));throw ch(sh(e)+" is not iterable")},vh=ne,Si=K,dh=Lr,ph=function(e,r,t){var a,n;Si(e);try{if(a=dh(e,"return"),!a){if(r==="throw")throw t;return t}a=vh(a,e)}catch(o){n=!0,a=o}if(r==="throw")throw t;if(n)throw a;return Si(a),t},gh=Mn,hh=ne,yh=K,mh=jt,bh=eh,$h=Gr,Ii=xn,Sh=fh,Ih=Ts,xi=ph,xh=TypeError,ut=function(e,r){this.stopped=e,this.result=r},wi=ut.prototype,ks=function(e,r,t){var a=t&&t.that,n=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),g=gh(r,a),v,s,f,d,c,u,m,h=function(y){return v&&xi(v,"normal",y),new ut(!0,y)},p=function(y){return n?(yh(y),l?g(y[0],y[1],h):g(y[0],y[1])):l?g(y,h):g(y)};if(o)v=e.iterator;else if(i)v=e;else{if(s=Ih(e),!s)throw xh(mh(e)+" is not iterable");if(bh(s)){for(f=0,d=$h(e);d>f;f++)if(c=p(e[f]),c&&Ii(wi,c))return c;return new ut(!1)}v=Sh(e,s)}for(u=o?e.next:v.next;!(m=hh(u,v)).done;){try{c=p(m.value)}catch(y){xi(v,"throw",y)}if(typeof c=="object"&&c&&Ii(wi,c))return c}return new ut(!1)},wh=xn,Ah=TypeError,Ps=function(e,r){if(wh(r,e))return e;throw Ah("Incorrect invocation")},Oh=N,Rs=Oh("iterator"),Cs=!1;try{var Eh=0,Ai={next:function(){return{done:!!Eh++}},return:function(){Cs=!0}};Ai[Rs]=function(){return this},Array.from(Ai,function(){throw 2})}catch{}var Th=function(e,r){if(!r&&!Cs)return!1;var t=!1;try{var a={};a[Rs]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t},kh=F,Ph=X,Oi=ys,Rh=function(e,r,t){var a,n;return Oi&&kh(a=r.constructor)&&a!==t&&Ph(n=a.prototype)&&n!==t.prototype&&Oi(e,n),e},Ch=de,_h=L,jh=C,Ei=es,Fh=ze,Nh=zn.exports,Dh=ks,Mh=Ps,Lh=F,Ia=X,xa=R,Bh=Th,Gh=Un,Uh=Rh,qh=function(e,r,t){var a=e.indexOf("Map")!==-1,n=e.indexOf("Weak")!==-1,o=a?"set":"add",i=_h[e],l=i&&i.prototype,g=i,v={},s=function(p){var y=jh(l[p]);Fh(l,p,p=="add"?function($){return y(this,$===0?0:$),this}:p=="delete"?function(b){return n&&!Ia(b)?!1:y(this,b===0?0:b)}:p=="get"?function($){return n&&!Ia($)?void 0:y(this,$===0?0:$)}:p=="has"?function($){return n&&!Ia($)?!1:y(this,$===0?0:$)}:function($,S){return y(this,$===0?0:$,S),this})},f=Ei(e,!Lh(i)||!(n||l.forEach&&!xa(function(){new i().entries().next()})));if(f)g=t.getConstructor(r,e,a,o),Nh.enable();else if(Ei(e,!0)){var d=new g,c=d[o](n?{}:-0,1)!=d,u=xa(function(){d.has(1)}),m=Bh(function(p){new i(p)}),h=!n&&xa(function(){for(var p=new i,y=5;y--;)p[o](y,y);return!p.has(-0)});m||(g=r(function(p,y){Mh(p,l);var b=Uh(new i,p,g);return y!=null&&Dh(y,b[o],{that:b,AS_ENTRIES:a}),b}),g.prototype=l,l.constructor=g),(u||h)&&(s("delete"),s("has"),a&&s("get")),(h||c)&&s(o),n&&l.clear&&delete l.clear}return v[e]=g,Ch({global:!0,constructor:!0,forced:g!=i},v),Gh(g,e),n||t.setStrong(g,e,a),g},Vh=ze,zh=function(e,r,t){for(var a in r)Vh(e,a,r[a],t);return e},Kh=lr,Wh=z,Yh=N,Qh=V,Ti=Yh("species"),Hh=function(e){var r=Kh(e),t=Wh.f;Qh&&r&&!r[Ti]&&t(r,Ti,{configurable:!0,get:function(){return this}})},Xh=z.f,Jh=Gt,ki=zh,Zh=Mn,ey=Ps,ry=ks,ty=qn,ay=Hh,pr=V,Pi=zn.exports.fastKey,_s=Br,Ri=_s.set,wa=_s.getterFor,ny={getConstructor:function(e,r,t,a){var n=e(function(v,s){ey(v,o),Ri(v,{type:r,index:Jh(null),first:void 0,last:void 0,size:0}),pr||(v.size=0),s!=null&&ry(s,v[a],{that:v,AS_ENTRIES:t})}),o=n.prototype,i=wa(r),l=function(v,s,f){var d=i(v),c=g(v,s),u,m;return c?c.value=f:(d.last=c={index:m=Pi(s,!0),key:s,value:f,previous:u=d.last,next:void 0,removed:!1},d.first||(d.first=c),u&&(u.next=c),pr?d.size++:v.size++,m!=="F"&&(d.index[m]=c)),v},g=function(v,s){var f=i(v),d=Pi(s),c;if(d!=="F")return f.index[d];for(c=f.first;c;c=c.next)if(c.key==s)return c};return ki(o,{clear:function(){for(var s=this,f=i(s),d=f.index,c=f.first;c;)c.removed=!0,c.previous&&(c.previous=c.previous.next=void 0),delete d[c.index],c=c.next;f.first=f.last=void 0,pr?f.size=0:s.size=0},delete:function(v){var s=this,f=i(s),d=g(s,v);if(d){var c=d.next,u=d.previous;delete f.index[d.index],d.removed=!0,u&&(u.next=c),c&&(c.previous=u),f.first==d&&(f.first=c),f.last==d&&(f.last=u),pr?f.size--:s.size--}return!!d},forEach:function(s){for(var f=i(this),d=Zh(s,arguments.length>1?arguments[1]:void 0),c;c=c?c.next:f.first;)for(d(c.value,c.key,this);c&&c.removed;)c=c.previous},has:function(s){return!!g(this,s)}}),ki(o,t?{get:function(s){var f=g(this,s);return f&&f.value},set:function(s,f){return l(this,s===0?0:s,f)}}:{add:function(s){return l(this,s=s===0?0:s,s)}}),pr&&Xh(o,"size",{get:function(){return i(this).size}}),n},setStrong:function(e,r,t){var a=r+" Iterator",n=wa(r),o=wa(a);ty(e,r,function(i,l){Ri(this,{type:a,target:i,state:n(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,g=i.last;g&&g.removed;)g=g.previous;return!i.target||!(i.last=g=g?g.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:g.key,done:!1}:l=="values"?{value:g.value,done:!1}:{value:[g.key,g.value],done:!1}},t?"entries":"values",!t,!0),ay(r)}},oy=qh,iy=ny;oy("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},iy);var ly=Ln,sy=Lt,uy=ly?{}.toString:function(){return"[object "+sy(this)+"]"},cy=Ln,fy=ze,vy=uy;cy||fy(Object.prototype,"toString",vy,{unsafe:!0});var dy=Lt,py=String,Vr=function(e){if(dy(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return py(e)},Qn=C,gy=Fn,hy=Vr,yy=Mr,my=Qn("".charAt),Ci=Qn("".charCodeAt),by=Qn("".slice),_i=function(e){return function(r,t){var a=hy(yy(r)),n=gy(t),o=a.length,i,l;return n<0||n>=o?e?"":void 0:(i=Ci(a,n),i<55296||i>56319||n+1===o||(l=Ci(a,n+1))<56320||l>57343?e?my(a,n):i:e?by(a,n,n+2):(i-55296<<10)+(l-56320)+65536)}},js={codeAt:_i(!1),charAt:_i(!0)},$y=js.charAt,Sy=Vr,Fs=Br,Iy=qn,Ns="String Iterator",xy=Fs.set,wy=Fs.getterFor(Ns);Iy(String,"String",function(e){xy(this,{type:Ns,string:Sy(e),index:0})},function(){var r=wy(this),t=r.string,a=r.index,n;return a>=t.length?{value:void 0,done:!0}:(n=$y(t,a),r.index+=n.length,{value:n,done:!1})});var Ds={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ay=Pn,Aa=Ay("span").classList,ji=Aa&&Aa.constructor&&Aa.constructor.prototype,Ms=ji===Object.prototype?void 0:ji,Fi=L,Ls=Ds,Oy=Ms,br=gg,Oa=sr,Bs=N,Ea=Bs("iterator"),Ni=Bs("toStringTag"),Ta=br.values,Gs=function(e,r){if(e){if(e[Ea]!==Ta)try{Oa(e,Ea,Ta)}catch{e[Ea]=Ta}if(e[Ni]||Oa(e,Ni,r),Ls[r]){for(var t in br)if(e[t]!==br[t])try{Oa(e,t,br[t])}catch{e[t]=br[t]}}}};for(var ka in Ls)Gs(Fi[ka]&&Fi[ka].prototype,ka);Gs(Oy,"DOMTokenList");var Ey=R,Ty=function(e,r){var t=[][e];return!!t&&Ey(function(){t.call(null,r||function(){return 1},1)})},ky=Bt.forEach,Py=Ty,Ry=Py("forEach"),Us=Ry?[].forEach:function(r){return ky(this,r,arguments.length>1?arguments[1]:void 0)},Cy=de,Di=Us;Cy({target:"Array",proto:!0,forced:[].forEach!=Di},{forEach:Di});var Mi=L,Li=Ds,_y=Ms,Pa=Us,jy=sr,qs=function(e){if(e&&e.forEach!==Pa)try{jy(e,"forEach",Pa)}catch{e.forEach=Pa}};for(var Ra in Li)Li[Ra]&&qs(Mi[Ra]&&Mi[Ra].prototype);qs(_y);function Fy(e){var{timeout:r,start:t,stop:a,leading:n=!1,trailing:o=!1}=e,i=w({name:"tick",sid:"uo9p3s"}),l=P(!1,{name:"$isRunning",sid:"-wxesi8"}),g=Ny(r),v=l.map(h=>!h),s=w({name:"saveTimeout",sid:"as5clk"}),f=P(null,{name:"$timeoutId",sid:"-bh90bo"}).on(s,(h,p)=>p),d=w({name:"saveReject",sid:"-64swis"}),c=P(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(d,(h,p)=>p),u=fn(h=>new Promise((p,y)=>{var b=setTimeout(p,h);s(b),d(y)}),{name:"timeoutFx",sid:"7lc3mj"}),m=Su({and:{source:[f,c],effect:h=>{var[p,y]=h;y(),p&&clearTimeout(p)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return Yt({and:[{clock:t,source:g,filter:v,target:u}],or:{sid:"-w5qmwp"}}),n&&Yt({and:[{clock:t,filter:v,target:i}],or:{sid:"-vpslni"}}),j({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),Yt({and:[{clock:u.done,source:g,filter:l,target:u}],or:{sid:"-v73liy"}}),j({and:[{clock:u.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),a&&(o&&j({and:[{clock:a,target:i}],or:{sid:"-uanqf7"}}),l.on(a,()=>!1),j({and:[{clock:a,target:m}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function Ny(e){if(G.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return P(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var Vs="#5583e5",zs="#79e555",Ks=[5,10,20,30,40],Hn=Ks[1],Dy=V,Ws=C,My=cs,Ly=Ve,By=In.f,Gy=Ws(By),Uy=Ws([].push),Bi=function(e){return function(r){for(var t=Ly(r),a=My(t),n=a.length,o=0,i=[],l;n>o;)l=a[o++],(!Dy||Gy(t,l))&&Uy(i,e?[l,t[l]]:t[l]);return i}},qy={entries:Bi(!0),values:Bi(!1)},Vy=de,zy=qy.entries;Vy({target:"Object",stat:!0},{entries:function(r){return zy(r)}});var Ky=TypeError,Wy=9007199254740991,Yy=function(e){if(e>Wy)throw Ky("Maximum allowed index exceeded");return e},Qy=de,Hy=R,Xy=rs,Jy=X,Zy=Nt,em=Gr,Gi=Yy,Ui=xs,rm=ss,tm=Gn,am=N,nm=wn,Ys=am("isConcatSpreadable"),om=nm>=51||!Hy(function(){var e=[];return e[Ys]=!1,e.concat()[0]!==e}),im=tm("concat"),lm=function(e){if(!Jy(e))return!1;var r=e[Ys];return r!==void 0?!!r:Xy(e)},sm=!om||!im;Qy({target:"Array",proto:!0,arity:1,forced:sm},{concat:function(r){var t=Zy(this),a=rm(t,0),n=0,o,i,l,g,v;for(o=-1,l=arguments.length;o<l;o++)if(v=o===-1?t:arguments[o],lm(v))for(g=em(v),Gi(n+g),i=0;i<g;i++,n++)i in v&&Ui(a,n,v[i]);else Gi(n+1),Ui(a,n++,v);return a.length=n,a}});var um=K,cm=function(){var e=um(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},Xn=R,fm=L,Jn=fm.RegExp,Zn=Xn(function(){var e=Jn("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),vm=Zn||Xn(function(){return!Jn("a","y").sticky}),dm=Zn||Xn(function(){var e=Jn("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),Qs={BROKEN_CARET:dm,MISSED_STICKY:vm,UNSUPPORTED_Y:Zn},pm=R,gm=L,hm=gm.RegExp,ym=pm(function(){var e=hm(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),mm=R,bm=L,$m=bm.RegExp,Sm=mm(function(){var e=$m("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Je=ne,Ut=C,Im=Vr,xm=cm,wm=Qs,Am=Ft.exports,Om=Gt,Em=Br.get,Tm=ym,km=Sm,Pm=Am("native-string-replace",String.prototype.replace),Ot=RegExp.prototype.exec,ln=Ot,Rm=Ut("".charAt),Cm=Ut("".indexOf),_m=Ut("".replace),Ca=Ut("".slice),sn=function(){var e=/a/,r=/b*/g;return Je(Ot,e,"a"),Je(Ot,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),Hs=wm.BROKEN_CARET,un=/()??/.exec("")[1]!==void 0,jm=sn||un||Hs||Tm||km;jm&&(ln=function(r){var t=this,a=Em(t),n=Im(r),o=a.raw,i,l,g,v,s,f,d;if(o)return o.lastIndex=t.lastIndex,i=Je(ln,o,n),t.lastIndex=o.lastIndex,i;var c=a.groups,u=Hs&&t.sticky,m=Je(xm,t),h=t.source,p=0,y=n;if(u&&(m=_m(m,"y",""),Cm(m,"g")===-1&&(m+="g"),y=Ca(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&Rm(n,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",y=" "+y,p++),l=new RegExp("^(?:"+h+")",m)),un&&(l=new RegExp("^"+h+"$(?!\\s)",m)),sn&&(g=t.lastIndex),v=Je(Ot,u?l:t,y),u?v?(v.input=Ca(v.input,p),v[0]=Ca(v[0],p),v.index=t.lastIndex,t.lastIndex+=v[0].length):t.lastIndex=0:sn&&v&&(t.lastIndex=t.global?v.index+v[0].length:g),un&&v&&v.length>1&&Je(Pm,v[0],l,function(){for(s=1;s<arguments.length-2;s++)arguments[s]===void 0&&(v[s]=void 0)}),v&&c)for(v.groups=f=Om(null),s=0;s<c.length;s++)d=c[s],f[d[0]]=v[d[1]];return v});var qt=ln,Fm=de,qi=qt;Fm({target:"RegExp",proto:!0,forced:/./.exec!==qi},{exec:qi});var Nm=Ct,Xs=Function.prototype,Vi=Xs.apply,zi=Xs.call,Dm=typeof Reflect=="object"&&Reflect.apply||(Nm?zi.bind(Vi):function(){return zi.apply(Vi,arguments)}),Ki=C,Wi=ze,Mm=qt,Yi=R,Js=N,Lm=sr,Bm=Js("species"),_a=RegExp.prototype,Zs=function(e,r,t,a){var n=Js(e),o=!Yi(function(){var v={};return v[n]=function(){return 7},""[e](v)!=7}),i=o&&!Yi(function(){var v=!1,s=/a/;return e==="split"&&(s={},s.constructor={},s.constructor[Bm]=function(){return s},s.flags="",s[n]=/./[n]),s.exec=function(){return v=!0,null},s[n](""),!v});if(!o||!i||t){var l=Ki(/./[n]),g=r(n,""[e],function(v,s,f,d,c){var u=Ki(v),m=s.exec;return m===Mm||m===_a.exec?o&&!c?{done:!0,value:l(s,f,d)}:{done:!0,value:u(f,s,d)}:{done:!1}});Wi(String.prototype,e,g[0]),Wi(_a,n,g[1])}a&&Lm(_a[n],"sham",!0)},Gm=X,Um=qe,qm=N,Vm=qm("match"),zm=function(e){var r;return Gm(e)&&((r=e[Vm])!==void 0?!!r:Um(e)=="RegExp")},Km=ls,Wm=jt,Ym=TypeError,Qm=function(e){if(Km(e))return e;throw Ym(Wm(e)+" is not a constructor")},Qi=K,Hm=Qm,Xm=N,Jm=Xm("species"),Zm=function(e,r){var t=Qi(e).constructor,a;return t===void 0||(a=Qi(t)[Jm])==null?r:Hm(a)},eb=js.charAt,eu=function(e,r,t){return r+(t?eb(e,r).length:1)},Hi=ne,rb=K,tb=F,ab=qe,nb=qt,ob=TypeError,ru=function(e,r){var t=e.exec;if(tb(t)){var a=Hi(t,e,r);return a!==null&&rb(a),a}if(ab(e)==="RegExp")return Hi(nb,e,r);throw ob("RegExp#exec called on incompatible receiver")},ib=Dm,gr=ne,eo=C,lb=Zs,sb=zm,ub=K,Xi=Mr,cb=Zm,fb=eu,vb=Nn,ja=Vr,db=Lr,Ji=ws,Zi=ru,pb=qt,gb=Qs,hb=R,Ye=gb.UNSUPPORTED_Y,el=4294967295,yb=Math.min,tu=[].push,mb=eo(/./.exec),Qe=eo(tu),hr=eo("".slice),bb=!hb(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});lb("split",function(e,r,t){var a;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?a=function(n,o){var i=ja(Xi(this)),l=o===void 0?el:o>>>0;if(l===0)return[];if(n===void 0)return[i];if(!sb(n))return gr(r,i,n,l);for(var g=[],v=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),s=0,f=new RegExp(n.source,v+"g"),d,c,u;(d=gr(pb,f,i))&&(c=f.lastIndex,!(c>s&&(Qe(g,hr(i,s,d.index)),d.length>1&&d.index<i.length&&ib(tu,g,Ji(d,1)),u=d[0].length,s=c,g.length>=l)));)f.lastIndex===d.index&&f.lastIndex++;return s===i.length?(u||!mb(f,""))&&Qe(g,""):Qe(g,hr(i,s)),g.length>l?Ji(g,0,l):g}:"0".split(void 0,0).length?a=function(n,o){return n===void 0&&o===0?[]:gr(r,this,n,o)}:a=r,[function(o,i){var l=Xi(this),g=o==null?void 0:db(o,e);return g?gr(g,o,l,i):gr(a,ja(l),o,i)},function(n,o){var i=ub(this),l=ja(n),g=t(a,i,l,o,a!==r);if(g.done)return g.value;var v=cb(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Ye?"g":"y"),d=new v(Ye?"^(?:"+i.source+")":i,f),c=o===void 0?el:o>>>0;if(c===0)return[];if(l.length===0)return Zi(d,l)===null?[l]:[];for(var u=0,m=0,h=[];m<l.length;){d.lastIndex=Ye?0:m;var p=Zi(d,Ye?hr(l,m):l),y;if(p===null||(y=yb(vb(d.lastIndex+(Ye?m:0)),l.length))===u)m=fb(l,m,s);else{if(Qe(h,hr(l,u,m)),h.length===c)return h;for(var b=1;b<=p.length-1;b++)if(Qe(h,p[b]),h.length===c)return h;m=u=y}}return Qe(h,hr(l,u)),h}]},!bb,Ye);function rl(e){var r=new Map,t=new Map;return e.forEach(function(a,n){$b(t,n,a)}),t.forEach(function(a,n){var o=It(a,2),i=o[0],l=o[1],g=e.get(n)||0;g&&i+l<2||g&&i+l>3||(!g&&i+l==3?r.set(n,i>l?1:2):g&&r.set(n,g))}),r}function $b(e,r,t){var a=au(r),n=It(a,2),o=n[0],i=n[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(g){e.has(g)||e.set(g,[0,0]);var v=e.get(g),s=It(v,2),f=s[0],d=s[1];t===1?e.set(g,[f+1,d]):e.set(g,[f,d+1])}),e}function au(e){var r=e.split("|");return[+r[0],+r[1]]}function nu(e){var r=It(e,2),t=r[0],a=r[1];return"".concat(t,"|").concat(a)}function ou(e,r){var t=Math.floor(e.clientY/r),a=Math.floor(e.clientX/r);return{row:t,col:a,y:t*r,x:a*r,shift:e.shiftKey}}function Sb(e){return""}function Ib(){try{return JSON.parse(localStorage.getItem("history")||null)||null}catch(e){return console.error(e),null}}function xb(){return{width:window.visualViewport.width,height:window.visualViewport.height}}var Et=xb(),wb=Math.ceil(Et.height/Hn),Ab=Math.ceil(Et.width/Hn),Se=P(Hn,{name:"$cellSize",sid:"-jmwh0y"}),Ob=P(Ks,{name:"$cellSizeOptions",sid:"-8rz9fj"}),iu=Se.map(function(e){return{height:Math.ceil(Et.height/e),width:Math.ceil(Et.width/e)}}),lu=w({name:"sizeChanged",sid:"1asij"}),Eb=new Map,_r=P(Eb,{name:"$fauna",sid:"-my4ood"}),ro=P({x:-Math.ceil(Ab/2),y:-Math.ceil(wb/2)},{name:"$focus",sid:"-rrr6rd"}),$r=w({name:"moveFocus",sid:"-q5afzk"}),su=w({name:"resetFocus",sid:"-jur644"}),Er=P(1,{name:"$selectedColor",sid:"-fgwkeh"}),ct=w({name:"colorSelected",sid:"v0iy7m"});Er.on(ct,function(e,r){return r});var uu=w({name:"toggleCell",sid:"-1ryjhh"}),to=P(0,{name:"$stepCount",sid:"-swuebz"}),Vt=w({name:"gameTick",sid:"jgy371"}),Tb=w({name:"saveClicked",sid:"-eh7oaa"}),zt=w({name:"resetFieldPressed",sid:"-vqm92z"}),cu=w({name:"makeNSteps",sid:"-dfsltc"}),ao=w({name:"startTimer",sid:"o4f1gv"}),fu=w({name:"stopTimer",sid:"bfpqhb"}),vu=Ou({sid:"-fedzcg",fn:function(){return Fy({timeout:50,start:ao,stop:fu})},name:"timer",method:"interval"}),ft={start:ao,stop:fu,isRunning:vu.isRunning},jr=P({row:0,col:0,x:0,y:0,shift:!1},{name:"$hoveredCell",sid:"4sg5p6"}),du=w({name:"fieldMouseMove",sid:"musxzz"}),no=or({and:[iu,_r,ro,Se,function(e,r,t,a){var n=e.width,o=e.height,i=[];return r.forEach(function(l,g){var v=au(g),s=Math.ceil(v[0]+n/2+t.x),f=Math.ceil(v[1]+o/2+t.y);s>=0&&s<n&&f>=0&&f<o&&i.push({x:s*a,y:f*a,val:l})}),i}],or:{name:"$field",sid:"skit0h"}});Se.on(lu,function(e,r){return r});to.on(Vt,function(e){return e+1}).on(cu,function(e,r){return e+r}).reset(zt);_r.on(Vt,function(e){return rl(e)}).on(cu,function(e,r){for(var t=e,a=1;a<=r;a++)t=rl(t);return t}).on(zt,function(){return new Map});ro.on($r,function(e,r){return{x:e.x+(r.x||0),y:e.y+(r.y||0)}}).reset(su);j({and:[{clock:[vu.tick,ao],target:Vt}],or:{sid:"d8wewh"}});j({and:[{source:{current:jr,size:Se},clock:du,fn:function(r,t){var a=r.current,n=r.size;return t=ou(t,n),a.col===t.col&&a.row===t.row&&a.shift===t.shift?a:t},target:jr}],or:{sid:"dmn9qi"}});j({and:[{source:{fauna:_r,color:Er,size:iu,focus:ro,hoveredCell:jr},clock:uu,fn:function(r,t){var a=r.color,n=r.fauna,o=r.focus,i=r.size;r.hoveredCell;var l=t.col,g=t.row,v=t.shift,s=new Map(n),f=l-Math.ceil(i.width/2)-o.x,d=g-Math.ceil(i.height/2)-o.y,c=nu([f,d]);return v?s.set(c,a):s.get(c)===a?s.delete(c):s.set(c,a),s},target:_r}],or:{sid:"e4shbf"}});const kb="_field_1nviy_1",Pb="_cell10_1nviy_13",Rb="_on1_1nviy_20",Cb="_on2_1nviy_23",_b="_roundCell_1nviy_27",jb="_history_1nviy_31",Fb="_colorBtn_1nviy_37",Nb="_currentColor_1nviy_44",Db="_arrowBtn_1nviy_48",D={field:kb,cell10:Pb,on1:Rb,on2:Cb,roundCell:_b,history:jb,colorBtn:Fb,currentColor:Nb,arrowBtn:Db};function Mb(){O("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,a;O("button",{classList:(r={},me(r,D.colorBtn,!0),me(r,D.currentColor,Er.map(function(n){return n===1})),r),style:{backgroundColor:Vs},handler:{click:ct.prepend(function(){return 1})}}),O("button",{classList:(t={},me(t,D.colorBtn,!0),me(t,D.currentColor,Er.map(function(n){return n===2})),t),style:{backgroundColor:zs},handler:{click:ct.prepend(function(){return 2})}}),O("button",{classList:(a={},me(a,D.colorBtn,!0),me(a,D.currentColor,Er.map(function(n){return!n})),a),handler:{click:ct.prepend(function(){return 0})}})}})}const Lb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAG0lEQVQIW2Pcsm3HfwY0wAgS9PHyYEQWp1AQAFQ1Eyf4b2h5AAAAAElFTkSuQmCC",Bb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAIUlEQVQYV2Pcsm3HfwYiACNIoY+XByMhtaMK8YYQ0cEDAGGSJyyXtT+6AAAAAElFTkSuQmCC",Gb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAMUlEQVQ4T2Pcsm3HfwYqAkaQgT5eHozUMnPUQMpDcjQMR8OQjBAYTTZkBBqalhEYhgCUT082k7kLHwAAAABJRU5ErkJggg==",Ub="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAASklEQVRIS2Pcsm3Hf4YBAIwgi328PBjpbfeoxXQL8dGgHg1qmoXAaOKiWdCiGzwa1KNBTbMQGE1cNAva0Xw8mrhGExfNQmDkJS4AV1N3QNcrUn8AAAAASUVORK5CYII=",qb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAZUlEQVRYR+3SwQmAQBAEQTc7EcMVMTvFGOpzj75/w1I3c93Puy385j/wPPZZ9cYO1J9JMEEV0L4NJqgC2rfBBFVA+zaYoApo3wYTVAHt22CCKqB9G0xQBbRvgwmqgPZtMEEV0P4DZHOfSodrQhYAAAAASUVORK5CYII=",Vb=""+new URL("redo-arrow-icon.c268a7f7.svg",import.meta.url).href;function zb(e){O("select",function(){Pe({handler:{change:e.onChange}}),Rl(e.options,function(r){var t=r.store;O("option",{attr:{value:t.map(function(a){return a.value}),selected:or({and:[t,e.value,function(a,n){return a.value===n}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(a){return a.label})})})})}function Kb(){var e=$r.prepend(function(){return{x:5}}),r=$r.prepend(function(){return{x:-5}}),t=$r.prepend(function(){return{y:5}}),a=$r.prepend(function(){return{y:-5}});O("div",function(){Pe({style:{display:"grid",gridTemplateColumns:"30px 30px 30px",gridTemplateRows:"30px 30px 30px",gap:"8px",position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",zIndex:1}}),O("div",{}),O("button",{text:"^",classList:[D.arrowBtn],style:{transform:"rotate(90deg)"},handler:{click:t}}),O("div",{}),O("button",{text:"<-",classList:[D.arrowBtn],style:{transform:"rotate(0deg)"},handler:{click:e}}),O("button",{classList:[D.arrowBtn],style:{backgroundImage:'url("'.concat(Vb,'")')},handler:{click:su}}),O("button",{text:"->",classList:[D.arrowBtn],style:{transform:"rotate(180deg)"},handler:{click:r}}),O("div",{}),O("button",{text:"v",classList:[D.arrowBtn],style:{transform:"rotate(270deg)"},handler:{click:a}})}),O("div",function(){Pe({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),zb({options:Ob.map(function(o){return o.map(function(i){return{label:"cell ".concat(i,"px"),value:String(i)}})}),value:Se.map(function(o){return String(o)}),onChange:lu.prepend(function(o){return+o.target.value})})});var n=w({name:"rawClicked",sid:"-xlx950"});j({and:[{source:Se,clock:n,fn:function(i,l){return ou(l,i)},target:uu}],or:{sid:"-ctjn7h"}}),O("div",{classList:[D.field],styleVar:{cellSize:Se.map(function(o){return o+"px"}),color1:Vs,color2:zs},style:{backgroundImage:Se.map(function(o){return o===5?Lb:o===20?Gb:o===30?Ub:o===40?qb:Bb}).map(function(o){return'url("'.concat(o,'")')}),backgroundSize:Se.map(function(o){return o+"px"})},handler:{click:n,mousemove:du},fn:function(){Rl(no,function(i){var l,g=i.store;O("div",{data:{row:g.map(function(v){return v.x}),col:g.map(function(v){return v.y})},style:{left:g.map(function(v){return v.x+"px"}),top:g.map(function(v){return v.y+"px"})},classList:(l={},me(l,D.cell10,!0),me(l,D.on1,g.map(function(v){return v.val===1})),me(l,D.on2,g.map(function(v){return v.val===2})),l)})}),O("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:jr.map(function(i){return i.x+"px"}),top:jr.map(function(i){return i.y+"px"})},classList:[D.cell10]})}})}var tl,al;function Wb(){O("p",function(){Pe({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),O("button",{text:"Step",handler:{click:Vt}}),wo(tl||(tl=To([" timer: "]))),Wu({source:ft.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){O("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:ft.stop}})},0:function(){O("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:ft.start}})}}}),wo(al||(al=To(["steps: ",""])),to)})}var Yb=de,Qb=Bt.find,Hb=ds,cn="find",pu=!0;cn in[]&&Array(1)[cn](function(){pu=!1});Yb({target:"Array",proto:!0,forced:pu},{find:function(r){return Qb(this,r,arguments.length>1?arguments[1]:void 0)}});Hb(cn);var Xb=V,Jb=Cn.EXISTS,gu=C,Zb=z.f,hu=Function.prototype,e$=gu(hu.toString),yu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,r$=gu(yu.exec),t$="name";Xb&&!Jb&&Zb(hu,t$,{configurable:!0,get:function(){try{return r$(yu,e$(this))[1]}catch{return""}}});var a$=P("",{name:"$exported",sid:"-eko3nz"}),n$=w({name:"exportClicked",sid:"ve9igg"}),o$=ne,i$=Zs,l$=K,s$=Nn,Fa=Vr,u$=Mr,c$=Lr,f$=eu,nl=ru;i$("match",function(e,r,t){return[function(n){var o=u$(this),i=n==null?void 0:c$(n,e);return i?o$(i,n,o):new RegExp(n)[e](Fa(o))},function(a){var n=l$(this),o=Fa(a),i=t(r,n,o);if(i.done)return i.value;if(!n.global)return nl(n,o);var l=n.unicode;n.lastIndex=0;for(var g=[],v=0,s;(s=nl(n,o))!==null;){var f=Fa(s[0]);g[v]=f,f===""&&(n.lastIndex=f$(o,s$(n.lastIndex),l)),v++}return v===0?null:g}]});var v$=de,d$=Bt.filter,p$=Gn,g$=p$("filter");v$({target:"Array",proto:!0,forced:!g$},{filter:function(r){return d$(this,r,arguments.length>1?arguments[1]:void 0)}});var oo=P(Ib()||[],{name:"$history",sid:"8vj2mw"}),mu=w({name:"addToHistory",sid:"-6p9jgl"}),h$=w({name:"removeFromHistory",sid:"iwl8tq"}),io=w({name:"historySelected",sid:"bspsag"});oo.on(mu,function(e,r){var t,a=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",n=a.match(/(\d+)/),o=n&&+n[1]||0;return[].concat(rc(e),[{field:r,name:"save #".concat(o+1)}])}).on(h$,function(e,r){});j({and:[{source:oo,target:fn(function(e){},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});j({and:[{source:no,clock:Tb,target:mu}],or:{sid:"-32twmo"}});j({and:[{source:oo,clock:io,fn:function(r,t){var a=r.find(function(o){return o.name===t}).field,n=new Map;return a.forEach(function(o,i){o.forEach(function(l,g){l&&n.set(nu([g,i]),l)})}),n},target:_r}],or:{sid:"-qowvko"}});j({and:[{clock:[io,zt],target:ft.stop}],or:{sid:"-q40p0y"}});j({and:[{source:no,clock:n$,fn:Sb,target:a$}],or:{sid:"-q3gwfl"}});to.reset(io);function y$(){O("div",function(){Kb(),O("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){O("h1",{text:"Game of Life"}),Mb(),Wb()}}),O("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:zt}})})}zu(document.querySelector("#app"),y$);
