const Qu=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};Qu();function qe(e,r){for(let t in e)r(e[t],t)}function z(e,r){e.forEach(r)}function q(e,r){if(!e)throw Error(r)}function ea(e,r){U={parent:U,value:e,template:M(e,"template")||gr(),sidRoot:M(e,"sidRoot")||U&&U.sidRoot};try{return r()}finally{U=he(U)}}function ye({node:e=[],from:r,source:t,parent:a=r||t,to:n,target:o,child:i=n||o,scope:l={},meta:p={},family:g={type:"regular"},regional:c}={}){let f=Tr(a),v=Tr(g.links),u=Tr(g.owners),s=[];z(e,h=>h&&fe(s,h));let y={id:ac(),seq:s,next:Tr(i),meta:p,scope:l,family:{type:g.type||"crosslink",links:v,owners:u}};return z(v,h=>fe(jt(h),y)),z(u,h=>fe(Ft(h),y)),z(f,h=>fe(h.next,y)),c&&U&&ur(Rr(U),[y]),y}function _(e,r,t){let a=de,n=null,o=A;if(e.target&&(r=e.params,t=e.defer,a="page"in e?e.page:a,e.stack&&(n=e.stack),o=xe(e)||o,e=e.target),o&&A&&o!==A&&(A=null),Array.isArray(e))for(let u=0;u<e.length;u++)Ne("pure",a,Z(e[u]),n,r[u],o);else Ne("pure",a,Z(e),n,r,o);if(t&&!Wr)return;let i,l,p,g,c,f,v={isRoot:Wr,currentPage:de,scope:A,isWatch:at,isPure:ot};Wr=0;e:for(;g=sc();){let{idx:u,stack:s,type:y}=g;p=s.node,de=c=s.page,A=xe(s),c?f=c.reg:A&&(f=A.reg);let h=!!c,d=!!A,m={fail:0,scope:p.scope};i=l=0;for(let $=u;$<p.seq.length&&!i;$++){let b=p.seq[$];if(b.order){let{priority:S,barrierID:I}=b.order,w=I?c?`${c.fullID}_${I}`:I:0;if($!==u||y!==S){I?un.has(w)||(un.add(w),ta($,s,S,I)):ta($,s,S);continue e}I&&un.delete(w)}switch(b.type){case"mov":{let I,w=b.data;switch(w.from){case ze:I=Rr(s);break;case"a":case"b":I=s[w.from];break;case"value":I=w.store;break;case"store":if(f&&!f[w.store.id])if(h){let O=zl(c,w.store.id);s.page=c=O,O?f=O.reg:d?(fr(A,w.store,0,1,w.softRead),f=A.reg):f=void 0}else d&&fr(A,w.store,0,1,w.softRead);I=_r(f&&f[w.store.id]||w.store)}switch(w.to){case ze:s.value=I;break;case"a":case"b":s[w.to]=I;break;case"store":cc(c,A,p,w.target).current=I}break}case"compute":let S=b.data;if(S.fn){at=M(p,"op")==="watch",ot=S.pure;let I=S.safe?(0,S.fn)(Rr(s),m.scope,s):fc(m,S.fn,s);S.filter?l=!I:s.value=I,at=v.isWatch,ot=v.isPure}}i=m.fail||l}if(!i){let $=Rr(s);z(p.next,S=>{Ne("child",c,S,s,$,xe(s))});let b=xe(s);if(b){M(p,"needFxCounter")&&Ne("child",c,b.fxCount,s,$,b),M(p,"storeChange")&&Ne("child",c,b.storeChange,s,$,b),M(p,"warnSerialize")&&Ne("child",c,b.warnSerializeNode,s,$,b);let S=b.additionalLinks[p.id];S&&z(S,I=>{Ne("child",c,I,s,$,b)})}}}Wr=v.isRoot,de=v.currentPage,A=xe(v)}function jl(e,r="combine"){let t=r+"(",a="",n=0;return qe(e,o=>{n<25&&(o!=null&&(t+=a,t+=Ee(o)?Pa(o).fullName:o.toString()),n+=1,a=", ")}),t+")"}function Fl(e,r){let t,a,n=e;if(r){let o=Pa(r);e.length===0?(t=o.path,a=o.fullName):(t=o.path.concat([e]),a=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],a=e;return{shortName:n,fullName:a,path:t}}function pr(e,r){let t=r?e:e[0];ql(t);let a=t.or,n=t.and;if(n){let o=r?n:n[0];if(ie(o)&&"and"in o){let i=pr(n,r);e=i[0],a={...a,...i[1]}}else e=n}return[e,a]}function K(e,...r){let t=gr();if(t){let a=t.handlers[e];if(a)return a(t,...r)}}function x(e,r){let t=(n,...o)=>(Ke(!M(t,"derived"),"call of derived event","createEvent"),Ke(!ot,"unit call from pure function","operators like sample"),de?((i,l,p,g)=>{let c=de,f=null;if(l)for(f=de;f&&f.template!==l;)f=he(f);Ao(f);let v=i.create(p,g);return Ao(c),v})(t,a,n,o):t.create(n,o)),a=gr();return Object.assign(t,{graphite:ye({meta:Wl("event",t,e,r),regional:1}),create:n=>(_({target:t,params:n,scope:A}),n),watch:n=>Vl(t,n),map:n=>cn(t,sr,n,[ve()]),filter:n=>cn(t,"filter",n.fn?n:n.fn,[ve(_a,1)]),filterMap:n=>cn(t,"filterMap",n,[ve(),oe(o=>!Y(o),1)]),prepend(n){let o=x("* \u2192 "+t.shortName,{parent:he(t)});return K("eventPrepend",Z(o)),Fe(o,t,[ve()],"prepend",n),Hl(t,o),o}})}function T(e,r){let t=Ve(e),a=x({named:"updates",derived:1});K("storeBase",t);let n=t.id,o={subscribers:new Map,updates:a,defaultState:e,stateRef:t,getState(){let f,v=t;if(de){let u=de;for(;u&&!u.reg[n];)u=he(u);u&&(f=u)}return!f&&A&&(fr(A,t,1),f=A),f&&(v=f.reg[n]),_r(v)},setState:f=>_({target:o,params:f,defer:1,scope:A}),reset:(...f)=>(z(f,v=>o.on(v,()=>o.defaultState)),o),on:(f,v)=>(mt(f,".on","first argument"),Ke(!M(o,"derived"),".on in derived store","createStore"),z(Array.isArray(f)?f:[f],u=>{o.off(u),nt(o).set(u,Kl(Fo(u,o,"on",ic,v)))}),o),off(f){let v=nt(o).get(f);return v&&(v(),nt(o).delete(f)),o},map(f,v){let u,s;ie(f)&&(u=f,f=f.fn),Ke(Y(v),"second argument of store.map","updateFilter");let y=o.getState();gr()?s=null:Y(y)||(s=f(y,v));let h=T(s,{name:`${o.shortName} \u2192 *`,derived:1,and:u}),d=Fo(o,h,sr,ra,f);return yt(V(h),{type:sr,fn:f,from:t}),V(h).noInit=1,K("storeMap",t,d),h},watch(f,v){if(!v||!Ee(f)){let u=Vl(o,f);return K("storeWatch",t,f)||f(o.getState()),u}return q(J(v),"second argument should be a function"),f.watch(u=>v(o.getState(),u))}},i=Wl("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=ye({scope:{state:t,fn:l},node:[oe((f,v,u)=>(u.scope&&!u.scope.reg[t.id]&&(u.b=1),f)),pe(t),oe((f,v,{a:u,b:s})=>!Y(f)&&(f!==u||s),1),l&&ve(ra,1),ae({from:ze,target:t})],child:a,meta:i,regional:1});let p=M(o,"derived"),g=M(o,"serialize")==="ignore",c=M(o,"sid");return c&&(g||Ge(o,"storeChange",1),t.sid=c),c||g||p||Ge(o,"warnSerialize",1),q(p||!Y(e),"current state can't be undefined, use null instead"),ur(o,[a]),o}function ke(...e){let r,t,a;[e,a]=pr(e);let n,o,i,l=e[e.length-1];if(J(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let p=t[0];H(p)||(n=p,o=1)}if(!o&&(n=t,r)){i=1;let p=r;r=g=>p(...g)}return q(ie(n),"shape should be an object"),dc(Array.isArray(n),!i,n,a,r)}function Ju(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function ka(e,r){let t=x(J(e)?{handler:e}:e,r),a=Z(t);Ge(a,"op",t.kind="effect"),t.use=v=>(q(J(v),".use argument should be a function"),g.scope.handler=v,t),t.use.getCurrent=()=>g.scope.handler;let n=t.finally=x({named:"finally",derived:1}),o=t.done=n.filterMap({named:"done",fn({status:v,params:u,result:s}){if(v==="done")return{params:u,result:s}}}),i=t.fail=n.filterMap({named:"fail",fn({status:v,params:u,error:s}){if(v==="fail")return{params:u,error:s}}}),l=t.doneData=o.map({named:"doneData",fn:({result:v})=>v}),p=t.failData=i.map({named:"failData",fn:({error:v})=>v}),g=ye({scope:{handlerId:M(a,"sid"),handler:t.defaultConfig.handler||(()=>q(0,`no handler used in ${t.getType()}`))},node:[oe((v,u,s)=>{let y=u,h=y.handler;if(xe(s)){let d=xe(s).handlers[y.handlerId];d&&(h=d)}return v.handler=h,v},0,1),oe(({params:v,req:u,handler:s,args:y=[v]},h,d)=>{let m=$t(v,u,1,n,d),$=$t(v,u,0,n,d),[b,S]=Xl(s,$,y);b&&(ie(S)&&J(S.then)?S.then(m,$):m(S))},0,1)],meta:{op:"fx",fx:"runner"}});a.scope.runner=g,fe(a.seq,oe((v,{runner:u},s)=>{let y=he(s)?{params:v,req:{rs(h){},rj(h){}}}:v;return _({target:u,params:y,defer:1,scope:xe(s)}),y.params},0,1)),t.create=v=>{let u=Ju(),s={params:v,req:u};if(A){if(!at){let y=A;u.req.finally(()=>{uc(y)}).catch(()=>{})}_({target:t,params:s,scope:A})}else _(t,s);return u.req};let c=t.inFlight=T(0,{serialize:"ignore"}).on(t,v=>v+1).on(n,v=>v-1).map({fn:v=>v,named:"inFlight"});Ge(n,"needFxCounter","dec"),Ge(t,"needFxCounter",1);let f=t.pending=c.map({fn:v=>v>0,named:"pending"});return ur(t,[n,o,i,l,p,f,c]),t}function Zu(e){let r;[e,r]=pr(e,1);let{source:t,effect:a,mapParams:n}=e,o=ka(e,r);Ge(o,"attached",1);let i,{runner:l}=Z(o).scope,p=oe((c,f,v)=>{let u,{params:s,req:y,handler:h}=c,d=o.finally,m=$t(s,y,0,d,v),$=v.a,b=ht(h),S=1;if(n?[S,u]=Xl(n,m,[s,$]):u=t&&b?$:s,S){if(!b)return c.args=[$,u],1;_({target:h,params:{params:u,req:{rs:$t(s,y,1,d,v),rj:m}},page:v.page,defer:1})}},1,1);if(t){let c;H(t)?(c=t,ur(c,[o])):(c=ke(t),ur(o,[c])),i=[pe(V(c)),p]}else i=[p];l.seq.splice(1,0,...i),o.use(a);let g=he(a);return g&&(Object.assign(Pa(o),Fl(o.shortName,g)),o.defaultConfig.parent=g),Hl(a,o,"effect"),o}function gt(e,r){mt(e,"merge","first argument");let t=x({name:jl(e,"merge"),derived:1,and:r});return Fe(e,t,[],"merge"),t}function Dl(e,r){let t=0;return z(gc,a=>{a in e&&(q(e[a]!=null,Yl(r,a)),t=1)}),t}function P(...e){let r,t,a,n,[[o,i,l],p]=pr(e),g=1;return Y(i)&&ie(o)&&Dl(o,"sample")&&(i=o.clock,l=o.fn,g=!o.greedy,n=o.filter,r=o.target,t=o.name,a=o.sid,o=o.source),Fa("sample",i,o,n,r,l,t,p,g,1,0,a)}function ln(...e){let[[r,t],a]=pr(e);return t||(t=r,r=t.source),Dl(t,"guard"),Fa("guard",t.clock,r,t.filter,t.target,null,t.name,a,!t.greedy,0,1)}function ko(e,r,t){if(H(e))return Ke(0,"restore($store)"),e;if(Ml(e)||ht(e)){let n=he(e),o=T(r,{parent:n,name:e.shortName,and:t});return Fe(ht(e)?e.doneData:e,o),n&&n.hooks.store(o),o}let a=Array.isArray(e)?[]:{};return qe(e,(n,o)=>a[o]=H(n)?n:T(n,{name:o})),a}function ec(...e){let r,t,a="split",[[n,o],i]=pr(e),l=!o;l&&(r=n.cases,o=n.match,t=n.clock,n=n.source);let p=H(o),g=!Ee(o)&&J(o),c=!p&&!g&&ie(o);r||(r={}),l?qe(r,(y,h)=>Gl(a,y,`cases.${h}`)):(q(c,"match should be an object"),qe(o,(y,h)=>r[h]=x({derived:1,and:i})),r.__=x({derived:1,and:i}));let f,v=new Set([].concat(n,t||[],Object.values(r))),u=Object.keys(p||g?r:o);if(p||g)p&&v.add(o),f=[p&&pe(V(o),0,1),cr({safe:p,filter:1,pure:!p,fn(y,h,d){let m=String(p?d.a:o(y));vn(h,Po(u,m)?m:"__",y,d)}})];else if(c){let y=Ve({});y.type="shape";let h,d=[];qe(o,(m,$)=>{if(Ee(m)){h=1,fe(d,$),v.add(m);let b=Fe(m,[],[pe(y),oe((S,I,{a:w})=>w[$]=S)]);if(H(m)){y.current[$]=m.getState();let S=V(m);yt(y,{from:S,field:$,type:"field"}),K("splitMatchStore",S,b)}}}),h&&K("splitBase",y),f=[h&&pe(y,0,1),ve((m,$,b)=>{for(let S=0;S<u.length;S++){let I=u[S];if(Po(d,I)?b.a[I]:o[I](m))return void vn($,I,m,b)}vn($,"__",m,b)},1)]}else q(0,"expect match to be unit, function or object");let s=ye({meta:{op:a},parent:t?[]:n,scope:r,node:f,family:{owners:Array.from(v)},regional:1});if(t&&Fa(a,t,n,null,s,null,a,i,0,0,0),!l)return r}let rc=typeof Symbol<"u"&&Symbol.observable||"@@observable",sr="map",ze="stack",Ee=e=>(J(e)||ie(e))&&"kind"in e;const qr=e=>r=>Ee(r)&&r.kind===e;let H=qr("store"),Ml=qr("event"),ht=qr("effect"),Nl=qr("domain"),tc=qr("scope");var B={__proto__:null,unit:Ee,store:H,event:Ml,effect:ht,domain:Nl,scope:tc};let Po=(e,r)=>e.includes(r),sn=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},fe=(e,r)=>e.push(r),Ke=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Z=e=>e.graphite||e,jt=e=>e.family.owners,Ft=e=>e.family.links,V=e=>e.stateRef,Rr=e=>e.value,nt=e=>e.subscribers,he=e=>e.parent,xe=e=>e.scope,M=(e,r)=>Z(e).meta[r],Ge=(e,r,t)=>Z(e).meta[r]=t,Pa=e=>e.compositeName;const Ra=()=>{let e=0;return()=>""+ ++e};let nc=Ra(),Ll=Ra(),ac=Ra(),U=null,gr=()=>U&&U.template,Bl=e=>(e&&U&&U.sidRoot&&(e=`${U.sidRoot}|${e}`),e),oc=({sid:e,name:r,loc:t,method:a,fn:n})=>ea(ye({meta:{sidRoot:Bl(e),name:r,loc:t,method:a}}),n),ur=(e,r)=>{let t=Z(e);z(r,a=>{let n=Z(a);t.family.type!=="domain"&&(n.family.type="crosslink"),fe(jt(n),t),fe(Ft(t),n)})},Tr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Z),ie=e=>typeof e=="object"&&e!==null,J=e=>typeof e=="function",Y=e=>e===void 0,ql=e=>q(ie(e)||J(e),"expect first argument be an object");const Ro=(e,r,t,a)=>q(!(!ie(e)&&!J(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${a}`);let mt=(e,r,t)=>{Array.isArray(e)?z(e,(a,n)=>Ro(a,r,`${n} item of ${t}`,"")):Ro(e,r,t," or array of units")},Gl=(e,r,t="target")=>z(Tr(r),a=>Ke(!M(a,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),ra=(e,{fn:r},{a:t})=>r(e,t),ic=(e,{fn:r},{a:t})=>r(t,e),_a=(e,{fn:r})=>r(e);const Ul=(e,r,t,a)=>{let n={id:Ll(),type:e,data:r};return t&&(n.order={priority:t},a&&(n.order.barrierID=++lc)),n};let lc=0,ae=({from:e="store",store:r,target:t,to:a=t?"store":ze,batch:n,priority:o})=>Ul("mov",{from:e,store:r,to:a,target:t},o,n),cr=({fn:e,batch:r,priority:t,safe:a=0,filter:n=0,pure:o=0})=>Ul("compute",{fn:e,safe:a,filter:n,pure:o},t,r),Ca=({fn:e})=>cr({fn:e,priority:"effect"}),oe=(e,r,t)=>cr({fn:e,safe:1,filter:r,priority:t&&"effect"}),pe=(e,r,t)=>ae({store:e,to:r?ze:"a",priority:t&&"sampler",batch:1}),ve=(e=_a,r)=>cr({fn:e,pure:1,filter:r}),_o={mov:ae,compute:cr,filter:({fn:e,pure:r})=>cr({fn:e,filter:1,pure:r}),run:Ca},Ve=e=>({id:Ll(),current:e}),_r=({current:e})=>e,yt=(e,r)=>{e.before||(e.before=[]),fe(e.before,r)},ar=null;const Aa=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||na(e.v.type)>na(r.v.type))&&(t=e,e=r,r=t),t=Aa(e.r,r),e.r=e.l,e.l=t,e},ja=[];let Co=0;for(;Co<6;)fe(ja,{first:null,last:null,size:0}),Co+=1;const sc=()=>{for(let e=0;e<6;e++){let r=ja[e];if(r.size>0){if(e===3||e===4){r.size-=1;let a=ar.v;return ar=Aa(ar.l,ar.r),a}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},Ne=(e,r,t,a,n,o)=>ta(0,{a:null,b:null,node:t,parent:a,value:n,page:r,scope:o},e),ta=(e,r,t,a=0)=>{let n=na(t),o=ja[n],i={v:{idx:e,stack:r,type:t,id:a},l:null,r:null};n===3||n===4?ar=Aa(ar,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},na=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},un=new Set;let A,Wr=1,at=0,ot=0,de=null,uc=e=>{A=e},Ao=e=>{de=e};const zl=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=he(e);if(e)return e}return null};let cc=(e,r,t,a,n)=>{let o=zl(e,a.id);return o?o.reg[a.id]:r?(fr(r,a,n),r.reg[a.id]):a},fr=(e,r,t,a,n)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!n){let p=0,g=t||!r.noInit||a;z(r.before,c=>{switch(c.type){case sr:{let f=c.from;if(f||c.fn){f&&fr(e,f,t,a);let v=f&&o[f.id].current;g&&(l.current=c.fn?c.fn(v):v)}break}case"field":p||(p=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),fr(e,c.from,t,a),g&&(l.current[c.field]=o[o[c.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const fc=(e,r,t)=>{try{return r(Rr(t),e.scope,t)}catch(a){console.error(a),e.fail=1}};let aa=(e,r={})=>(ie(e)&&(aa(e.or,r),qe(e,(t,a)=>{Y(t)||a==="or"||a==="and"||(r[a]=t)}),aa(e.and,r)),r);const jo=(e,r)=>{sn(e.next,r),sn(jt(e),r),sn(Ft(e),r)},oa=(e,r,t)=>{let a;e.next.length=0,e.seq.length=0,e.scope=null;let n=Ft(e);for(;a=n.pop();)jo(a,e),(r||t&&M(e,"op")!=="sample"||a.family.type==="crosslink")&&oa(a,r,M(a,"op")!=="on"&&t);for(n=jt(e);a=n.pop();)jo(a,e),t&&a.family.type==="crosslink"&&oa(a,r,M(a,"op")!=="on"&&t)},$r=e=>e.clear();let vc=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),H(e))$r(nt(e));else if(Nl(e)){t=1;let a=e.history;$r(a.events),$r(a.effects),$r(a.stores),$r(a.domains)}oa(Z(e),!!r,t)},Kl=e=>{let r=()=>vc(e);return r.unsubscribe=r,r},Fe=(e,r,t,a,n)=>ye({node:t,parent:e,child:r,scope:{fn:n},meta:{op:a},family:{owners:[e,r],links:r},regional:1}),Vl=(e,r)=>(q(J(r),".watch argument should be a function"),Kl(ye({scope:{fn:r},node:[Ca({fn:_a})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Hl=(e,r,t="event")=>{he(e)&&he(e).hooks[t](r)},Wl=(e,r,t,a)=>{let n=e==="domain",o=nc(),i=aa({or:a,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:p=null,named:g=null}=i,c=g||i.name||(n?"":o),f=Fl(c,l),v={op:r.kind=e,name:r.shortName=c,sid:r.sid=Bl(p),named:g,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=f,r.defaultConfig=i,r.thru=u=>(Ke(0,"thru","js pipe"),u(r)),r.getType=()=>f.fullName,!n){r.subscribe=s=>(ql(s),r.watch(J(s)?s:y=>s.next&&s.next(y))),r[rc]=()=>r;let u=gr();u&&(v.nativeTemplate=u)}return v};const cn=(e,r,t,a)=>{let n;ie(t)&&(n=t,t=t.fn);let o=x({name:`${e.shortName} \u2192 *`,derived:1,and:n});return Fe(e,o,a,r,t),o},Fo=(e,r,t,a,n)=>{let o=V(r),i=ae({store:o,to:"a",priority:"read"});t===sr&&(i.data.softRead=1);let l=[i,ve(a)];return K("storeOnMap",o,l,H(e)&&V(e)),Fe(e,r,l,t,n)},dc=(e,r,t,a,n)=>{let o=e?s=>s.slice():s=>({...s}),i=e?[]:{},l=o(i),p=Ve(l),g=Ve(1);p.type=e?"list":"shape",p.noInit=1,K("combineBase",p,g);let c=T(l,{name:jl(t),derived:1,and:a}),f=V(c);f.noInit=1,Ge(c,"isCombine",1);let v=pe(p);v.order={priority:"barrier"};let u=[oe((s,y,h)=>(h.scope&&!h.scope.reg[p.id]&&(h.c=1),s)),v,ae({store:g,to:"b"}),oe((s,{key:y},h)=>{if(h.c||s!==h.a[y])return r&&h.b&&(h.a=o(h.a)),h.a[y]=s,1},1),ae({from:"a",target:p}),ae({from:"value",store:0,target:g}),ae({from:"value",store:1,target:g,priority:"barrier",batch:1}),pe(p,1),n&&ve()];return qe(t,(s,y)=>{if(!H(s))return q(!Ee(s)&&!Y(s),`combine expects a store in a field ${y}`),void(l[y]=i[y]=s);i[y]=s.defaultState,l[y]=s.getState();let h=Fe(s,c,u,"combine",n);h.scope.key=y;let d=V(s);yt(p,{type:"field",field:y,from:d}),K("combineField",d,h)}),c.defaultShape=t,yt(f,{type:sr,from:p,fn:n}),gr()||(c.defaultState=n?f.current=n(l):i),c};let Xl=(e,r,t)=>{try{return[1,e(...t)]}catch(a){return r(a),[0,null]}},$t=(e,r,t,a,n)=>o=>_({target:[a,pc],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:n.page,scope:xe(n)});const pc=ye({node:[Ca({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),gc=["source","clock","target"],Yl=(e,r)=>e+`: ${r} should be defined`;let Fa=(e,r,t,a,n,o,i,l,p,g,c,f)=>{let v=!!n;q(!Y(t)||!Y(r),Yl(e,"either source or clock"));let u=0;Y(t)?u=1:Ee(t)||(t=ke(t)),Y(r)?r=t:(mt(r,e,"clock"),Array.isArray(r)&&(r=gt(r))),u&&(t=r),l||i||(i=t.shortName);let s="none";(c||a)&&(Ee(a)?s="unit":(q(J(a),"`filter` should be function or unit"),s="fn")),n?(mt(n,e,"target"),Gl(e,n)):s==="none"&&g&&H(t)&&H(r)?n=T(o?o(_r(V(t)),_r(V(r))):_r(V(t)),{name:i,sid:f,or:l}):(n=x({name:i,derived:1,or:l}),K("sampleTarget",Z(n)));let y=Ve(),h=[];if(s==="unit"){let[$,b]=Do(a,n,r,y,e);h=[...fn(b),...fn($)]}let[d,m]=Do(t,n,r,y,e);return ur(t,[Fe(r,n,[K("sampleSourceLoader"),ae({from:ze,target:y}),...fn(m),pe(d,1,p),...h,pe(y),s==="fn"&&ve(($,b,{a:S})=>a($,S),1),o&&ve(ra),K("sampleSourceUpward",v)],e,o)]),n};const fn=e=>[pe(e),oe((r,t,{a})=>a,1)],Do=(e,r,t,a,n)=>{let o=H(e),i=o?V(e):Ve(),l=Ve(o);return o||ye({parent:e,node:[ae({from:ze,target:i}),ae({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:n},regional:1}),K("sampleSource",l,i,a),[i,l]},vn=(e,r,t,a)=>{let n=e[r];n&&_({target:n,params:Array.isArray(n)?n.map(()=>t):t,defer:1,stack:a})};function it(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function Cr(e){var r,t;e.status="active",r=lt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function lt(e){return e.group.activeChilds[e.priority]}function Mo(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&Cr(r)}function Q(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(Cr(r),lt(r).first||it(r.group,r.priority)));var t,a,n,o;r.status==="active"&&(r.status="pending",lt(r).first||((n=r.group).queue[o=r.priority].last?(n.cursor[o].prev=n.queue[o].last,n.queue[o].last.cursor[o].next=n,n.queue[o].last=n):n.queue[o].first=n.queue[o].last=n),a=r,(t=lt(r)).last?(a.cursor.prev=t.last,t.last.cursor.next=a,t.last=a):t.first=t.last=a),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=is(r.group.queue.execQueue))}function hc(e){Be("execQueue");let r,t,a=Ae(),n=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(Ae()-a>=1e3){n=1;break e}let o=!!e.props.first;for(o&&Be("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(Ae()-a>=1e3){n=1,ue("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Cr(t)}it(r,"props")}o&&ue("props");let i=!!e.tree.first;for(i&&Be("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(Ae()-a>=1e3){n=1,ue("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Cr(t)}it(r,"tree")}i&&ue("tree");let l=!!e.data.first;for(l&&Be("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(Ae()-a>=1e3){n=1,ue("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Cr(t)}it(r,"data")}l&&ue("data")}if(ue("execQueue"),n)e.rafID=is(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function Ar({value:e,runOp:r,group:t,priority:a}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:a,group:t,cursor:{prev:null,next:null}}}function mc({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=hc.bind(null,r),r}function Mr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function yc({value:e,group:r,onInit:t,onChange:a}){let n=Ar({value:e,group:r,runOp(i){o.status="A",a(i)},priority:"data"}),o={status:"IA",value:n.value,ops:{init:Ar({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:n,terminate:Ar({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return Q(1,o.ops.init),o}function $c(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",Q(1,e.ops.terminate);break;case"AA":e.status="AT",Q(1,e.ops.terminate),Q(e.value.active,e.ops.change);break;case"IA":e.status="T",Q(0,e.ops.init)}}function bc(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",Q(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",Q(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function Sc(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function Ql(e,r){for(let t=0;t<r.length;t++){let{type:a,field:n,value:o}=r[t];Tc[a](e,n,o)}}function Dt(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function Jl(e,r,t){Dt(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function Zl(e,r,t){Dt(t)?delete e.style[r]:e.style[r]=`${t}`}function es(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function rs(e,r,t){Dt(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function ts(e,r,t){if(Dt(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function ia(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function vr({fn:e,state:r={},defer:t=0,name:a="",draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:p=0}){let g=k,c={id:++Pc,name:a,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:kc,upward:_o.filter({fn(v,u,s){if(!s.page){if(!s.parent||!s.parent.page)return 1;s.page=s.parent.page}if(!s.page.root.activeSpawns.has(s.page.fullID))return console.count("inactive page upward"),0;let y=[s.page.template],h=[s.page];{let d=s.page.parent;for(;d;)h.push(d),y.push(d.template),d=d.parent}return s.node.next.forEach(d=>{let m=d.meta.nativeTemplate;if(m)if(y.includes(m)){let $=h[y.indexOf(m)];_({target:d,params:v,defer:1,page:$,stack:s,scope:s.scope})}else console.error("context drift",{stack:s,node:d});else _({target:d,params:v,defer:1,page:s.page,stack:s,scope:s.scope})}),0}}),loader:_o.filter({fn(v,u,s){if(s.parent){let y=s.scope?s.scope.graphite.id:null;if(s.page){if(!s.page.root.activeSpawns.has(s.page.fullID))return console.count("inactive page loader"),0;if(s.page.template===c)return 1;if(s.page.root.childSpawns[s.page.fullID][c.id])s.page.root.childSpawns[s.page.fullID][c.id].forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&_({params:v,target:s.node,page:h,defer:1,scope:s.scope})});else{let h=s.page.fullID,d=s.page.template.name==="rec";c.pages.forEach(m=>{if(!y||m.root.scope&&y===m.root.scope.graphite.id)if(m.fullID===h||m.fullID.startsWith(`${h}_`)){let $=1;if(d){let b=s.page.template.id,S=m.parent;for(;S&&S!==s.page;){if(S.template.id===b){$=0;break}S=S.parent}}$&&_({params:v,target:s.node,page:m,defer:1,scope:s.scope})}else h.startsWith(`${m.fullID}_`)&&_({params:v,target:s.node,page:s.page,defer:1,scope:s.scope})})}}else c.pages.forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&_({params:v,target:s.node,page:h,defer:1,scope:s.scope})});return 0}return 1}}),parent:g,node:null,api:null,trigger:{mount:x({named:"mount"})},draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:p||!(!g||!g.isBlock)};g&&g.childTemplates.push(c);let f=ye({meta:{template:c}});return c.node=f,k=c,t?c.deferredInit=()=>{let v=k;k=c,c.deferredInit=null;try{ea(f,()=>{let u=ko(r);c.api=e(u,c.trigger),c.nameMap=u})}finally{k=v}}:ea(f,()=>{let v=ko(r);c.api=e(v,c.trigger),c.nameMap=v}),k=g,c}function Ic(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function ns(e,r,t){let a=r;for(;a&&!Lr(a,e);)a=a.parent;return a?Lr(a,e):t?(t.getState(e),t.reg[e.id]):e}function dn(e,r){Lr(r,e)||(r.reg[e.id]=ns(e,r.parent,r.root.scope))}function No(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function bt(e,{values:r={},parentLeaf:t,mountNode:a,svgRoot:n,leafData:o,opGroup:i,domSubtree:l,hydration:p,root:g}){function c(h){if(h.before)for(let d=0;d<h.before.length;d++){let m=h.before[d];switch(m.type){case"map":{let $,b=m.from;if(!m.fn&&!b)break;b&&(dn(b,u),$=v[b.id].current),v[h.id].current=m.fn?m.fn($):$;break}case"field":{let $=m.from;dn($,u),v[h.id].current[m.field]=v[$.id].current;break}case"closure":dn(m.of,u)}}}function f(h,d,m){let $;d.stop=1;try{for(;d.i<h.length;)$=h[d.i],d.i++,$.fn(m[$.of.id]?m[$.of.id].current:ns($.of,u.parent,u.root.scope).current)}catch(b){console.error(b),d.stop=0}}let v={},u={draft:e.draft,svgRoot:n,data:o,parent:t,hydration:p,mountNode:a,root:g,id:++Rc,fullID:"",reg:v,template:e};e.pages.push(u);let s=lr;lr=u,t&&No([u],e.id,g.childSpawns[t.fullID]),u.fullID=t?`${t.fullID}_${u.id}`:`${u.id}`,g.childSpawns[u.fullID]={},g.activeSpawns.add(u.fullID),g.leafOps[u.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let d=e.closure[h],m=d,$=u.parent;e:for(;$;){if(Lr($,d)){m=Lr($,d);break e}$=$.parent}!$&&g.scope&&(g.scope.getState(d),m=g.scope.reg[d.id]),v[d.id]=m}for(let h=0;h<e.plain.length;h++){let d=e.plain[h],m={id:d.id,current:Ic(d,g.scope)};v[d.id]=m}for(let h in r){let d=e.nameMap[h].stateRef.id;v[d]={id:d,current:r[h]}}e.closure.forEach(c),e.plain.forEach(c);let y={i:0,stop:0};for(;!y.stop;)f(e.watch,y,v);if(t)for(let h in g.childSpawns[u.fullID])No(g.childSpawns[u.fullID][h],h,g.childSpawns[t.fullID]);if(we)we.steps.push({target:e.trigger.mount,params:u,defer:1,page:u,scope:g.scope});else{let h;we={parent:we,steps:[{target:e.trigger.mount,params:u,defer:1,page:u,scope:g.scope}]};do for(;h=we.steps.shift();)we={parent:we,steps:[]},_(h);while(we=we.parent)}return lr=s,u}function St(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function It(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=It(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=It(r);if(t)return t;r=r.left}return null}default:return null}}function wt(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=It(r);if(t)return t;r=r.left}return wt(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let a=r.child[t];if(!a)continue;let n=It(a);if(n)return n}switch(r.type){case"element":case"using":return null}return wt(r)}default:return null}}function la(e){let r=wt(e);return r?r.value:null}function Nr(e,r){if(!e)throw Error(r)}function Gr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function xt(e){if(!k)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(k.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=k.draft.childCount,k.draft.childCount+=1,k.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${k.draft.type}`)}}function Oe(e,{parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o}){e.childTemplates.forEach(i=>{Da({parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o,actor:i})})}function Da({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:a,svgRoot:n,values:o}){let i;Nr(_c.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=a,{queue:p}=r.root.leafOps[r.fullID].group,g=Mr(p),c=r.root.leafOps[r.fullID].domSubtree,f=c;switch(l.type){case"route":{let u={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"route",block:u,ops:{},initialized:0,pendingInit:null};break}case"element":{let u;if(a.isBlock){let y,h,d=r;for(;d&&(!h||!y);){d.template.env&&(y=d.template.env);let{draft:m}=d;m.type==="element"&&(m.tag==="svg"?h="svg":m.tag==="foreignObject"&&(h="html")),d=d.parent}h||(h="html"),y&&(u=h==="svg"?y.document.createElementNS("http://www.w3.org/2000/svg",l.tag):y.document.createElement(l.tag),Ql(u,l.staticSeq))}else u=l.stencil.cloneNode();let s={type:"element",parent:e,child:[],value:u,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"element",block:s,ops:{visible:Ar({value:0,priority:"tree",runOp(y){if(y){as(s);let h=i;h.needToCallNode&&(h.needToCallNode=0,_({target:Et,params:{element:s.value,fns:l.node},page:v,scope:r.root.scope})),s.visible=1}else s.value.remove(),s.visible=0},group:c})},needToCallNode:l.node.length>0},f=Mr(p);break}case"list":{let u={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"list",draft:l,block:u,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let u={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec",block:u};break}case"recItem":{let u={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec item",block:u};break}case"block":{let u={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block",block:u};break}case"blockItem":{let u={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block item",block:u};break}default:console.warn(`unexpected draft type ${l.type}`)}let v=bt(a,{values:o,parentLeaf:r,mountNode:t,svgRoot:n||r.svgRoot,leafData:i,opGroup:g,domSubtree:f,hydration:r.hydration,root:r.root})}function as(e){let r=la(e);r?r.after(e.value):St(e).prepend(e.value),e.visible=1}function or({mount:e,state:r,onMount:t,onState:a}){return{onMount:P({source:r,clock:e,fn:t,greedy:1}),onState:P({source:e,clock:r,fn:a,greedy:1})}}function jr(e,r){for(let t in e)r(e[t],t)}function Lo(e,r){if(!k)return;let t=k.draft;Nr(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)Nr(B.unit(r[l]),`handler for "${l}" should be event`);let{passive:a=0,capture:n=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:a,capture:n},map:r})}function me(e){Gr(k,"spec");let r=k.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let n=e.text,o=r.childCount;Array.isArray(n)?(r.text.push(...n.map((i,l)=>({index:l+o,value:i}))),r.childCount+=n.length):(r.text.push({index:o,value:n}),r.childCount+=1)}if(e.style){let n={};for(let o in e.style)n[Sc(o)]=e.style[o];r.style.push(n)}var t,a;if(e.classList&&(t=e.classList,a=n=>r.classList.push(n),Array.isArray(t)?t.forEach(n=>{let o=typeof n=="string"?n:n.map(l=>l||""),i=typeof n=="string"?1:n.map(l=>l!==null);a({name:o,enabled:i})}):jr(t,(n,o)=>{a({name:o,enabled:n})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let n=e.handler;typeof n.on=="object"?Lo(n.config||{},n.on):Lo(n)}e.\u0254&&me(e.\u0254)}function pn(e,{initCtx:r,runOp:t,hooks:{onMount:a,onState:n}}){let o=e.opsAmount++;a.watch(({value:i,leaf:l})=>{let p=r(i,l),g=Ar({value:i,priority:"props",runOp(c){t(c,p)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=g}),n.watch(({value:i,leaf:l})=>{Q(i,l.root.leafOps[l.fullID].group.ops[o])})}function Xr(e,r,t){e[r].forEach(a=>{jr(a,(n,o)=>{switch(r){case"data":case"styleVar":t[r][o]=n;break;case"attr":t.attr[o==="xlink:href"?"href":o]=n;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=n:t.style[o]=n}})})}function Bo(e,r,t){let a=e.data.block,n={type:"text",parent:a,visible:0,index:t,value:null};if(a.child[t]=n,e.hydration){let o=wt(n);if(o)switch(o.type){case"text":n.value=e.root.env.document.createTextNode(r),o.value.after(n.value);break;case"element":n.value=o.value.nextSibling,ia(n.value,r)}else{let i=St(n);n.value=i.firstChild,ia(n.value,r)}n.visible=1}else n.value=e.root.env.document.createTextNode(r),as(n);return n}function br(e){let r=e.stateRef,t=k;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function E(e,r){let t,a=0,n=0;typeof r=="function"?(a=1,t=r):r&&(n=1,r.fn&&(a=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(a=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(a=1,t=r.\u0254.fn))),Gr(k,"h");let o,i=k.env,l=k.namespace,p=l,g="html";p=g=l==="svg"?"svg":"html",e==="svg"&&(g="svg",p="svg"),k.isBlock||(o=g==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let c=o,f={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:c,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(f.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),p="html"):e==="svg"?(f.attr.push({xmlns:"http://www.w3.org/2000/svg"}),p="svg"):e==="foreignObject"&&(p="foreignObject");let v=vr({name:"element",draft:f,isSvgRoot:e==="svg",namespace:p,fn(u,{mount:s}){let y=x({named:"domElementCreated"});a&&t(),n&&me(r),B.unit(f.visible)&&(f.seq.push({type:"visible",value:f.visible}),br(f.visible));let h={attr:{},data:{},style:{},styleVar:{}};Xr(f,"attr",h),Xr(f,"data",h),Xr(f,"style",h),Xr(f,"styleVar",h),jr(h,(d,m)=>{jr(d,($,b)=>{B.unit($)?(f.seq.push({type:m,field:b,value:$}),br($)):f.staticSeq.push({type:m,field:b,value:$})})}),f.classList.forEach(d=>{if(B.unit(d.name)||B.unit(d.enabled)){let m=B.unit(d.name)?d.name:T(d.name),$=B.unit(d.enabled)?d.enabled:T(d.enabled);f.seq.push({type:"classList",field:m,value:$}),br(m),br($)}else B.unit(d.name)||f.staticSeq.push({type:"classList",field:d.name,value:d.enabled})}),f.text.forEach(d=>{d.value!==null&&(B.unit(d.value)?(f.seq.push({type:"dynamicText",value:d.value,childIndex:d.index}),br(d.value)):f.seq.push({type:"staticText",value:String(d.value),childIndex:d.index}))}),f.handler.forEach(d=>{jr(d.map,(m,$)=>{f.seq.push({type:"handler",for:$,handler:m,options:d.options,domConfig:d.domConfig})})}),c&&Ql(c,f.staticSeq),f.seq.forEach(d=>{switch(d.type){case"visible":{let{onMount:m,onState:$}=or({mount:s,state:d.value,onMount:(b,S)=>({leaf:S,value:b,hydration:S.hydration}),onState:(b,S)=>({leaf:b,value:S,hydration:0})});m.watch(({leaf:b,value:S,hydration:I})=>{let w=b.data,O=w.block;if(I&&(Mo(S,w.ops.visible),S)){let j,L=la(O);if(j=L?L.nextSibling:St(O).firstChild,j.nodeName==="#text"){let be=j;j=j.nextSibling,be.remove()}O.value=j,O.visible=1}Oe(f,{parentBlockFragment:O,leaf:b,node:O.value,svgRoot:v.isSvgRoot?O.value:null}),S&&w.needToCallNode&&(w.needToCallNode=0,_({target:Et,params:{element:w.block.value,fns:f.node},page:b,defer:1,scope:b.root.scope})),_({target:y,params:b,defer:1,page:b,scope:b.root.scope})}),gt([$,m]).watch(({leaf:b,value:S,hydration:I})=>{I||Q(S,b.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let m=Ko[d.type],$=Cc.some(({type:S,field:I})=>d.type===S&&d.field===I),b=or({mount:y,state:d.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});$?gt([b.onState,b.onMount]).watch(({leaf:S,value:I})=>{m(Yr(S),d.field,I)}):pn(f,{initCtx(S,I){let w=Yr(I);return m(w,d.field,S),w},runOp(S,I){m(I,d.field,S)},hooks:b});break}case"classList":{let m=Ko.classList,$=T({prev:"",curr:d.field.getState()}).on(d.field,({curr:S},I)=>({prev:S,curr:I})),b=or({mount:y,state:ke({name:$,enabled:d.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});pn(f,{initCtx(S,I){let w=Yr(I);return m(w,S.name.curr,S.enabled),w},runOp(S,I){S.name.prev!==S.name.curr&&m(I,S.name.prev,0),m(I,S.name.curr,S.enabled)},hooks:b});break}case"dynamicText":pn(f,{initCtx:(m,$)=>Bo($,m,d.childIndex),runOp(m,$){ia($.value,m)},hooks:or({mount:y,state:d.value,onMount:(m,$)=>({leaf:$,value:String(m)}),onState:(m,$)=>({leaf:m,value:String($)})})});break;case"staticText":y.watch(m=>{Bo(m,d.value,d.childIndex)});break;case"handler":{let m=d.handler.graphite.meta.nativeTemplate||null;y.watch($=>{let b=null;if(m){let S=0,I=$;for(;!S&&I;)I.template===m?(S=1,b=I):I=I.parent}else b=null;Yr($).addEventListener(d.for,S=>{d.options.prevent&&S.preventDefault(),d.options.stop&&S.stopPropagation(),_({target:d.handler,params:S,page:b,scope:$.root.scope})},d.domConfig)});break}}}),s.watch(d=>{let m=d.data;if(!f.visible){let $=m.ops.visible,b=m.block;if(d.hydration){Mo(1,$);let S,I=la(b);if(S=I?I.nextSibling:St(b).firstChild,S.nodeName==="#text"){let w=S;S=S.nextSibling,w.remove()}b.value=S,b.visible=1}Oe(f,{parentBlockFragment:b,leaf:d,node:b.value,svgRoot:v.isSvgRoot?b.value:null}),_({target:y,params:d,defer:1,page:d,scope:d.root.scope}),d.hydration?m.needToCallNode&&(m.needToCallNode=0,_({target:Et,params:{element:m.block.value,fns:f.node},page:d,defer:1,scope:d.root.scope})):Q(1,$)}})},env:i});xt(v)}function qo(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function wc(e,r){let t,a,n,o,i,l;if(typeof r=="function")t=r,n=qo(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,n=r.env?r.env:qo(),o=r.hydrate,a=r.onComplete,i=r.onRoot,l=r.scope}Nr(e,"using() first argument is missing");let p={scope:l,env:n,activeSpawns:new Set,childSpawns:{},leafOps:{}},g=e.namespaceURI,c=e.tagName.toLowerCase(),f={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},v=vr({name:"using",draft:f,isSvgRoot:c==="svg",namespace:g==="http://www.w3.org/2000/svg"?"svg":c==="foreignobject"?"foreignObject":"html",fn(h,{mount:d}){t(),d.watch(La.using)},env:n}),u={type:"using",child:[],value:e},s=mc({onComplete:a}),y=bt(v,{parentLeaf:lr||null,mountNode:e,svgRoot:v.isSvgRoot?e:lr?lr.svgRoot:null,leafData:{type:"using",draft:f,element:e,block:u},opGroup:Mr(s),domSubtree:Mr(s),hydration:o,root:p});if(i&&i({template:v,leaf:y}),s.onDrain&&!s.rafID){let h=s.onDrain;s.onDrain=null,h()}}function sa(e,r){let t=e.root.childSpawns[e.fullID];for(let a in t){let n=t[a];for(let o=0;o<n.length;o++)r(n[o])}}function os(e,r){let t=a=>{let n=a.data;if(e&&n.type==="list"&&n.pendingUpdate){let o=n.pendingUpdate;n.pendingUpdate=null,_({target:a.template.api.pendingUpdate,params:o,defer:1,page:a,scope:a.root.scope})}if(e&&n.type==="route"){if(n.pendingInit){let o=n.pendingInit.value;n.pendingInit=null,_({target:a.template.api.pendingInit,params:o,defer:1,page:a,scope:a.root.scope})}else if(!n.block.visible)return}switch(n.type){case"element":Q(e,n.ops.visible);break;case"route":case"list":case"list item":sa(a,t);break;default:console.log("unsupported type",n.type)}};sa(r,t)}function gn(e){e.root.activeSpawns.delete(e.fullID),sa(e,Ma)}function hn(e){Fr(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Fr(e,e.template.pages)}function Ma(e){let{data:r,root:t}=e;switch(r.type){case"element":Fr(e,t.childSpawns[e.parent.fullID][e.template.id]),function a(n){t.activeSpawns.delete(n.fullID);let o=t.childSpawns[n.fullID];delete t.childSpawns[n.fullID],delete t.leafOps[n.fullID],Fr(n,n.template.pages);for(let i in o)o[i].forEach(a)}(e),Q(0,r.ops.visible);break;case"list":{let a=r.records;for(let n=0;n<a.length;n++){let o=a[n];o.instance&&Ma(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),hn(e);break}case"list item":{let a=r.block;Fr(a,a.parent.child);let n=a.left,o=a.right;n&&(n.right=o,o||a.parent.lastChild!==a||(a.parent.lastChild=n)),o&&(o.left=n),n||o||a.parent.lastChild!==a||(a.parent.lastChild=null),a.left=null,a.right=null,gn(e),hn(e);break}case"route":gn(e),hn(e);break;case"block":case"block item":case"rec":case"rec item":gn(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Fr(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function xc(e,r){if(Array.isArray(r))return r.map(t=>e.map(a=>a[t]));if(typeof r=="object"&&r!==null){let t={};for(let a in r){let n=r[a];t[a]=e.map(typeof n=="function"?o=>n(o):o=>o[n])}return t}return e.map(t=>t[r])}function Na(e,r){Gr(k,"list"),typeof r=="function"&&(B.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:a,source:n,fields:o=[]}=e,i=a!==void 0?typeof a=="function"?a:c=>c[a]:(c,f)=>f,l={type:"list",key:B.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:p,namespace:g}=k;xt(vr({name:"list",draft:l,isSvgRoot:0,namespace:g,fn(c,{mount:f}){let v=vr({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:g,fn({id:m,store:$},{mount:b}){t({store:$,key:m,fields:xc($,o)});let S=x({named:"itemUpdater"});if($.on(S,(I,w)=>w),l.itemVisible){let{onMount:I,onState:w}=or({mount:b,state:l.itemVisible,onMount:(O,j)=>({visible:O,leaf:j}),onState:(O,j)=>({visible:j,leaf:O})});I.watch(({visible:O,leaf:j})=>{let L=j.data.block;L.visible=O,L.childInitialized=O,O&&Oe(l,{parentBlockFragment:L,leaf:j})}),w.watch(({visible:O,leaf:j})=>{let L=j.data.block;L.visible=O,L.childInitialized?os(O,j):O&&(L.childInitialized=1,Oe(l,{parentBlockFragment:L,leaf:j}))})}else b.watch(La.listItem);return{itemUpdater:S}},env:p}),u=T([]),s=n.map(m=>m),y=P({source:n,clock:f,fn:(m,$)=>({updates:m,leaf:$,hydration:$.hydration}),greedy:1}),h=x(),d=P({source:y,clock:[s,h],fn:({leaf:m},$)=>({updates:$,leaf:m,hydration:0}),greedy:1});return P({source:u,clock:[y,d],greedy:1,fn(m,{updates:$,leaf:b,hydration:S}){let I=b.data,w=b;for(;w;){if(w.data.type==="route"&&!w.data.block.visible)return void(I.pendingUpdate=$);w=w.parent}let O=I.block;Be("list update ["+n.shortName+"]");let j=Array($.length).fill(0),L=$.map(i),be=[];for(let Se=0;Se<m.length;Se++){let le=m[Se],Pe=L.indexOf(le.key);Pe!==-1?(be.push(le),j[Pe]=1,bc($[Pe],le.asyncValue)):(le.active=0,le.instance&&Ma(le.instance),$c(le.asyncValue))}for(let Se=0;Se<$.length;Se++){if(j[Se])continue;let le=$[Se],Pe=L[Se],an=Mr(b.root.leafOps[b.fullID].group.queue),Re={type:"LF",parent:O,child:[],childInitialized:0,visible:0,left:null,right:null},se={type:"listItem",key:Pe,index:Pe,active:1,leafData:{type:"list item",block:Re,listDraft:l},asyncValue:yc({value:le,group:an,onChange(Me){se.instance&&_({target:se.instance.template.api.itemUpdater,params:Me,defer:1,page:se.instance,scope:se.instance.root.scope})},onInit(Me){se.active&&(S||(se.instance=bt(v,{values:{id:Pe,store:Me},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:se.leafData,opGroup:an,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root})))}})},Eo=be.length;be.push(se);let To=Eo>0?be[Eo-1].leafData:null;if(O.child.push(Re),To){let Me=To.block;Re.left=Me;let on=Me.right;on?(on.left=Re,Re.right=on):O.lastChild=Re,Me.right=Re}else O.lastChild=Re;S&&(se.instance=bt(v,{values:{id:Pe,store:le},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:se.leafData,opGroup:an,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root}))}return ue("list update ["+n.shortName+"]"),be.length===0&&(O.lastChild=null),I.records=be,be},target:u}),{pendingUpdate:h}},env:p}))}function Go({source:e,visible:r,fn:t}){Gr(k,"route");let{env:a,namespace:n}=k,o=vr({name:"route",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let p;if(B.store(r))p=ke({value:e,visible:r});else{let s=r;p=e.map(y=>({value:y,visible:s(y)}))}let g=vr({name:"route item",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:s},{mount:y}){let h=x({named:"itemUpdater"});s.on(h,(m,$)=>$),t({store:s});let d=P({source:y,clock:p,fn:(m,{visible:$,value:b})=>({leaf:m,visible:$,value:b}),greedy:1});y.watch(La.routeItem),d.watch(({leaf:m,visible:$,value:b})=>{if(m.data.block.visible=$,$&&_({target:h,params:b,defer:1,page:m,scope:m.root.scope}),$){let S=m.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}os($,m)})}});xt(g);let{onMount:c,onState:f}=or({mount:l,state:p,onMount:({visible:s,value:y},h)=>({leaf:h,visible:s,value:y}),onState:(s,{visible:y,value:h})=>({leaf:s,visible:y,value:h})}),v=x(),u=P({source:l,clock:v,greedy:1,fn:(s,y)=>({leaf:s,value:y,visible:1})});return gt([c,f,u]).watch(({leaf:s,visible:y,value:h})=>{let d=s.data;if(d.block.visible=y,y||d.initialized||!d.pendingInit){if(y&&!d.initialized){let m=s.parent;for(;m;){if(m.data.type==="route"&&!m.data.block.visible)return void(d.pendingInit={value:h});m=m.parent}}y&&!d.initialized&&(Da({parentBlockFragment:d.block,leaf:s,actor:g,values:{store:h}}),d.initialized=1)}else d.pendingInit=null}),{pendingInit:v}}});xt(o)}function Oc({source:e,cases:r,key:t}){let a;Gr(k,"variant"),Nr(B.unit(e),"variant({source}) should be unit"),a=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let n=0;for(let o in r)o!=="__"?Go({source:e,visible:i=>a(i)===o,fn:r[o]}):n=1;if(n){let o=Object.keys(r);Go({source:e,visible:i=>!o.includes(a(i)),fn:r.__})}}function Ec(e,r){if(r.length===0)return e;let t=[e[0]];for(let a=0;a<r.length;a++)t.push(r[a],e[a+1]);return t}function Ot(e,...r){Array.isArray(e)?me({text:Ec(e,r)}):me({text:e})}let Ae;Ae=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let ua=new Map;const kr=[],Uo=e=>{let r=ua.get(e);r||(r={calls:0,time:0,label:e,childTime:0},ua.set(e,r)),r.calls+=1,kr.push({bucket:r,pendingStart:Ae()})},zo=e=>{let r=ua.get(e),t=kr.pop().pendingStart,a=Ae()-t;r.time+=a,kr.length>0&&(kr[kr.length-1].bucket.childTime+=a)};let Be,ue;typeof performance<"u"&&performance.mark?(Be=e=>{performance.mark("\u2604\uFE0F "+e+" start"),Uo(e)},ue=e=>{zo(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(Be=e=>{Uo(e)},ue=e=>{zo(e)});let is=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const Tc={attr:ts,data:rs,style:Zl,styleVar:Jl,classList:es},Ie=(e,r)=>e.includes(r);let kc={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,a){var n,o;t.unshift(e.loader),t.push(e.upward),a&&(Ie(e.plain,a)||(Ie(e.closure,a)||e.closure.push(a),o={type:"closure",of:a},(n=r).before||(n.before=[]),n.before.push(o)))},storeMap(e,r,t){Ie(e.plain,r)||Ie(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){Ie(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){Ie(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,a){r.current?Ie(e.plain,t)||Ie(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),Ie(e.plain,a)||e.plain.push(a)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},Pc=0,Rc=0,k=null,lr=null;const Lr=(e,r)=>e.reg[r.id];let we=null;const _c=["LF","using","element","recItem","rec","block","blockItem","route"];let Et=x({named:"onMount"});Et.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const Cc=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],Ko={attr:ts,data:rs,style:Zl,styleVar:Jl,classList:es},Yr=e=>e.data.block.value;let La={using(e){let r=e.data;Oe(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,Oe(r,{parentBlockFragment:t.block,leaf:e})},block(e){Oe(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){Da({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){Oe(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,Oe(r.listDraft,{parentBlockFragment:t,leaf:e})}};function ce(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Tt(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function dr(e,r){return jc(e)||Dc(e,r)||ss(e,r)||Nc()}function ls(e){return Ac(e)||Fc(e)||ss(e)||Mc()}function Ac(e){if(Array.isArray(e))return ca(e)}function jc(e){if(Array.isArray(e))return e}function Fc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dc(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],n=!0,o=!1,i,l;try{for(t=t.call(e);!(n=(i=t.next()).done)&&(a.push(i.value),!(r&&a.length===r));n=!0);}catch(p){o=!0,l=p}finally{try{!n&&t.return!=null&&t.return()}finally{if(o)throw l}}return a}}function ss(e,r){if(!!e){if(typeof e=="string")return ca(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ca(e,r)}}function ca(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Mc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr=function(e){return e&&e.Math==Math&&e},N=Qr(typeof globalThis=="object"&&globalThis)||Qr(typeof window=="object"&&window)||Qr(typeof self=="object"&&self)||Qr(typeof Vo=="object"&&Vo)||function(){return this}()||Function("return this")(),Ba={},C=function(e){try{return!!e()}catch{return!0}},Lc=C,W=!Lc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Bc=C,Mt=!Bc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),qc=Mt,Jr=Function.prototype.call,ee=qc?Jr.bind(Jr):function(){return Jr.apply(Jr,arguments)},qa={},us={}.propertyIsEnumerable,cs=Object.getOwnPropertyDescriptor,Gc=cs&&!us.call({1:2},1);qa.f=Gc?function(r){var t=cs(this,r);return!!t&&t.enumerable}:us;var Nt=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},fs=Mt,vs=Function.prototype,Uc=vs.bind,fa=vs.call,zc=fs&&Uc.bind(fa,fa),R=fs?function(e){return e&&zc(e)}:function(e){return e&&function(){return fa.apply(e,arguments)}},ds=R,Kc=ds({}.toString),Vc=ds("".slice),We=function(e){return Vc(Kc(e),8,-1)},Hc=R,Wc=C,Xc=We,mn=Object,Yc=Hc("".split),ps=Wc(function(){return!mn("z").propertyIsEnumerable(0)})?function(e){return Xc(e)=="String"?Yc(e,""):mn(e)}:mn,Qc=TypeError,Xe=function(e){if(e==null)throw Qc("Can't call method on "+e);return e},Jc=ps,Zc=Xe,Ye=function(e){return Jc(Zc(e))},F=function(e){return typeof e=="function"},ef=F,re=function(e){return typeof e=="object"?e!==null:ef(e)},yn=N,rf=F,tf=function(e){return rf(e)?e:void 0},hr=function(e,r){return arguments.length<2?tf(yn[e]):yn[e]&&yn[e][r]},nf=R,Ga=nf({}.isPrototypeOf),af=hr,of=af("navigator","userAgent")||"",gs=N,$n=of,Ho=gs.process,Wo=gs.Deno,Xo=Ho&&Ho.versions||Wo&&Wo.version,Yo=Xo&&Xo.v8,ne,kt;Yo&&(ne=Yo.split("."),kt=ne[0]>0&&ne[0]<4?1:+(ne[0]+ne[1]));!kt&&$n&&(ne=$n.match(/Edge\/(\d+)/),(!ne||ne[1]>=74)&&(ne=$n.match(/Chrome\/(\d+)/),ne&&(kt=+ne[1])));var Ua=kt,Qo=Ua,lf=C,hs=!!Object.getOwnPropertySymbols&&!lf(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Qo&&Qo<41}),sf=hs,ms=sf&&!Symbol.sham&&typeof Symbol.iterator=="symbol",uf=hr,cf=F,ff=Ga,vf=ms,df=Object,ys=vf?function(e){return typeof e=="symbol"}:function(e){var r=uf("Symbol");return cf(r)&&ff(r.prototype,df(e))},pf=String,Lt=function(e){try{return pf(e)}catch{return"Object"}},gf=F,hf=Lt,mf=TypeError,za=function(e){if(gf(e))return e;throw mf(hf(e)+" is not a function")},yf=za,mr=function(e,r){var t=e[r];return t==null?void 0:yf(t)},bn=ee,Sn=F,In=re,$f=TypeError,bf=function(e,r){var t,a;if(r==="string"&&Sn(t=e.toString)&&!In(a=bn(t,e))||Sn(t=e.valueOf)&&!In(a=bn(t,e))||r!=="string"&&Sn(t=e.toString)&&!In(a=bn(t,e)))return a;throw $f("Can't convert object to primitive value")},Bt={exports:{}},Jo=N,Sf=Object.defineProperty,Ka=function(e,r){try{Sf(Jo,e,{value:r,configurable:!0,writable:!0})}catch{Jo[e]=r}return r},If=N,wf=Ka,Zo="__core-js_shared__",xf=If[Zo]||wf(Zo,{}),Va=xf,ei=Va;(Bt.exports=function(e,r){return ei[e]||(ei[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Of=Xe,Ef=Object,Ur=function(e){return Ef(Of(e))},Tf=R,kf=Ur,Pf=Tf({}.hasOwnProperty),$e=Object.hasOwn||function(r,t){return Pf(kf(r),t)},Rf=R,_f=0,Cf=Math.random(),Af=Rf(1 .toString),Ha=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Af(++_f+Cf,36)},jf=N,Ff=Bt.exports,ri=$e,Df=Ha,ti=hs,$s=ms,Je=Ff("wks"),Ue=jf.Symbol,ni=Ue&&Ue.for,Mf=$s?Ue:Ue&&Ue.withoutSetter||Df,D=function(e){if(!ri(Je,e)||!(ti||typeof Je[e]=="string")){var r="Symbol."+e;ti&&ri(Ue,e)?Je[e]=Ue[e]:$s&&ni?Je[e]=ni(r):Je[e]=Mf(r)}return Je[e]},Nf=ee,ai=re,oi=ys,Lf=mr,Bf=bf,qf=D,Gf=TypeError,Uf=qf("toPrimitive"),zf=function(e,r){if(!ai(e)||oi(e))return e;var t=Lf(e,Uf),a;if(t){if(r===void 0&&(r="default"),a=Nf(t,e,r),!ai(a)||oi(a))return a;throw Gf("Can't convert object to primitive value")}return r===void 0&&(r="number"),Bf(e,r)},Kf=zf,Vf=ys,Wa=function(e){var r=Kf(e,"string");return Vf(r)?r:r+""},Hf=N,ii=re,va=Hf.document,Wf=ii(va)&&ii(va.createElement),Xa=function(e){return Wf?va.createElement(e):{}},Xf=W,Yf=C,Qf=Xa,bs=!Xf&&!Yf(function(){return Object.defineProperty(Qf("div"),"a",{get:function(){return 7}}).a!=7}),Jf=W,Zf=ee,ev=qa,rv=Nt,tv=Ye,nv=Wa,av=$e,ov=bs,li=Object.getOwnPropertyDescriptor;Ba.f=Jf?li:function(r,t){if(r=tv(r),t=nv(t),ov)try{return li(r,t)}catch{}if(av(r,t))return rv(!Zf(ev.f,r,t),r[t])};var X={},iv=W,lv=C,Ss=iv&&lv(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),sv=re,uv=String,cv=TypeError,G=function(e){if(sv(e))return e;throw cv(uv(e)+" is not an object")},fv=W,vv=bs,dv=Ss,Zr=G,si=Wa,pv=TypeError,wn=Object.defineProperty,gv=Object.getOwnPropertyDescriptor,xn="enumerable",On="configurable",En="writable";X.f=fv?dv?function(r,t,a){if(Zr(r),t=si(t),Zr(a),typeof r=="function"&&t==="prototype"&&"value"in a&&En in a&&!a[En]){var n=gv(r,t);n&&n[En]&&(r[t]=a.value,a={configurable:On in a?a[On]:n[On],enumerable:xn in a?a[xn]:n[xn],writable:!1})}return wn(r,t,a)}:wn:function(r,t,a){if(Zr(r),t=si(t),Zr(a),vv)try{return wn(r,t,a)}catch{}if("get"in a||"set"in a)throw pv("Accessors not supported");return"value"in a&&(r[t]=a.value),r};var hv=W,mv=X,yv=Nt,yr=hv?function(e,r,t){return mv.f(e,r,yv(1,t))}:function(e,r,t){return e[r]=t,e},Is={exports:{}},da=W,$v=$e,ws=Function.prototype,bv=da&&Object.getOwnPropertyDescriptor,Ya=$v(ws,"name"),Sv=Ya&&function(){}.name==="something",Iv=Ya&&(!da||da&&bv(ws,"name").configurable),qt={EXISTS:Ya,PROPER:Sv,CONFIGURABLE:Iv},wv=R,xv=F,pa=Va,Ov=wv(Function.toString);xv(pa.inspectSource)||(pa.inspectSource=function(e){return Ov(e)});var Qa=pa.inspectSource,Ev=N,Tv=F,kv=Qa,ui=Ev.WeakMap,Pv=Tv(ui)&&/native code/.test(kv(ui)),Rv=Bt.exports,_v=Ha,ci=Rv("keys"),Ja=function(e){return ci[e]||(ci[e]=_v(e))},Gt={},Cv=Pv,xs=N,Tn=R,Av=re,jv=yr,kn=$e,Pn=Va,Fv=Ja,Dv=Gt,fi="Object already initialized",ga=xs.TypeError,Mv=xs.WeakMap,Pt,Br,Rt,Nv=function(e){return Rt(e)?Br(e):Pt(e,{})},Lv=function(e){return function(r){var t;if(!Av(r)||(t=Br(r)).type!==e)throw ga("Incompatible receiver, "+e+" required");return t}};if(Cv||Pn.state){var Le=Pn.state||(Pn.state=new Mv),Bv=Tn(Le.get),vi=Tn(Le.has),qv=Tn(Le.set);Pt=function(e,r){if(vi(Le,e))throw new ga(fi);return r.facade=e,qv(Le,e,r),r},Br=function(e){return Bv(Le,e)||{}},Rt=function(e){return vi(Le,e)}}else{var Ze=Fv("state");Dv[Ze]=!0,Pt=function(e,r){if(kn(e,Ze))throw new ga(fi);return r.facade=e,jv(e,Ze,r),r},Br=function(e){return kn(e,Ze)?e[Ze]:{}},Rt=function(e){return kn(e,Ze)}}var zr={set:Pt,get:Br,has:Rt,enforce:Nv,getterFor:Lv},Gv=C,Uv=F,et=$e,ha=W,zv=qt.CONFIGURABLE,Kv=Qa,Os=zr,Vv=Os.enforce,Hv=Os.get,st=Object.defineProperty,Wv=ha&&!Gv(function(){return st(function(){},"length",{value:8}).length!==8}),Xv=String(String).split("String"),Yv=Is.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!et(e,"name")||zv&&e.name!==r)&&(ha?st(e,"name",{value:r,configurable:!0}):e.name=r),Wv&&t&&et(t,"arity")&&e.length!==t.arity&&st(e,"length",{value:t.arity});try{t&&et(t,"constructor")&&t.constructor?ha&&st(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=Vv(e);return et(a,"source")||(a.source=Xv.join(typeof r=="string"?r:"")),e};Function.prototype.toString=Yv(function(){return Uv(this)&&Hv(this).source||Kv(this)},"toString");var Qv=F,Jv=X,Zv=Is.exports,ed=Ka,De=function(e,r,t,a){a||(a={});var n=a.enumerable,o=a.name!==void 0?a.name:r;if(Qv(t)&&Zv(t,o,a),a.global)n?e[r]=t:ed(r,t);else{try{a.unsafe?e[r]&&(n=!0):delete e[r]}catch{}n?e[r]=t:Jv.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e},Ut={},rd=Math.ceil,td=Math.floor,nd=Math.trunc||function(r){var t=+r;return(t>0?td:rd)(t)},ad=nd,zt=function(e){var r=+e;return r!==r||r===0?0:ad(r)},od=zt,id=Math.max,ld=Math.min,Es=function(e,r){var t=od(e);return t<0?id(t+r,0):ld(t,r)},sd=zt,ud=Math.min,Kt=function(e){return e>0?ud(sd(e),9007199254740991):0},cd=Kt,Kr=function(e){return cd(e.length)},fd=Ye,vd=Es,dd=Kr,di=function(e){return function(r,t,a){var n=fd(r),o=dd(n),i=vd(a,o),l;if(e&&t!=t){for(;o>i;)if(l=n[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in n)&&n[i]===t)return e||i||0;return!e&&-1}},pd={includes:di(!0),indexOf:di(!1)},gd=R,Rn=$e,hd=Ye,md=pd.indexOf,yd=Gt,pi=gd([].push),Ts=function(e,r){var t=hd(e),a=0,n=[],o;for(o in t)!Rn(yd,o)&&Rn(t,o)&&pi(n,o);for(;r.length>a;)Rn(t,o=r[a++])&&(~md(n,o)||pi(n,o));return n},Za=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$d=Ts,bd=Za,Sd=bd.concat("length","prototype");Ut.f=Object.getOwnPropertyNames||function(r){return $d(r,Sd)};var ks={};ks.f=Object.getOwnPropertySymbols;var Id=hr,wd=R,xd=Ut,Od=ks,Ed=G,Td=wd([].concat),kd=Id("Reflect","ownKeys")||function(r){var t=xd.f(Ed(r)),a=Od.f;return a?Td(t,a(r)):t},gi=$e,Pd=kd,Rd=Ba,_d=X,Cd=function(e,r,t){for(var a=Pd(r),n=_d.f,o=Rd.f,i=0;i<a.length;i++){var l=a[i];!gi(e,l)&&!(t&&gi(t,l))&&n(e,l,o(r,l))}},Ad=C,jd=F,Fd=/#|\.prototype\./,Vr=function(e,r){var t=Md[Dd(e)];return t==Ld?!0:t==Nd?!1:jd(r)?Ad(r):!!r},Dd=Vr.normalize=function(e){return String(e).replace(Fd,".").toLowerCase()},Md=Vr.data={},Nd=Vr.NATIVE="N",Ld=Vr.POLYFILL="P",Ps=Vr,_n=N,Bd=Ba.f,qd=yr,Gd=De,Ud=Ka,zd=Cd,Kd=Ps,te=function(e,r){var t=e.target,a=e.global,n=e.stat,o,i,l,p,g,c;if(a?i=_n:n?i=_n[t]||Ud(t,{}):i=(_n[t]||{}).prototype,i)for(l in r){if(g=r[l],e.dontCallGetSet?(c=Bd(i,l),p=c&&c.value):p=i[l],o=Kd(a?l:t+(n?".":"#")+l,e.forced),!o&&p!==void 0){if(typeof g==typeof p)continue;zd(g,p)}(e.sham||p&&p.sham)&&qd(g,"sham",!0),Gd(i,l,g,e)}},hi=R,Vd=za,Hd=Mt,Wd=hi(hi.bind),eo=function(e,r){return Vd(e),r===void 0?e:Hd?Wd(e,r):function(){return e.apply(r,arguments)}},Xd=We,Rs=Array.isArray||function(r){return Xd(r)=="Array"},Yd=D,Qd=Yd("toStringTag"),_s={};_s[Qd]="z";var ro=String(_s)==="[object z]",Jd=ro,Zd=F,ut=We,ep=D,rp=ep("toStringTag"),tp=Object,np=ut(function(){return arguments}())=="Arguments",ap=function(e,r){try{return e[r]}catch{}},Vt=Jd?ut:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=ap(r=tp(e),rp))=="string"?t:np?ut(r):(a=ut(r))=="Object"&&Zd(r.callee)?"Arguments":a},op=R,ip=C,Cs=F,lp=Vt,sp=hr,up=Qa,As=function(){},cp=[],js=sp("Reflect","construct"),to=/^\s*(?:class|function)\b/,fp=op(to.exec),vp=!to.exec(As),Sr=function(r){if(!Cs(r))return!1;try{return js(As,cp,r),!0}catch{return!1}},Fs=function(r){if(!Cs(r))return!1;switch(lp(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return vp||!!fp(to,up(r))}catch{return!0}};Fs.sham=!0;var Ds=!js||ip(function(){var e;return Sr(Sr.call)||!Sr(Object)||!Sr(function(){e=!0})||e})?Fs:Sr,mi=Rs,dp=Ds,pp=re,gp=D,hp=gp("species"),yi=Array,mp=function(e){var r;return mi(e)&&(r=e.constructor,dp(r)&&(r===yi||mi(r.prototype))?r=void 0:pp(r)&&(r=r[hp],r===null&&(r=void 0))),r===void 0?yi:r},yp=mp,Ms=function(e,r){return new(yp(e))(r===0?0:r)},$p=eo,bp=R,Sp=ps,Ip=Ur,wp=Kr,xp=Ms,$i=bp([].push),_e=function(e){var r=e==1,t=e==2,a=e==3,n=e==4,o=e==6,i=e==7,l=e==5||o;return function(p,g,c,f){for(var v=Ip(p),u=Sp(v),s=$p(g,c),y=wp(u),h=0,d=f||xp,m=r?d(p,y):t||i?d(p,0):void 0,$,b;y>h;h++)if((l||h in u)&&($=u[h],b=s($,h,v),e))if(r)m[h]=b;else if(b)switch(e){case 3:return!0;case 5:return $;case 6:return h;case 2:$i(m,$)}else switch(e){case 4:return!1;case 7:$i(m,$)}return o?-1:a||n?n:m}},Ht={forEach:_e(0),map:_e(1),filter:_e(2),some:_e(3),every:_e(4),find:_e(5),findIndex:_e(6),filterReject:_e(7)},Op=C,Ep=D,Tp=Ua,kp=Ep("species"),no=function(e){return Tp>=51||!Op(function(){var r=[],t=r.constructor={};return t[kp]=function(){return{foo:1}},r[e](Boolean).foo!==1})},Pp=te,Rp=Ht.map,_p=no,Cp=_p("map");Pp({target:"Array",proto:!0,forced:!Cp},{map:function(r){return Rp(this,r,arguments.length>1?arguments[1]:void 0)}});var Ns={},Ap=Ts,jp=Za,Ls=Object.keys||function(r){return Ap(r,jp)},Fp=W,Dp=Ss,Mp=X,Np=G,Lp=Ye,Bp=Ls;Ns.f=Fp&&!Dp?Object.defineProperties:function(r,t){Np(r);for(var a=Lp(t),n=Bp(t),o=n.length,i=0,l;o>i;)Mp.f(r,l=n[i++],a[l]);return r};var qp=hr,Gp=qp("document","documentElement"),Up=G,zp=Ns,bi=Za,Kp=Gt,Vp=Gp,Hp=Xa,Wp=Ja,Si=">",Ii="<",ma="prototype",ya="script",Bs=Wp("IE_PROTO"),Cn=function(){},qs=function(e){return Ii+ya+Si+e+Ii+"/"+ya+Si},wi=function(e){e.write(qs("")),e.close();var r=e.parentWindow.Object;return e=null,r},Xp=function(){var e=Hp("iframe"),r="java"+ya+":",t;return e.style.display="none",Vp.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(qs("document.F=Object")),t.close(),t.F},rt,ct=function(){try{rt=new ActiveXObject("htmlfile")}catch{}ct=typeof document<"u"?document.domain&&rt?wi(rt):Xp():wi(rt);for(var e=bi.length;e--;)delete ct[ma][bi[e]];return ct()};Kp[Bs]=!0;var Wt=Object.create||function(r,t){var a;return r!==null?(Cn[ma]=Up(r),a=new Cn,Cn[ma]=null,a[Bs]=r):a=ct(),t===void 0?a:zp.f(a,t)},Yp=D,Qp=Wt,Jp=X.f,$a=Yp("unscopables"),ba=Array.prototype;ba[$a]==null&&Jp(ba,$a,{configurable:!0,value:Qp(null)});var Gs=function(e){ba[$a][e]=!0},Hr={},Zp=C,eg=!Zp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),rg=$e,tg=F,ng=Ur,ag=Ja,og=eg,xi=ag("IE_PROTO"),Sa=Object,ig=Sa.prototype,Us=og?Sa.getPrototypeOf:function(e){var r=ng(e);if(rg(r,xi))return r[xi];var t=r.constructor;return tg(t)&&r instanceof t?t.prototype:r instanceof Sa?ig:null},lg=C,sg=F,Oi=Us,ug=De,cg=D,Ia=cg("iterator"),zs=!1,He,An,jn;[].keys&&(jn=[].keys(),"next"in jn?(An=Oi(Oi(jn)),An!==Object.prototype&&(He=An)):zs=!0);var fg=He==null||lg(function(){var e={};return He[Ia].call(e)!==e});fg&&(He={});sg(He[Ia])||ug(He,Ia,function(){return this});var Ks={IteratorPrototype:He,BUGGY_SAFARI_ITERATORS:zs},vg=X.f,dg=$e,pg=D,Ei=pg("toStringTag"),ao=function(e,r,t){e&&!t&&(e=e.prototype),e&&!dg(e,Ei)&&vg(e,Ei,{configurable:!0,value:r})},gg=Ks.IteratorPrototype,hg=Wt,mg=Nt,yg=ao,$g=Hr,bg=function(){return this},Sg=function(e,r,t,a){var n=r+" Iterator";return e.prototype=hg(gg,{next:mg(+!a,t)}),yg(e,n,!1),$g[n]=bg,e},Ig=F,wg=String,xg=TypeError,Og=function(e){if(typeof e=="object"||Ig(e))return e;throw xg("Can't set "+wg(e)+" as a prototype")},Eg=R,Tg=G,kg=Og,Vs=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=Eg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(n,o){return Tg(n),kg(o),e?t(n,o):n.__proto__=o,n}}():void 0),Pg=te,Rg=ee,Hs=qt,_g=F,Cg=Sg,Ti=Us,ki=Vs,Ag=ao,jg=yr,Fn=De,Fg=D,Dg=Hr,Ws=Ks,Mg=Hs.PROPER,Ng=Hs.CONFIGURABLE,Pi=Ws.IteratorPrototype,tt=Ws.BUGGY_SAFARI_ITERATORS,Ir=Fg("iterator"),Ri="keys",wr="values",_i="entries",Lg=function(){return this},oo=function(e,r,t,a,n,o,i){Cg(t,r,a);var l=function(d){if(d===n&&v)return v;if(!tt&&d in c)return c[d];switch(d){case Ri:return function(){return new t(this,d)};case wr:return function(){return new t(this,d)};case _i:return function(){return new t(this,d)}}return function(){return new t(this)}},p=r+" Iterator",g=!1,c=e.prototype,f=c[Ir]||c["@@iterator"]||n&&c[n],v=!tt&&f||l(n),u=r=="Array"&&c.entries||f,s,y,h;if(u&&(s=Ti(u.call(new e)),s!==Object.prototype&&s.next&&(Ti(s)!==Pi&&(ki?ki(s,Pi):_g(s[Ir])||Fn(s,Ir,Lg)),Ag(s,p,!0))),Mg&&n==wr&&f&&f.name!==wr&&(Ng?jg(c,"name",wr):(g=!0,v=function(){return Rg(f,this)})),n)if(y={values:l(wr),keys:o?v:l(Ri),entries:l(_i)},i)for(h in y)(tt||g||!(h in c))&&Fn(c,h,y[h]);else Pg({target:r,proto:!0,forced:tt||g},y);return c[Ir]!==v&&Fn(c,Ir,v,{name:n}),Dg[r]=v,y},Bg=Ye,io=Gs,Ci=Hr,Xs=zr,qg=X.f,Gg=oo,Ug=W,Ys="Array Iterator",zg=Xs.set,Kg=Xs.getterFor(Ys),Vg=Gg(Array,"Array",function(e,r){zg(this,{type:Ys,target:Bg(e),index:0,kind:r})},function(){var e=Kg(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:a,done:!1}:t=="values"?{value:r[a],done:!1}:{value:[a,r[a]],done:!1}},"values"),Ai=Ci.Arguments=Ci.Array;io("keys");io("values");io("entries");if(Ug&&Ai.name!=="values")try{qg(Ai,"name",{value:"values"})}catch{}var lo={exports:{}},Qs={},Hg=Wa,Wg=X,Xg=Nt,Js=function(e,r,t){var a=Hg(r);a in e?Wg.f(e,a,Xg(0,t)):e[a]=t},ji=Es,Yg=Kr,Qg=Js,Jg=Array,Zg=Math.max,Zs=function(e,r,t){for(var a=Yg(e),n=ji(r,a),o=ji(t===void 0?a:t,a),i=Jg(Zg(o-n,0)),l=0;n<o;n++,l++)Qg(i,l,e[n]);return i.length=l,i},eh=We,rh=Ye,eu=Ut.f,th=Zs,ru=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nh=function(e){try{return eu(e)}catch{return th(ru)}};Qs.f=function(r){return ru&&eh(r)=="Window"?nh(r):eu(rh(r))};var ah=C,oh=ah(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),ih=C,lh=re,sh=We,Fi=oh,ft=Object.isExtensible,uh=ih(function(){ft(1)}),ch=uh||Fi?function(r){return!lh(r)||Fi&&sh(r)=="ArrayBuffer"?!1:ft?ft(r):!0}:ft,fh=C,vh=!fh(function(){return Object.isExtensible(Object.preventExtensions({}))}),dh=te,ph=R,gh=Gt,hh=re,so=$e,mh=X.f,Di=Ut,yh=Qs,uo=ch,$h=Ha,bh=vh,tu=!1,Te=$h("meta"),Sh=0,co=function(e){mh(e,Te,{value:{objectID:"O"+Sh++,weakData:{}}})},Ih=function(e,r){if(!hh(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!so(e,Te)){if(!uo(e))return"F";if(!r)return"E";co(e)}return e[Te].objectID},wh=function(e,r){if(!so(e,Te)){if(!uo(e))return!0;if(!r)return!1;co(e)}return e[Te].weakData},xh=function(e){return bh&&tu&&uo(e)&&!so(e,Te)&&co(e),e},Oh=function(){Eh.enable=function(){},tu=!0;var e=Di.f,r=ph([].splice),t={};t[Te]=1,e(t).length&&(Di.f=function(a){for(var n=e(a),o=0,i=n.length;o<i;o++)if(n[o]===Te){r(n,o,1);break}return n},dh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:yh.f}))},Eh=lo.exports={enable:Oh,fastKey:Ih,getWeakData:wh,onFreeze:xh};gh[Te]=!0;var Th=D,kh=Hr,Ph=Th("iterator"),Rh=Array.prototype,_h=function(e){return e!==void 0&&(kh.Array===e||Rh[Ph]===e)},Ch=Vt,Mi=mr,Ah=Hr,jh=D,Fh=jh("iterator"),nu=function(e){if(e!=null)return Mi(e,Fh)||Mi(e,"@@iterator")||Ah[Ch(e)]},Dh=ee,Mh=za,Nh=G,Lh=Lt,Bh=nu,qh=TypeError,Gh=function(e,r){var t=arguments.length<2?Bh(e):r;if(Mh(t))return Nh(Dh(t,e));throw qh(Lh(e)+" is not iterable")},Uh=ee,Ni=G,zh=mr,Kh=function(e,r,t){var a,n;Ni(e);try{if(a=zh(e,"return"),!a){if(r==="throw")throw t;return t}a=Uh(a,e)}catch(o){n=!0,a=o}if(r==="throw")throw t;if(n)throw a;return Ni(a),t},Vh=eo,Hh=ee,Wh=G,Xh=Lt,Yh=_h,Qh=Kr,Li=Ga,Jh=Gh,Zh=nu,Bi=Kh,em=TypeError,vt=function(e,r){this.stopped=e,this.result=r},qi=vt.prototype,au=function(e,r,t){var a=t&&t.that,n=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),p=Vh(r,a),g,c,f,v,u,s,y,h=function(m){return g&&Bi(g,"normal",m),new vt(!0,m)},d=function(m){return n?(Wh(m),l?p(m[0],m[1],h):p(m[0],m[1])):l?p(m,h):p(m)};if(o)g=e.iterator;else if(i)g=e;else{if(c=Zh(e),!c)throw em(Xh(e)+" is not iterable");if(Yh(c)){for(f=0,v=Qh(e);v>f;f++)if(u=d(e[f]),u&&Li(qi,u))return u;return new vt(!1)}g=Jh(e,c)}for(s=o?e.next:g.next;!(y=Hh(s,g)).done;){try{u=d(y.value)}catch(m){Bi(g,"throw",m)}if(typeof u=="object"&&u&&Li(qi,u))return u}return new vt(!1)},rm=Ga,tm=TypeError,ou=function(e,r){if(rm(r,e))return e;throw tm("Incorrect invocation")},nm=D,iu=nm("iterator"),lu=!1;try{var am=0,Gi={next:function(){return{done:!!am++}},return:function(){lu=!0}};Gi[iu]=function(){return this},Array.from(Gi,function(){throw 2})}catch{}var om=function(e,r){if(!r&&!lu)return!1;var t=!1;try{var a={};a[iu]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t},im=F,lm=re,Ui=Vs,sm=function(e,r,t){var a,n;return Ui&&im(a=r.constructor)&&a!==t&&lm(n=a.prototype)&&n!==t.prototype&&Ui(e,n),e},um=te,cm=N,fm=R,zi=Ps,vm=De,dm=lo.exports,pm=au,gm=ou,hm=F,Dn=re,Mn=C,mm=om,ym=ao,$m=sm,bm=function(e,r,t){var a=e.indexOf("Map")!==-1,n=e.indexOf("Weak")!==-1,o=a?"set":"add",i=cm[e],l=i&&i.prototype,p=i,g={},c=function(d){var m=fm(l[d]);vm(l,d,d=="add"?function(b){return m(this,b===0?0:b),this}:d=="delete"?function($){return n&&!Dn($)?!1:m(this,$===0?0:$)}:d=="get"?function(b){return n&&!Dn(b)?void 0:m(this,b===0?0:b)}:d=="has"?function(b){return n&&!Dn(b)?!1:m(this,b===0?0:b)}:function(b,S){return m(this,b===0?0:b,S),this})},f=zi(e,!hm(i)||!(n||l.forEach&&!Mn(function(){new i().entries().next()})));if(f)p=t.getConstructor(r,e,a,o),dm.enable();else if(zi(e,!0)){var v=new p,u=v[o](n?{}:-0,1)!=v,s=Mn(function(){v.has(1)}),y=mm(function(d){new i(d)}),h=!n&&Mn(function(){for(var d=new i,m=5;m--;)d[o](m,m);return!d.has(-0)});y||(p=r(function(d,m){gm(d,l);var $=$m(new i,d,p);return m!=null&&pm(m,$[o],{that:$,AS_ENTRIES:a}),$}),p.prototype=l,l.constructor=p),(s||h)&&(c("delete"),c("has"),a&&c("get")),(h||u)&&c(o),n&&l.clear&&delete l.clear}return g[e]=p,um({global:!0,constructor:!0,forced:p!=i},g),ym(p,e),n||t.setStrong(p,e,a),p},Sm=De,Im=function(e,r,t){for(var a in r)Sm(e,a,r[a],t);return e},wm=hr,xm=X,Om=D,Em=W,Ki=Om("species"),Tm=function(e){var r=wm(e),t=xm.f;Em&&r&&!r[Ki]&&t(r,Ki,{configurable:!0,get:function(){return this}})},km=X.f,Pm=Wt,Vi=Im,Rm=eo,_m=ou,Cm=au,Am=oo,jm=Tm,xr=W,Hi=lo.exports.fastKey,su=zr,Wi=su.set,Nn=su.getterFor,Fm={getConstructor:function(e,r,t,a){var n=e(function(g,c){_m(g,o),Wi(g,{type:r,index:Pm(null),first:void 0,last:void 0,size:0}),xr||(g.size=0),c!=null&&Cm(c,g[a],{that:g,AS_ENTRIES:t})}),o=n.prototype,i=Nn(r),l=function(g,c,f){var v=i(g),u=p(g,c),s,y;return u?u.value=f:(v.last=u={index:y=Hi(c,!0),key:c,value:f,previous:s=v.last,next:void 0,removed:!1},v.first||(v.first=u),s&&(s.next=u),xr?v.size++:g.size++,y!=="F"&&(v.index[y]=u)),g},p=function(g,c){var f=i(g),v=Hi(c),u;if(v!=="F")return f.index[v];for(u=f.first;u;u=u.next)if(u.key==c)return u};return Vi(o,{clear:function(){for(var c=this,f=i(c),v=f.index,u=f.first;u;)u.removed=!0,u.previous&&(u.previous=u.previous.next=void 0),delete v[u.index],u=u.next;f.first=f.last=void 0,xr?f.size=0:c.size=0},delete:function(g){var c=this,f=i(c),v=p(c,g);if(v){var u=v.next,s=v.previous;delete f.index[v.index],v.removed=!0,s&&(s.next=u),u&&(u.previous=s),f.first==v&&(f.first=u),f.last==v&&(f.last=s),xr?f.size--:c.size--}return!!v},forEach:function(c){for(var f=i(this),v=Rm(c,arguments.length>1?arguments[1]:void 0),u;u=u?u.next:f.first;)for(v(u.value,u.key,this);u&&u.removed;)u=u.previous},has:function(c){return!!p(this,c)}}),Vi(o,t?{get:function(c){var f=p(this,c);return f&&f.value},set:function(c,f){return l(this,c===0?0:c,f)}}:{add:function(c){return l(this,c=c===0?0:c,c)}}),xr&&km(o,"size",{get:function(){return i(this).size}}),n},setStrong:function(e,r,t){var a=r+" Iterator",n=Nn(r),o=Nn(a);Am(e,r,function(i,l){Wi(this,{type:a,target:i,state:n(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,p=i.last;p&&p.removed;)p=p.previous;return!i.target||!(i.last=p=p?p.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:p.key,done:!1}:l=="values"?{value:p.value,done:!1}:{value:[p.key,p.value],done:!1}},t?"entries":"values",!t,!0),jm(r)}},Dm=bm,Mm=Fm;Dm("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Mm);var Nm=ro,Lm=Vt,Bm=Nm?{}.toString:function(){return"[object "+Lm(this)+"]"},qm=ro,Gm=De,Um=Bm;qm||Gm(Object.prototype,"toString",Um,{unsafe:!0});var zm=Vt,Km=String,Qe=function(e){if(zm(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Km(e)},fo=R,Vm=zt,Hm=Qe,Wm=Xe,Xm=fo("".charAt),Xi=fo("".charCodeAt),Ym=fo("".slice),Yi=function(e){return function(r,t){var a=Hm(Wm(r)),n=Vm(t),o=a.length,i,l;return n<0||n>=o?e?"":void 0:(i=Xi(a,n),i<55296||i>56319||n+1===o||(l=Xi(a,n+1))<56320||l>57343?e?Xm(a,n):i:e?Ym(a,n,n+2):(i-55296<<10)+(l-56320)+65536)}},uu={codeAt:Yi(!1),charAt:Yi(!0)},Qm=uu.charAt,Jm=Qe,cu=zr,Zm=oo,fu="String Iterator",ey=cu.set,ry=cu.getterFor(fu);Zm(String,"String",function(e){ey(this,{type:fu,string:Jm(e),index:0})},function(){var r=ry(this),t=r.string,a=r.index,n;return a>=t.length?{value:void 0,done:!0}:(n=Qm(t,a),r.index+=n.length,{value:n,done:!1})});var vu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ty=Xa,Ln=ty("span").classList,Qi=Ln&&Ln.constructor&&Ln.constructor.prototype,du=Qi===Object.prototype?void 0:Qi,Ji=N,pu=vu,ny=du,Pr=Vg,Bn=yr,gu=D,qn=gu("iterator"),Zi=gu("toStringTag"),Gn=Pr.values,hu=function(e,r){if(e){if(e[qn]!==Gn)try{Bn(e,qn,Gn)}catch{e[qn]=Gn}if(e[Zi]||Bn(e,Zi,r),pu[r]){for(var t in Pr)if(e[t]!==Pr[t])try{Bn(e,t,Pr[t])}catch{e[t]=Pr[t]}}}};for(var Un in pu)hu(Ji[Un]&&Ji[Un].prototype,Un);hu(ny,"DOMTokenList");var ay=C,oy=function(e,r){var t=[][e];return!!t&&ay(function(){t.call(null,r||function(){return 1},1)})},iy=Ht.forEach,ly=oy,sy=ly("forEach"),mu=sy?[].forEach:function(r){return iy(this,r,arguments.length>1?arguments[1]:void 0)},uy=te,el=mu;uy({target:"Array",proto:!0,forced:[].forEach!=el},{forEach:el});var rl=N,tl=vu,cy=du,zn=mu,fy=yr,yu=function(e){if(e&&e.forEach!==zn)try{fy(e,"forEach",zn)}catch{e.forEach=zn}};for(var Kn in tl)tl[Kn]&&yu(rl[Kn]&&rl[Kn].prototype);yu(cy);var vy=W,$u=R,dy=Ls,py=Ye,gy=qa.f,hy=$u(gy),my=$u([].push),nl=function(e){return function(r){for(var t=py(r),a=dy(t),n=a.length,o=0,i=[],l;n>o;)l=a[o++],(!vy||hy(t,l))&&my(i,e?[l,t[l]]:t[l]);return i}},yy={entries:nl(!0),values:nl(!1)},$y=te,by=yy.entries;$y({target:"Object",stat:!0},{entries:function(r){return by(r)}});var Sy=TypeError,Iy=9007199254740991,wy=function(e){if(e>Iy)throw Sy("Maximum allowed index exceeded");return e},xy=te,Oy=C,Ey=Rs,Ty=re,ky=Ur,Py=Kr,al=wy,ol=Js,Ry=Ms,_y=no,Cy=D,Ay=Ua,bu=Cy("isConcatSpreadable"),jy=Ay>=51||!Oy(function(){var e=[];return e[bu]=!1,e.concat()[0]!==e}),Fy=_y("concat"),Dy=function(e){if(!Ty(e))return!1;var r=e[bu];return r!==void 0?!!r:Ey(e)},My=!jy||!Fy;xy({target:"Array",proto:!0,arity:1,forced:My},{concat:function(r){var t=ky(this),a=Ry(t,0),n=0,o,i,l,p,g;for(o=-1,l=arguments.length;o<l;o++)if(g=o===-1?t:arguments[o],Dy(g))for(p=Py(g),al(n+p),i=0;i<p;i++,n++)i in g&&ol(a,n,g[i]);else al(n+1),ol(a,n++,g);return a.length=n,a}});var Ny=G,Ly=function(){var e=Ny(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},vo=C,By=N,po=By.RegExp,go=vo(function(){var e=po("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),qy=go||vo(function(){return!po("a","y").sticky}),Gy=go||vo(function(){var e=po("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),Su={BROKEN_CARET:Gy,MISSED_STICKY:qy,UNSUPPORTED_Y:go},Uy=C,zy=N,Ky=zy.RegExp,Vy=Uy(function(){var e=Ky(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Hy=C,Wy=N,Xy=Wy.RegExp,Yy=Hy(function(){var e=Xy("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),ir=ee,Xt=R,Qy=Qe,Jy=Ly,Zy=Su,e$=Bt.exports,r$=Wt,t$=zr.get,n$=Vy,a$=Yy,o$=e$("native-string-replace",String.prototype.replace),_t=RegExp.prototype.exec,wa=_t,i$=Xt("".charAt),l$=Xt("".indexOf),s$=Xt("".replace),Vn=Xt("".slice),xa=function(){var e=/a/,r=/b*/g;return ir(_t,e,"a"),ir(_t,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),Iu=Zy.BROKEN_CARET,Oa=/()??/.exec("")[1]!==void 0,u$=xa||Oa||Iu||n$||a$;u$&&(wa=function(r){var t=this,a=t$(t),n=Qy(r),o=a.raw,i,l,p,g,c,f,v;if(o)return o.lastIndex=t.lastIndex,i=ir(wa,o,n),t.lastIndex=o.lastIndex,i;var u=a.groups,s=Iu&&t.sticky,y=ir(Jy,t),h=t.source,d=0,m=n;if(s&&(y=s$(y,"y",""),l$(y,"g")===-1&&(y+="g"),m=Vn(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&i$(n,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",m=" "+m,d++),l=new RegExp("^(?:"+h+")",y)),Oa&&(l=new RegExp("^"+h+"$(?!\\s)",y)),xa&&(p=t.lastIndex),g=ir(_t,s?l:t,m),s?g?(g.input=Vn(g.input,d),g[0]=Vn(g[0],d),g.index=t.lastIndex,t.lastIndex+=g[0].length):t.lastIndex=0:xa&&g&&(t.lastIndex=t.global?g.index+g[0].length:p),Oa&&g&&g.length>1&&ir(o$,g[0],l,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(g[c]=void 0)}),g&&u)for(g.groups=f=r$(null),c=0;c<u.length;c++)v=u[c],f[v[0]]=g[v[1]];return g});var Yt=wa,c$=te,il=Yt;c$({target:"RegExp",proto:!0,forced:/./.exec!==il},{exec:il});var f$=Mt,wu=Function.prototype,ll=wu.apply,sl=wu.call,xu=typeof Reflect=="object"&&Reflect.apply||(f$?sl.bind(ll):function(){return sl.apply(ll,arguments)}),ul=R,cl=De,v$=Yt,fl=C,Ou=D,d$=yr,p$=Ou("species"),Hn=RegExp.prototype,ho=function(e,r,t,a){var n=Ou(e),o=!fl(function(){var g={};return g[n]=function(){return 7},""[e](g)!=7}),i=o&&!fl(function(){var g=!1,c=/a/;return e==="split"&&(c={},c.constructor={},c.constructor[p$]=function(){return c},c.flags="",c[n]=/./[n]),c.exec=function(){return g=!0,null},c[n](""),!g});if(!o||!i||t){var l=ul(/./[n]),p=r(n,""[e],function(g,c,f,v,u){var s=ul(g),y=c.exec;return y===v$||y===Hn.exec?o&&!u?{done:!0,value:l(c,f,v)}:{done:!0,value:s(f,c,v)}:{done:!1}});cl(String.prototype,e,p[0]),cl(Hn,n,p[1])}a&&d$(Hn[n],"sham",!0)},g$=re,h$=We,m$=D,y$=m$("match"),$$=function(e){var r;return g$(e)&&((r=e[y$])!==void 0?!!r:h$(e)=="RegExp")},b$=Ds,S$=Lt,I$=TypeError,w$=function(e){if(b$(e))return e;throw I$(S$(e)+" is not a constructor")},vl=G,x$=w$,O$=D,E$=O$("species"),T$=function(e,r){var t=vl(e).constructor,a;return t===void 0||(a=vl(t)[E$])==null?r:x$(a)},k$=uu.charAt,mo=function(e,r,t){return r+(t?k$(e,r).length:1)},dl=ee,P$=G,R$=F,_$=We,C$=Yt,A$=TypeError,yo=function(e,r){var t=e.exec;if(R$(t)){var a=dl(t,e,r);return a!==null&&P$(a),a}if(_$(e)==="RegExp")return dl(C$,e,r);throw A$("RegExp#exec called on incompatible receiver")},j$=xu,Or=ee,$o=R,F$=ho,D$=$$,M$=G,pl=Xe,N$=T$,L$=mo,B$=Kt,Wn=Qe,q$=mr,gl=Zs,hl=yo,G$=Yt,U$=Su,z$=C,er=U$.UNSUPPORTED_Y,ml=4294967295,K$=Math.min,Eu=[].push,V$=$o(/./.exec),rr=$o(Eu),Er=$o("".slice),H$=!z$(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});F$("split",function(e,r,t){var a;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?a=function(n,o){var i=Wn(pl(this)),l=o===void 0?ml:o>>>0;if(l===0)return[];if(n===void 0)return[i];if(!D$(n))return Or(r,i,n,l);for(var p=[],g=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),c=0,f=new RegExp(n.source,g+"g"),v,u,s;(v=Or(G$,f,i))&&(u=f.lastIndex,!(u>c&&(rr(p,Er(i,c,v.index)),v.length>1&&v.index<i.length&&j$(Eu,p,gl(v,1)),s=v[0].length,c=u,p.length>=l)));)f.lastIndex===v.index&&f.lastIndex++;return c===i.length?(s||!V$(f,""))&&rr(p,""):rr(p,Er(i,c)),p.length>l?gl(p,0,l):p}:"0".split(void 0,0).length?a=function(n,o){return n===void 0&&o===0?[]:Or(r,this,n,o)}:a=r,[function(o,i){var l=pl(this),p=o==null?void 0:q$(o,e);return p?Or(p,o,l,i):Or(a,Wn(l),o,i)},function(n,o){var i=M$(this),l=Wn(n),p=t(a,i,l,o,a!==r);if(p.done)return p.value;var g=N$(i,RegExp),c=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(er?"g":"y"),v=new g(er?"^(?:"+i.source+")":i,f),u=o===void 0?ml:o>>>0;if(u===0)return[];if(l.length===0)return hl(v,l)===null?[l]:[];for(var s=0,y=0,h=[];y<l.length;){v.lastIndex=er?0:y;var d=hl(v,er?Er(l,y):l),m;if(d===null||(m=K$(B$(v.lastIndex+(er?y:0)),l.length))===s)y=L$(l,y,c);else{if(rr(h,Er(l,s,y)),h.length===u)return h;for(var $=1;$<=d.length-1;$++)if(rr(h,d[$]),h.length===u)return h;y=s=m}}return rr(h,Er(l,s)),h}]},!H$,er);var W$=W,X$=qt.EXISTS,Tu=R,Y$=X.f,ku=Function.prototype,Q$=Tu(ku.toString),Pu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,J$=Tu(Pu.exec),Z$="name";W$&&!X$&&Y$(ku,Z$,{configurable:!0,get:function(){try{return J$(Pu,Q$(this))[1]}catch{return""}}});var Ru=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,eb=R,rb=Xe,tb=Qe,nb=Ru,yl=eb("".replace),Ct="["+nb+"]",ab=RegExp("^"+Ct+Ct+"*"),ob=RegExp(Ct+Ct+"*$"),Xn=function(e){return function(r){var t=tb(rb(r));return e&1&&(t=yl(t,ab,"")),e&2&&(t=yl(t,ob,"")),t}},ib={start:Xn(1),end:Xn(2),trim:Xn(3)},lb=qt.PROPER,sb=C,$l=Ru,bl="\u200B\x85\u180E",ub=function(e){return sb(function(){return!!$l[e]()||bl[e]()!==bl||lb&&$l[e].name!==e})},cb=te,fb=ib.trim,vb=ub;cb({target:"String",proto:!0,forced:vb("trim")},{trim:function(){return fb(this)}});function Sl(e){var r=new Map,t=new Map;return e.forEach(function(a,n){db(t,n,a)}),t.forEach(function(a,n){var o=dr(a,2),i=o[0],l=o[1],p=e.get(n)||0;p&&i+l<2||p&&i+l>3||(!p&&i+l==3?r.set(n,i>l?1:2):p&&r.set(n,p))}),r}function db(e,r,t){var a=_u(r),n=dr(a,2),o=n[0],i=n[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(p){e.has(p)||e.set(p,[0,0]);var g=e.get(p),c=dr(g,2),f=c[0],v=c[1];t===1?e.set(p,[f+1,v]):e.set(p,[f,v+1])}),e}function _u(e){var r=e.split("|"),t=dr(r,2),a=t[0],n=t[1];return[+a,+n]}function Cu(e){var r=dr(e,2),t=r[0],a=r[1];return"".concat(t,"|").concat(a)}function pb(e,r){var t=Math.floor(e.clientY/r),a=Math.floor(e.clientX/r);return{row:t,col:a,shift:e.shiftKey}}function gb(e){return""}function hb(e){var r=e.map(function(t){var a=t.name,n=t.fauna,o=ls(n.entries());return{fauna:o,name:a}});localStorage.setItem("history",JSON.stringify(r))}function mb(){try{var e=JSON.parse(localStorage.getItem("history")||"null")||[],r=e.map(function(t){var a=t.fauna,n=t.name,o=new Map(a);return{fauna:o,name:n}});return r}catch(t){return console.error(t),[]}}function yb(){return{width:window.visualViewport.width,height:window.visualViewport.height}}function $b(e){var r=new Map;return e.split(`
`).forEach(function(t,a){t=t.trim();for(var n=0;n<t.length;n++)t[n]==="O"&&r.set(Cu([n,a]),1)}),r}var bb=te,Sb=R,Au=Date,Ib=Sb(Au.prototype.getTime);bb({target:"Date",stat:!0},{now:function(){return Ib(new Au)}});var ju=R,wb=De,bo=Date.prototype,Il="Invalid Date",Fu="toString",xb=ju(bo[Fu]),Ob=ju(bo.getTime);String(new Date(NaN))!=Il&&wb(bo,Fu,function(){var r=Ob(this);return r===r?xb(this):Il});var Du="#5583e5",Mu="#79e555",Nu=[5,10,20,30,40],Eb=Nu[2],wl=yb();function Tb(){var e=T(Nu,{name:"$options",sid:"jcy7nx"}),r=T(Eb,{name:"$cellSize",sid:"eeiscj"}),t=r.map(function(o){return{height:Math.ceil(wl.height/o),width:Math.ceil(wl.width/o)}}),a=x({name:"cellSizeChanged",sid:"-ub9olw"});r.on(a,function(o,i){return i});var n={$options:e,$cellSize:r,$fieldSize:t,cellSizeChanged:a};return n}function kb(){var e=T(!1,{name:"$isOn",sid:"byljm1"}),r=x({name:"changed",sid:"uvawwv"});e.on(r,function(a,n){return n});var t={$isOn:e,changed:r};return t}function Pb(e,r){var t=T(null,{name:"$initFocus",sid:"-lgnzwk"}),a=T(null,{name:"$initHovered",sid:"-dfa5qi"}),n=T(null,{name:"$startTime",sid:"9evhrn"}),o=x({name:"onMDown",sid:"wjol45"}),i=x({name:"onMMove",sid:"q4kdth"}),l=x({name:"onMUp",sid:"-h3jn78"}),p=x({name:"mouseEnd",sid:"-jxscsa"}),g=x({name:"clicked",sid:"-s2vytn"}),c=x({name:"dragEnd",sid:"-sh593g"}),f=x({name:"focusMoved",sid:"-b4nks9"});function v(){document.addEventListener("mousedown",o),document.addEventListener("mousemove",i),document.addEventListener("mouseup",l)}return n.on(o,function(){return Date.now()}),P({and:[{source:r,clock:o,target:t}],or:{sid:"wsnvqb"}}),P({and:[{source:e,clock:o,target:a}],or:{sid:"wt7obo"}}),P({and:[{source:{currentHovered:e,initHovered:a,startTime:n},clock:l,filter:function(s){return!!s.initHovered&&!!s.currentHovered&&!!s.startTime},fn:function(s){var y=s.currentHovered,h=s.initHovered,d=s.startTime;return{start:{col:y.col,row:y.row},finish:h,duration:Date.now()-d,shift:y.shift}},target:p}],or:{sid:"wtrgx1"}}),P({and:[{source:{currentHovered:e,initFocus:t,initHovered:a},clock:i,filter:function(s){return!!s.initHovered&&!!s.initFocus&&!!s.currentHovered},fn:function(s){var y=s.currentHovered,h=s.initHovered,d=s.initFocus;return{col:d.col+(y.col-h.col),row:d.row+(y.row-h.row)}},target:f}],or:{sid:"xqr4ip"}}),ec({and:[{source:p,match:function(s){return s.start.col===s.finish.col&&s.start.row===s.finish.row?"click":"dragEnd"},cases:{click:g,dragEnd:c}}],or:{sid:"yb3ih2"}}),t.reset(p),a.reset(p),n.reset(p),{focusMoved:f,initEvents:v,clicked:g}}var ge=Tb(),At=kb(),je=T(new Map,{name:"$fauna",sid:"12kukq"}),Qt=T({col:0,row:0},{name:"$focus",sid:"-5hzlos"}),Lu=x({name:"resetFocus",sid:"dj1sx0"}),Dr=T(1,{name:"$selectedColor",sid:"e4myg5"}),dt=x({name:"colorSelected",sid:"dhuxmf"});Dr.on(dt,function(e,r){return r});var Bu=x({name:"saveClicked",sid:"ro5fmz"}),Jt=x({name:"resetFieldPressed",sid:"aequua"}),So=T({row:0,col:0,shift:!1},{and:{updateFilter:function(r,t){return!(r.row===t.row&&r.col===t.col&&r.shift===t.shift)}},name:"$hoveredCell",sid:"uua47t"}),Io=Pb(So,Qt),qu=x({name:"fieldMouseMove",sid:"-8e640v"}),Rb=ke({and:[At.$isOn,ge.$cellSize,function(e,r){return e?"elsa":r}],or:{name:"$fieldTilesStyle",sid:"-386s6g"}}),Gu=ke({and:[ge.$fieldSize,je,Qt,function(e,r,t){var a=e.width,n=e.height,o=[];return r.forEach(function(i,l){var p=_u(l),g=dr(p,2),c=g[0],f=g[1],v=Math.ceil(c+t.col),u=Math.ceil(f+t.row);v>=0&&v<a&&u>=0&&u<n&&o.push({col:v,row:u,val:i})}),o}],or:{name:"$field",sid:"-19bdts"}}),_b=ke({and:[Gu,ge.$cellSize,function(e,r){return e.map(function(t){var a=t.val,n=t.col,o=t.row;return{val:a,y:o*r+"px",x:n*r+"px"}})}],or:{name:"$viewField",sid:"7uv8jt"}}),xl=ke({and:[So,ge.$cellSize,function(e,r){var t=e.col,a=e.row;return{y:a*r+"px",x:t*r+"px"}}],or:{name:"$viewHoveredCell",sid:"m528bq"}});je.on(Jt,function(){return new Map});Qt.on(Io.focusMoved,function(e,r){return r}).reset(Lu);P({and:[{source:ge.$cellSize,clock:qu,fn:function(r,t){return pb(t,r)},target:So}],or:{sid:"c7iejx"}});P({and:[{source:{fauna:je,color:Dr,focus:Qt},clock:Io.clicked,fn:function(r,t){var a=r.color,n=r.fauna,o=r.focus,i=t.start,l=i.col,p=i.row,g=t.shift,c=new Map(n),f=l-o.col,v=p-o.row,u=Cu([f,v]);return g?c.set(u,a):c.get(u)===a?c.delete(u):c.set(u,a),c},target:je}],or:{sid:"cngfre"}});function Cb(e){E("select",function(){me({handler:{change:e.onChange}}),Na(e.options,function(r){var t=r.store;E("option",{attr:{value:t.map(function(a){return a.value}),selected:ke({and:[t,e.value,function(a,n){return a.value===n}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(a){return a.label})})})})}function Ab(e){E("label",{text:e.label,fn:function(){E("input",{attr:{type:"checkbox",checked:e.value},handler:{change:e.onChange.prepend(function(t){return t.target.checked})}})}})}const jb="_history_18viy_1",Fb="_colorBtn_18viy_7",Db="_currentColor_18viy_14",Mb="_arrowBtn_18viy_18",Ce={history:jb,colorBtn:Fb,currentColor:Db,arrowBtn:Mb};function Nb(){Ab({label:"Elsa",value:At.$isOn,onChange:At.changed}),E("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,a;E("button",{classList:(r={},ce(r,Ce.colorBtn,!0),ce(r,Ce.currentColor,Dr.map(function(n){return n===1})),r),style:{backgroundColor:Du},handler:{click:dt.prepend(function(){return 1})}}),E("button",{classList:(t={},ce(t,Ce.colorBtn,!0),ce(t,Ce.currentColor,Dr.map(function(n){return n===2})),t),style:{backgroundColor:Mu},handler:{click:dt.prepend(function(){return 2})}}),E("button",{classList:(a={},ce(a,Ce.colorBtn,!0),ce(a,Ce.currentColor,Dr.map(function(n){return!n})),a),handler:{click:dt.prepend(function(){return 0})}})}})}var wo=R,Lb=Ur,Bb=Math.floor,Yn=wo("".charAt),qb=wo("".replace),Qn=wo("".slice),Gb=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ub=/\$([$&'`]|\d{1,2})/g,zb=function(e,r,t,a,n,o){var i=t+e.length,l=a.length,p=Ub;return n!==void 0&&(n=Lb(n),p=Gb),qb(o,p,function(g,c){var f;switch(Yn(c,0)){case"$":return"$";case"&":return e;case"`":return Qn(r,0,t);case"'":return Qn(r,i);case"<":f=n[Qn(c,1,-1)];break;default:var v=+c;if(v===0)return g;if(v>l){var u=Bb(v/10);return u===0?g:u<=l?a[u-1]===void 0?Yn(c,1):a[u-1]+Yn(c,1):g}f=a[v-1]}return f===void 0?"":f})},Kb=xu,Ol=ee,Zt=R,Vb=ho,Hb=C,Wb=G,Xb=F,Yb=zt,Qb=Kt,tr=Qe,Jb=Xe,Zb=mo,e1=mr,r1=zb,t1=yo,n1=D,Ea=n1("replace"),a1=Math.max,o1=Math.min,i1=Zt([].concat),Jn=Zt([].push),El=Zt("".indexOf),Tl=Zt("".slice),l1=function(e){return e===void 0?e:String(e)},s1=function(){return"a".replace(/./,"$0")==="$0"}(),kl=function(){return/./[Ea]?/./[Ea]("a","$0")==="":!1}(),u1=!Hb(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});Vb("replace",function(e,r,t){var a=kl?"$":"$0";return[function(o,i){var l=Jb(this),p=o==null?void 0:e1(o,Ea);return p?Ol(p,o,l,i):Ol(r,tr(l),o,i)},function(n,o){var i=Wb(this),l=tr(n);if(typeof o=="string"&&El(o,a)===-1&&El(o,"$<")===-1){var p=t(r,i,l,o);if(p.done)return p.value}var g=Xb(o);g||(o=tr(o));var c=i.global;if(c){var f=i.unicode;i.lastIndex=0}for(var v=[];;){var u=t1(i,l);if(u===null||(Jn(v,u),!c))break;var s=tr(u[0]);s===""&&(i.lastIndex=Zb(l,Qb(i.lastIndex),f))}for(var y="",h=0,d=0;d<v.length;d++){u=v[d];for(var m=tr(u[0]),$=a1(o1(Yb(u.index),l.length),0),b=[],S=1;S<u.length;S++)Jn(b,l1(u[S]));var I=u.groups;if(g){var w=i1([m],b,$,l);I!==void 0&&Jn(w,I);var O=tr(Kb(o,void 0,w))}else O=r1(m,l,$,b,I,o);$>=h&&(y+=Tl(l,h,$)+O,h=$+m.length)}return y+Tl(l,h)}]},!u1||!s1||kl);const c1=""+new URL("heart-line-icon.ca853df2.svg",import.meta.url).href,f1="_field_n4fvk_1",v1="_cell_n4fvk_13",d1="_on1_n4fvk_21",p1="_on2_n4fvk_24",g1="_heartMode_n4fvk_28",nr={field:f1,cell:v1,on1:d1,on2:p1,heartMode:g1};function h1(e){var r=`
<svg viewBox='0 0 `.concat(e," ").concat(e,`' xmlns='http://www.w3.org/2000/svg'>
<line x1='0' y1='0' x2='0' y2='`).concat(e,`' stroke='#b4b6b8' />
<line x1='0' y1='0' x2='`).concat(e,`' y2='0' stroke='#b4b6b8' />
</svg>`);return"data:image/svg+xml;base64,"+btoa(r.replace(/\n/g,""))}function m1(){E("div",{classList:[nr.field],styleVar:{cellSize:ge.$cellSize.map(function(e){return e+"px"}),color1:Du,color2:Mu},style:{backgroundImage:Rb.map(function(e){var r=e==="elsa"?c1:h1(e);return'url("'.concat(r,'")')}),backgroundSize:ge.$cellSize.map(function(e){return"".concat(e,"px ").concat(e,"px")})},handler:{mousemove:qu},fn:function(){Na(_b,function(r){var t,a=r.store;E("div",{style:{left:a.map(function(n){return n.x}),top:a.map(function(n){return n.y})},classList:(t={},ce(t,nr.heartMode,At.$isOn),ce(t,nr.cell,!0),ce(t,nr.on1,a.map(function(n){return n.val===1})),ce(t,nr.on2,a.map(function(n){return n.val===2})),t)})}),E("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:xl.map(function(r){return r.x}),top:xl.map(function(r){return r.y})},classList:[nr.cell]})}})}var y1=ee,$1=ho,b1=G,S1=Kt,Zn=Qe,I1=Xe,w1=mr,x1=mo,Pl=yo;$1("match",function(e,r,t){return[function(n){var o=I1(this),i=n==null?void 0:w1(n,e);return i?y1(i,n,o):new RegExp(n)[e](Zn(o))},function(a){var n=b1(this),o=Zn(a),i=t(r,n,o);if(i.done)return i.value;if(!n.global)return Pl(n,o);var l=n.unicode;n.lastIndex=0;for(var p=[],g=0,c;(c=Pl(n,o))!==null;){var f=Zn(c[0]);p[g]=f,f===""&&(n.lastIndex=x1(o,S1(n.lastIndex),l)),g++}return g===0?null:p}]});var O1=te,E1=Ht.filter,T1=no,k1=T1("filter");O1({target:"Array",proto:!0,forced:!k1},{filter:function(r){return E1(this,r,arguments.length>1?arguments[1]:void 0)}});var en=T(mb()||[],{name:"$history",sid:"8vj2mw"}),Uu=x({name:"addToHistory",sid:"-6p9jgl"}),zu=x({name:"removeFromHistory",sid:"iwl8tq"}),rn=x({name:"historySelected",sid:"bspsag"});en.on(Uu,function(e,r){var t,a=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",n=a.match(/(\d+)/),o=n&&+n[1]||0;return[].concat(ls(e),[{fauna:r,name:"save #".concat(o+1)}])}).on(zu,function(e,r){});P({and:[{source:en,target:ka(function(e){hb(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var Rl,_l;function P1(){E("div",{classList:[Ce.history],fn:function(){E("p",{text:"History: ",style:{margin:"0"}}),Na(en,function(r){var t=r.store,a=x({name:"rawClick",sid:"-69qia6"}),n=x({name:"rawRemoveClick",sid:"-9nj6fi"});P({and:[{clock:a,source:t.map(function(o){return o.name}),target:rn}],or:{sid:"-pa1t75"}}),P({and:[{clock:n,source:t.map(function(o){return o.name}),target:zu}],or:{sid:"-p7au8c"}}),E("div",function(){E("button",function(){me({handler:{click:a}}),Ot(Rl||(Rl=Tt(["",""])),t.map(function(o){return o.name}))}),E("button",function(){me({handler:{click:n}}),Ot(_l||(_l=Tt(["x"])))})})}),E("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:Bu}})}})}function R1(){Io.initEvents(),E("button",{classList:[Ce.arrowBtn],handler:{click:Lu},text:"reset focus"}),E("div",function(){me({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),Cb({options:ge.$options.map(function(e){return e.map(function(r){return{label:"cell ".concat(r,"px"),value:String(r)}})}),value:ge.$cellSize.map(function(e){return String(e)}),onChange:ge.cellSizeChanged.prepend(function(e){return+e.target.value})})})}function _1(e){var{timeout:r,start:t,stop:a,leading:n=!1,trailing:o=!1}=e,i=x({name:"tick",sid:"uo9p3s"}),l=T(!1,{name:"$isRunning",sid:"-wxesi8"}),p=C1(r),g=l.map(h=>!h),c=x({name:"saveTimeout",sid:"as5clk"}),f=T(null,{name:"$timeoutId",sid:"-bh90bo"}).on(c,(h,d)=>d),v=x({name:"saveReject",sid:"-64swis"}),u=T(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(v,(h,d)=>d),s=ka(h=>new Promise((d,m)=>{var $=setTimeout(d,h);c($),v(m)}),{name:"timeoutFx",sid:"7lc3mj"}),y=Zu({and:{source:[f,u],effect:h=>{var[d,m]=h;m(),d&&clearTimeout(d)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return ln({and:[{clock:t,source:p,filter:g,target:s}],or:{sid:"-w5qmwp"}}),n&&ln({and:[{clock:t,filter:g,target:i}],or:{sid:"-vpslni"}}),P({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),ln({and:[{clock:s.done,source:p,filter:l,target:s}],or:{sid:"-v73liy"}}),P({and:[{clock:s.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),a&&(o&&P({and:[{clock:a,target:i}],or:{sid:"-uanqf7"}}),l.on(a,()=>!1),P({and:[{clock:a,target:y}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function C1(e){if(B.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return T(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var xo=T(0,{name:"$stepCount",sid:"qcyfda"});T(0,{name:"$startFauna",sid:"871hb0"});var tn=x({name:"gameTick",sid:"3e0yvy"}),Ku=x({name:"makeNSteps",sid:"-su79h9"}),Oo=x({name:"startTimer",sid:"qpqggy"}),Vu=x({name:"stopTimer",sid:"o91ddu"}),Hu=oc({sid:"-9gtfjx",fn:function(){return _1({timeout:50,start:Oo,stop:Vu})},name:"timer",method:"interval"}),pt={start:Oo,stop:Vu,isRunning:Hu.isRunning};P({and:[{clock:[Hu.tick,Oo],target:tn}],or:{sid:"-pq1jks"}});xo.on(tn,function(e){return e+1}).on(Ku,function(e,r){return e+r});var Cl,Al;function A1(){E("p",function(){me({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),E("button",{text:"Step",handler:{click:tn}}),Ot(Cl||(Cl=Tt([" timer: "]))),Oc({source:pt.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){E("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:pt.stop}})},0:function(){E("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:pt.start}})}}}),Ot(Al||(Al=Tt(["steps: ",""])),xo)})}var nn=T("",{name:"$exported",sid:"-eko3nz"}),Wu=x({name:"exportFieldChanged",sid:"-1z9j1h"}),j1=x({name:"exportClicked",sid:"vvb4un"}),Xu=x({name:"importClicked",sid:"-xhz735"});nn.on(Wu,function(e,r){return r});var F1=te,D1=Ht.find,M1=Gs,Ta="find",Yu=!0;Ta in[]&&Array(1)[Ta](function(){Yu=!1});F1({target:"Array",proto:!0,forced:Yu},{find:function(r){return D1(this,r,arguments.length>1?arguments[1]:void 0)}});M1(Ta);P({and:[{source:je,clock:Bu,target:Uu}],or:{sid:"-32a41b"}});P({and:[{source:en,clock:rn,fn:function(r,t){var a=r.find(function(o){return o.name===t}).fauna,n=new Map(a);return n},target:je}],or:{sid:"-qod2zb"}});P({and:[{source:nn,clock:Xu,fn:$b,target:je}],or:{sid:"-q7bgl4"}});P({and:[{clock:[rn,Jt],target:pt.stop}],or:{sid:"-q6rnzr"}});P({and:[{source:Gu,clock:j1,fn:gb,target:nn}],or:{sid:"-q67vee"}});je.on(tn,function(e){return Sl(e)}).on(Ku,function(e,r){for(var t=e,a=1;a<=r;a++)t=Sl(t);return t});xo.reset(rn,Jt);function N1(){E("div",function(){R1(),m1(),E("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){E("h1",{text:"Game of Life"}),P1(),Nb(),A1()}}),E("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:Jt}}),E("div",function(){me({style:{position:"absolute",bottom:"50px",left:"20px"}}),E("button",{text:"Import",handler:{click:Xu}}),E("br",{}),E("textarea",{style:{fontSize:"8px",width:"100%",height:"100px",lineHeight:1},text:nn,handler:{change:Wu.prepend(function(e){return e.target.value})}})})})}wc(document.querySelector("#app"),N1);
