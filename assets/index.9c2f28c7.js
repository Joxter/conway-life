const Au=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}};Au();function me(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Sr(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function ct(e,r){return ju(e)||Fu(e,r)||pl(e,r)||Lu()}function _u(e){return Cu(e)||Du(e)||pl(e)||Nu()}function Cu(e){if(Array.isArray(e))return Fa(e)}function ju(e){if(Array.isArray(e))return e}function Du(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fu(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,i,l;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));a=!0);}catch(d){o=!0,l=d}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function pl(e,r){if(!!e){if(typeof e=="string")return Fa(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fa(e,r)}}function Fa(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Nu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ur=function(e){return e&&e.Math==Math&&e},M=Ur(typeof globalThis=="object"&&globalThis)||Ur(typeof window=="object"&&window)||Ur(typeof self=="object"&&self)||Ur(typeof po=="object"&&po)||function(){return this}()||Function("return this")(),dn={},k=function(e){try{return!!e()}catch{return!0}},Mu=k,U=!Mu(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Bu=k,Ot=!Bu(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),qu=Ot,Kr=Function.prototype.call,oe=qu?Kr.bind(Kr):function(){return Kr.apply(Kr,arguments)},pn={},gl={}.propertyIsEnumerable,hl=Object.getOwnPropertyDescriptor,Gu=hl&&!gl.call({1:2},1);pn.f=Gu?function(r){var t=hl(this,r);return!!t&&t.enumerable}:gl;var Et=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},yl=Ot,ml=Function.prototype,Uu=ml.bind,Na=ml.call,Ku=yl&&Uu.bind(Na,Na),T=yl?function(e){return e&&Ku(e)}:function(e){return e&&function(){return Na.apply(e,arguments)}},$l=T,zu=$l({}.toString),Vu=$l("".slice),Ue=function(e){return Vu(zu(e),8,-1)},Wu=T,Hu=k,Xu=Ue,Wt=Object,Yu=Wu("".split),gn=Hu(function(){return!Wt("z").propertyIsEnumerable(0)})?function(e){return Xu(e)=="String"?Yu(e,""):Wt(e)}:Wt,Qu=TypeError,ar=function(e){if(e==null)throw Qu("Can't call method on "+e);return e},Ju=gn,Zu=ar,Oe=function(e){return Ju(Zu(e))},F=function(e){return typeof e=="function"},ec=F,K=function(e){return typeof e=="object"?e!==null:ec(e)},Ht=M,rc=F,tc=function(e){return rc(e)?e:void 0},nr=function(e,r){return arguments.length<2?tc(Ht[e]):Ht[e]&&Ht[e][r]},ac=T,hn=ac({}.isPrototypeOf),nc=nr,oc=nc("navigator","userAgent")||"",bl=M,Xt=oc,go=bl.process,ho=bl.Deno,yo=go&&go.versions||ho&&ho.version,mo=yo&&yo.v8,J,ft;mo&&(J=mo.split("."),ft=J[0]>0&&J[0]<4?1:+(J[0]+J[1]));!ft&&Xt&&(J=Xt.match(/Edge\/(\d+)/),(!J||J[1]>=74)&&(J=Xt.match(/Chrome\/(\d+)/),J&&(ft=+J[1])));var yn=ft,$o=yn,ic=k,Sl=!!Object.getOwnPropertySymbols&&!ic(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&$o&&$o<41}),lc=Sl,Il=lc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",sc=nr,uc=F,cc=hn,fc=Il,vc=Object,xl=fc?function(e){return typeof e=="symbol"}:function(e){var r=sc("Symbol");return uc(r)&&cc(r.prototype,vc(e))},dc=String,Tt=function(e){try{return dc(e)}catch{return"Object"}},pc=F,gc=Tt,hc=TypeError,mn=function(e){if(pc(e))return e;throw hc(gc(e)+" is not a function")},yc=mn,Fr=function(e,r){var t=e[r];return t==null?void 0:yc(t)},Yt=oe,Qt=F,Jt=K,mc=TypeError,$c=function(e,r){var t,n;if(r==="string"&&Qt(t=e.toString)&&!Jt(n=Yt(t,e))||Qt(t=e.valueOf)&&!Jt(n=Yt(t,e))||r!=="string"&&Qt(t=e.toString)&&!Jt(n=Yt(t,e)))return n;throw mc("Can't convert object to primitive value")},kt={exports:{}},bo=M,bc=Object.defineProperty,$n=function(e,r){try{bc(bo,e,{value:r,configurable:!0,writable:!0})}catch{bo[e]=r}return r},Sc=M,Ic=$n,So="__core-js_shared__",xc=Sc[So]||Ic(So,{}),bn=xc,Io=bn;(kt.exports=function(e,r){return Io[e]||(Io[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var wc=ar,Oc=Object,Nr=function(e){return Oc(wc(e))},Ec=T,Tc=Nr,kc=Ec({}.hasOwnProperty),ve=Object.hasOwn||function(r,t){return kc(Tc(r),t)},Pc=T,Rc=0,Ac=Math.random(),_c=Pc(1 .toString),Sn=function(e){return"Symbol("+(e===void 0?"":e)+")_"+_c(++Rc+Ac,36)},Cc=M,jc=kt.exports,xo=ve,Dc=Sn,wo=Sl,wl=Il,Ve=jc("wks"),Fe=Cc.Symbol,Oo=Fe&&Fe.for,Fc=wl?Fe:Fe&&Fe.withoutSetter||Dc,D=function(e){if(!xo(Ve,e)||!(wo||typeof Ve[e]=="string")){var r="Symbol."+e;wo&&xo(Fe,e)?Ve[e]=Fe[e]:wl&&Oo?Ve[e]=Oo(r):Ve[e]=Fc(r)}return Ve[e]},Nc=oe,Eo=K,To=xl,Lc=Fr,Mc=$c,Bc=D,qc=TypeError,Gc=Bc("toPrimitive"),Uc=function(e,r){if(!Eo(e)||To(e))return e;var t=Lc(e,Gc),n;if(t){if(r===void 0&&(r="default"),n=Nc(t,e,r),!Eo(n)||To(n))return n;throw qc("Can't convert object to primitive value")}return r===void 0&&(r="number"),Mc(e,r)},Kc=Uc,zc=xl,In=function(e){var r=Kc(e,"string");return zc(r)?r:r+""},Vc=M,ko=K,La=Vc.document,Wc=ko(La)&&ko(La.createElement),xn=function(e){return Wc?La.createElement(e):{}},Hc=U,Xc=k,Yc=xn,Ol=!Hc&&!Xc(function(){return Object.defineProperty(Yc("div"),"a",{get:function(){return 7}}).a!=7}),Qc=U,Jc=oe,Zc=pn,ef=Et,rf=Oe,tf=In,af=ve,nf=Ol,Po=Object.getOwnPropertyDescriptor;dn.f=Qc?Po:function(r,t){if(r=rf(r),t=tf(t),nf)try{return Po(r,t)}catch{}if(af(r,t))return ef(!Jc(Zc.f,r,t),r[t])};var z={},of=U,lf=k,El=of&&lf(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),sf=K,uf=String,cf=TypeError,V=function(e){if(sf(e))return e;throw cf(uf(e)+" is not an object")},ff=U,vf=Ol,df=El,zr=V,Ro=In,pf=TypeError,Zt=Object.defineProperty,gf=Object.getOwnPropertyDescriptor,ea="enumerable",ra="configurable",ta="writable";z.f=ff?df?function(r,t,n){if(zr(r),t=Ro(t),zr(n),typeof r=="function"&&t==="prototype"&&"value"in n&&ta in n&&!n[ta]){var a=gf(r,t);a&&a[ta]&&(r[t]=n.value,n={configurable:ra in n?n[ra]:a[ra],enumerable:ea in n?n[ea]:a[ea],writable:!1})}return Zt(r,t,n)}:Zt:function(r,t,n){if(zr(r),t=Ro(t),zr(n),vf)try{return Zt(r,t,n)}catch{}if("get"in n||"set"in n)throw pf("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var hf=U,yf=z,mf=Et,or=hf?function(e,r,t){return yf.f(e,r,mf(1,t))}:function(e,r,t){return e[r]=t,e},Tl={exports:{}},Ma=U,$f=ve,kl=Function.prototype,bf=Ma&&Object.getOwnPropertyDescriptor,wn=$f(kl,"name"),Sf=wn&&function(){}.name==="something",If=wn&&(!Ma||Ma&&bf(kl,"name").configurable),On={EXISTS:wn,PROPER:Sf,CONFIGURABLE:If},xf=T,wf=F,Ba=bn,Of=xf(Function.toString);wf(Ba.inspectSource)||(Ba.inspectSource=function(e){return Of(e)});var En=Ba.inspectSource,Ef=M,Tf=F,kf=En,Ao=Ef.WeakMap,Pf=Tf(Ao)&&/native code/.test(kf(Ao)),Rf=kt.exports,Af=Sn,_o=Rf("keys"),Tn=function(e){return _o[e]||(_o[e]=Af(e))},Pt={},_f=Pf,Pl=M,aa=T,Cf=K,jf=or,na=ve,oa=bn,Df=Tn,Ff=Pt,Co="Object already initialized",qa=Pl.TypeError,Nf=Pl.WeakMap,vt,Rr,dt,Lf=function(e){return dt(e)?Rr(e):vt(e,{})},Mf=function(e){return function(r){var t;if(!Cf(r)||(t=Rr(r)).type!==e)throw qa("Incompatible receiver, "+e+" required");return t}};if(_f||oa.state){var Ce=oa.state||(oa.state=new Nf),Bf=aa(Ce.get),jo=aa(Ce.has),qf=aa(Ce.set);vt=function(e,r){if(jo(Ce,e))throw new qa(Co);return r.facade=e,qf(Ce,e,r),r},Rr=function(e){return Bf(Ce,e)||{}},dt=function(e){return jo(Ce,e)}}else{var We=Df("state");Ff[We]=!0,vt=function(e,r){if(na(e,We))throw new qa(Co);return r.facade=e,jf(e,We,r),r},Rr=function(e){return na(e,We)?e[We]:{}},dt=function(e){return na(e,We)}}var Lr={set:vt,get:Rr,has:dt,enforce:Lf,getterFor:Mf},Gf=k,Uf=F,Vr=ve,Ga=U,Kf=On.CONFIGURABLE,zf=En,Rl=Lr,Vf=Rl.enforce,Wf=Rl.get,Jr=Object.defineProperty,Hf=Ga&&!Gf(function(){return Jr(function(){},"length",{value:8}).length!==8}),Xf=String(String).split("String"),Yf=Tl.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Vr(e,"name")||Kf&&e.name!==r)&&(Ga?Jr(e,"name",{value:r,configurable:!0}):e.name=r),Hf&&t&&Vr(t,"arity")&&e.length!==t.arity&&Jr(e,"length",{value:t.arity});try{t&&Vr(t,"constructor")&&t.constructor?Ga&&Jr(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Vf(e);return Vr(n,"source")||(n.source=Xf.join(typeof r=="string"?r:"")),e};Function.prototype.toString=Yf(function(){return Uf(this)&&Wf(this).source||zf(this)},"toString");var Qf=F,Jf=z,Zf=Tl.exports,ev=$n,Ae=function(e,r,t,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:r;if(Qf(t)&&Zf(t,o,n),n.global)a?e[r]=t:ev(r,t);else{try{n.unsafe?e[r]&&(a=!0):delete e[r]}catch{}a?e[r]=t:Jf.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},Rt={},rv=Math.ceil,tv=Math.floor,av=Math.trunc||function(r){var t=+r;return(t>0?tv:rv)(t)},nv=av,kn=function(e){var r=+e;return r!==r||r===0?0:nv(r)},ov=kn,iv=Math.max,lv=Math.min,At=function(e,r){var t=ov(e);return t<0?iv(t+r,0):lv(t,r)},sv=kn,uv=Math.min,Pn=function(e){return e>0?uv(sv(e),9007199254740991):0},cv=Pn,Ke=function(e){return cv(e.length)},fv=Oe,vv=At,dv=Ke,Do=function(e){return function(r,t,n){var a=fv(r),o=dv(a),i=vv(n,o),l;if(e&&t!=t){for(;o>i;)if(l=a[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in a)&&a[i]===t)return e||i||0;return!e&&-1}},Al={includes:Do(!0),indexOf:Do(!1)},pv=T,ia=ve,gv=Oe,hv=Al.indexOf,yv=Pt,Fo=pv([].push),_l=function(e,r){var t=gv(e),n=0,a=[],o;for(o in t)!ia(yv,o)&&ia(t,o)&&Fo(a,o);for(;r.length>n;)ia(t,o=r[n++])&&(~hv(a,o)||Fo(a,o));return a},Rn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mv=_l,$v=Rn,bv=$v.concat("length","prototype");Rt.f=Object.getOwnPropertyNames||function(r){return mv(r,bv)};var Cl={};Cl.f=Object.getOwnPropertySymbols;var Sv=nr,Iv=T,xv=Rt,wv=Cl,Ov=V,Ev=Iv([].concat),Tv=Sv("Reflect","ownKeys")||function(r){var t=xv.f(Ov(r)),n=wv.f;return n?Ev(t,n(r)):t},No=ve,kv=Tv,Pv=dn,Rv=z,Av=function(e,r,t){for(var n=kv(r),a=Rv.f,o=Pv.f,i=0;i<n.length;i++){var l=n[i];!No(e,l)&&!(t&&No(t,l))&&a(e,l,o(r,l))}},_v=k,Cv=F,jv=/#|\.prototype\./,Mr=function(e,r){var t=Fv[Dv(e)];return t==Lv?!0:t==Nv?!1:Cv(r)?_v(r):!!r},Dv=Mr.normalize=function(e){return String(e).replace(jv,".").toLowerCase()},Fv=Mr.data={},Nv=Mr.NATIVE="N",Lv=Mr.POLYFILL="P",jl=Mr,la=M,Mv=dn.f,Bv=or,qv=Ae,Gv=$n,Uv=Av,Kv=jl,L=function(e,r){var t=e.target,n=e.global,a=e.stat,o,i,l,d,p,s;if(n?i=la:a?i=la[t]||Gv(t,{}):i=(la[t]||{}).prototype,i)for(l in r){if(p=r[l],e.dontCallGetSet?(s=Mv(i,l),d=s&&s.value):d=i[l],o=Kv(n?l:t+(a?".":"#")+l,e.forced),!o&&d!==void 0){if(typeof p==typeof d)continue;Uv(p,d)}(e.sham||d&&d.sham)&&Bv(p,"sham",!0),qv(i,l,p,e)}},Lo=T,zv=mn,Vv=Ot,Wv=Lo(Lo.bind),An=function(e,r){return zv(e),r===void 0?e:Vv?Wv(e,r):function(){return e.apply(r,arguments)}},Hv=Ue,_n=Array.isArray||function(r){return Hv(r)=="Array"},Xv=D,Yv=Xv("toStringTag"),Dl={};Dl[Yv]="z";var Cn=String(Dl)==="[object z]",Qv=Cn,Jv=F,Zr=Ue,Zv=D,ed=Zv("toStringTag"),rd=Object,td=Zr(function(){return arguments}())=="Arguments",ad=function(e,r){try{return e[r]}catch{}},_t=Qv?Zr:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=ad(r=rd(e),ed))=="string"?t:td?Zr(r):(n=Zr(r))=="Object"&&Jv(r.callee)?"Arguments":n},nd=T,od=k,Fl=F,id=_t,ld=nr,sd=En,Nl=function(){},ud=[],Ll=ld("Reflect","construct"),jn=/^\s*(?:class|function)\b/,cd=nd(jn.exec),fd=!jn.exec(Nl),sr=function(r){if(!Fl(r))return!1;try{return Ll(Nl,ud,r),!0}catch{return!1}},Ml=function(r){if(!Fl(r))return!1;switch(id(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return fd||!!cd(jn,sd(r))}catch{return!0}};Ml.sham=!0;var Dn=!Ll||od(function(){var e;return sr(sr.call)||!sr(Object)||!sr(function(){e=!0})||e})?Ml:sr,Mo=_n,vd=Dn,dd=K,pd=D,gd=pd("species"),Bo=Array,hd=function(e){var r;return Mo(e)&&(r=e.constructor,vd(r)&&(r===Bo||Mo(r.prototype))?r=void 0:dd(r)&&(r=r[gd],r===null&&(r=void 0))),r===void 0?Bo:r},yd=hd,Bl=function(e,r){return new(yd(e))(r===0?0:r)},md=An,$d=T,bd=gn,Sd=Nr,Id=Ke,xd=Bl,qo=$d([].push),Pe=function(e){var r=e==1,t=e==2,n=e==3,a=e==4,o=e==6,i=e==7,l=e==5||o;return function(d,p,s,f){for(var v=Sd(d),u=bd(v),c=md(p,s),$=Id(u),h=0,g=f||xd,y=r?g(d,$):t||i?g(d,0):void 0,m,b;$>h;h++)if((l||h in u)&&(m=u[h],b=c(m,h,v),e))if(r)y[h]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return h;case 2:qo(y,m)}else switch(e){case 4:return!1;case 7:qo(y,m)}return o?-1:n||a?a:y}},Ct={forEach:Pe(0),map:Pe(1),filter:Pe(2),some:Pe(3),every:Pe(4),find:Pe(5),findIndex:Pe(6),filterReject:Pe(7)},wd=k,Od=D,Ed=yn,Td=Od("species"),jt=function(e){return Ed>=51||!wd(function(){var r=[],t=r.constructor={};return t[Td]=function(){return{foo:1}},r[e](Boolean).foo!==1})},kd=L,Pd=Ct.map,Rd=jt,Ad=Rd("map");kd({target:"Array",proto:!0,forced:!Ad},{map:function(r){return Pd(this,r,arguments.length>1?arguments[1]:void 0)}});function Dt(e,r){for(let t in e)r(e[t],t)}function G(e,r){e.forEach(r)}function Y(e,r){if(!e)throw Error(r)}function Ua(e,r){q={parent:q,value:e,template:N(e,"template")||ir(),sidRoot:N(e,"sidRoot")||q&&q.sidRoot};try{return r()}finally{q=fe(q)}}function Ee({node:e=[],from:r,source:t,parent:n=r||t,to:a,target:o,child:i=a||o,scope:l={},meta:d={},family:p={type:"regular"},regional:s}={}){let f=hr(n),v=hr(p.links),u=hr(p.owners),c=[];G(e,h=>h&&Se(c,h));let $={id:Nd(),seq:c,next:hr(i),meta:d,scope:l,family:{type:p.type||"crosslink",links:v,owners:u}};return G(v,h=>Se(Nt(h),$)),G(u,h=>Se(Lt(h),$)),G(f,h=>Se(h.next,$)),s&&q&&er(Ir(q),[$]),$}function R(e,r,t){let n=ue,a=null,o=P;if(e.target&&(r=e.params,t=e.defer,n="page"in e?e.page:n,e.stack&&(a=e.stack),o=$e(e)||o,e=e.target),o&&P&&o!==P&&(P=null),Array.isArray(e))for(let u=0;u<e.length;u++)je("pure",n,Q(e[u]),a,r[u],o);else je("pure",n,Q(e),a,r,o);if(t&&!Wr)return;let i,l,d,p,s,f,v={isRoot:Wr,currentPage:ue,scope:P,isWatch:rt,isPure:tt};Wr=0;e:for(;p=Gd();){let{idx:u,stack:c,type:$}=p;d=c.node,ue=s=c.page,P=$e(c),s?f=s.reg:P&&(f=P.reg);let h=!!s,g=!!P,y={fail:0,scope:d.scope};i=l=0;for(let m=u;m<d.seq.length&&!i;m++){let b=d.seq[m];if(b.order){let{priority:S,barrierID:I}=b.order,x=I?s?`${s.fullID}_${I}`:I:0;if(m!==u||$!==S){I?ca.has(x)||(ca.add(x),Wa(m,c,S,I)):Wa(m,c,S);continue e}I&&ca.delete(x)}switch(b.type){case"mov":{let I,x=b.data;switch(x.from){case Le:I=Ir(c);break;case"a":case"b":I=c[x.from];break;case"value":I=x.store;break;case"store":if(f&&!f[x.store.id])if(h){let E=Yl(s,x.store.id);c.page=s=E,E?f=E.reg:g?(tr(P,x.store,0,1,x.softRead),f=P.reg):f=void 0}else g&&tr(P,x.store,0,1,x.softRead);I=xr(f&&f[x.store.id]||x.store)}switch(x.to){case Le:c.value=I;break;case"a":case"b":c[x.to]=I;break;case"store":Kd(s,P,d,x.target).current=I}break}case"compute":let S=b.data;if(S.fn){rt=N(d,"op")==="watch",tt=S.pure;let I=S.safe?(0,S.fn)(Ir(c),y.scope,c):zd(y,S.fn,c);S.filter?l=!I:c.value=I,rt=v.isWatch,tt=v.isPure}}i=y.fail||l}if(!i){let m=Ir(c);G(d.next,S=>{je("child",s,S,c,m,$e(c))});let b=$e(c);if(b){N(d,"needFxCounter")&&je("child",s,b.fxCount,c,m,b),N(d,"storeChange")&&je("child",s,b.storeChange,c,m,b),N(d,"warnSerialize")&&je("child",s,b.warnSerializeNode,c,m,b);let S=b.additionalLinks[d.id];S&&G(S,I=>{je("child",s,I,c,m,b)})}}}Wr=v.isRoot,ue=v.currentPage,P=$e(v)}function ql(e,r="combine"){let t=r+"(",n="",a=0;return Dt(e,o=>{a<25&&(o!=null&&(t+=n,t+=Me(o)?Nn(o).fullName:o.toString()),a+=1,n=", ")}),t+")"}function Gl(e,r){let t,n,a=e;if(r){let o=Nn(r);e.length===0?(t=o.path,n=o.fullName):(t=o.path.concat([e]),n=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],n=e;return{shortName:a,fullName:n,path:t}}function Br(e,r){let t=r?e:e[0];Hl(t);let n=t.or,a=t.and;if(a){let o=r?a:a[0];if(de(o)&&"and"in o){let i=Br(a,r);e=i[0],n={...n,...i[1]}}else e=a}return[e,n]}function re(e,...r){let t=ir();if(t){let n=t.handlers[e];if(n)return n(t,...r)}}function w(e,r){let t=(a,...o)=>(Be(!N(t,"derived"),"call of derived event","createEvent"),Be(!tt,"unit call from pure function","operators like sample"),ue?((i,l,d,p)=>{let s=ue,f=null;if(l)for(f=ue;f&&f.template!==l;)f=fe(f);Vo(f);let v=i.create(d,p);return Vo(s),v})(t,n,a,o):t.create(a,o)),n=ir();return Object.assign(t,{graphite:Ee({meta:es("event",t,e,r),regional:1}),create:a=>(R({target:t,params:a,scope:P}),a),watch:a=>Jl(t,a),map:a=>fa(t,Ze,a,[Ie()]),filter:a=>fa(t,"filter",a.fn?a:a.fn,[Ie(Mn,1)]),filterMap:a=>fa(t,"filterMap",a,[Ie(),ce(o=>!H(o),1)]),prepend(a){let o=w("* \u2192 "+t.shortName,{parent:fe(t)});return re("eventPrepend",Q(o)),ze(o,t,[Ie()],"prepend",a),Zl(t,o),o}})}function j(e,r){let t=rr(e),n=w({named:"updates",derived:1});re("storeBase",t);let a=t.id,o={subscribers:new Map,updates:n,defaultState:e,stateRef:t,getState(){let f,v=t;if(ue){let u=ue;for(;u&&!u.reg[a];)u=fe(u);u&&(f=u)}return!f&&P&&(tr(P,t,1),f=P),f&&(v=f.reg[a]),xr(v)},setState:f=>R({target:o,params:f,defer:1,scope:P}),reset:(...f)=>(G(f,v=>o.on(v,()=>o.defaultState)),o),on:(f,v)=>(gt(f,".on","first argument"),Be(!N(o,"derived"),".on in derived store","createStore"),G(Array.isArray(f)?f:[f],u=>{o.off(u),et(o).set(u,Ql(Ho(u,o,"on",Bd,v)))}),o),off(f){let v=et(o).get(f);return v&&(v(),et(o).delete(f)),o},map(f,v){let u,c;de(f)&&(u=f,f=f.fn),Be(H(v),"second argument of store.map","updateFilter");let $=o.getState();ir()?c=null:H($)||(c=f($,v));let h=j(c,{name:`${o.shortName} \u2192 *`,derived:1,and:u}),g=Ho(o,h,Ze,za,f);return Va(te(h),{type:Ze,fn:f,from:t}),te(h).noInit=1,re("storeMap",t,g),h},watch(f,v){if(!v||!Me(f)){let u=Jl(o,f);return re("storeWatch",t,f)||f(o.getState()),u}return Y(ae(v),"second argument should be a function"),f.watch(u=>v(o.getState(),u))}},i=es("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=Ee({scope:{state:t,fn:l},node:[ce((f,v,u)=>(u.scope&&!u.scope.reg[t.id]&&(u.b=1),f)),qe(t),ce((f,v,{a:u,b:c})=>!H(f)&&(f!==u||c),1),l&&Ie(za,1),ee({from:Le,target:t})],child:n,meta:i,regional:1});let d=N(o,"derived"),p=N(o,"serialize")==="ignore",s=N(o,"sid");return s&&(p||Ne(o,"storeChange",1),t.sid=s),s||p||d||Ne(o,"warnSerialize",1),Y(d||!H(e),"current state can't be undefined, use null instead"),er(o,[n]),o}function Ft(...e){let r,t,n;[e,n]=Br(e);let a,o,i,l=e[e.length-1];if(ae(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let d=t[0];ne(d)||(a=d,o=1)}if(!o&&(a=t,r)){i=1;let d=r;r=p=>d(...p)}return Y(de(a),"shape should be an object"),Wd(Array.isArray(a),!i,a,n,r)}function _d(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function Fn(e,r){let t=w(ae(e)?{handler:e}:e,r),n=Q(t);Ne(n,"op",t.kind="effect"),t.use=v=>(Y(ae(v),".use argument should be a function"),p.scope.handler=v,t),t.use.getCurrent=()=>p.scope.handler;let a=t.finally=w({named:"finally",derived:1}),o=t.done=a.filterMap({named:"done",fn({status:v,params:u,result:c}){if(v==="done")return{params:u,result:c}}}),i=t.fail=a.filterMap({named:"fail",fn({status:v,params:u,error:c}){if(v==="fail")return{params:u,error:c}}}),l=t.doneData=o.map({named:"doneData",fn:({result:v})=>v}),d=t.failData=i.map({named:"failData",fn:({error:v})=>v}),p=Ee({scope:{handlerId:N(n,"sid"),handler:t.defaultConfig.handler||(()=>Y(0,`no handler used in ${t.getType()}`))},node:[ce((v,u,c)=>{let $=u,h=$.handler;if($e(c)){let g=$e(c).handlers[$.handlerId];g&&(h=g)}return v.handler=h,v},0,1),ce(({params:v,req:u,handler:c,args:$=[v]},h,g)=>{let y=ht(v,u,1,a,g),m=ht(v,u,0,a,g),[b,S]=rs(c,m,$);b&&(de(S)&&ae(S.then)?S.then(y,m):y(S))},0,1)],meta:{op:"fx",fx:"runner"}});n.scope.runner=p,Se(n.seq,ce((v,{runner:u},c)=>{let $=fe(c)?{params:v,req:{rs(h){},rj(h){}}}:v;return R({target:u,params:$,defer:1,scope:$e(c)}),$.params},0,1)),t.create=v=>{let u=_d(),c={params:v,req:u};if(P){if(!rt){let $=P;u.req.finally(()=>{Ud($)}).catch(()=>{})}R({target:t,params:c,scope:P})}else R(t,c);return u.req};let s=t.inFlight=j(0,{serialize:"ignore"}).on(t,v=>v+1).on(a,v=>v-1).map({fn:v=>v,named:"inFlight"});Ne(a,"needFxCounter","dec"),Ne(t,"needFxCounter",1);let f=t.pending=s.map({fn:v=>v>0,named:"pending"});return er(t,[a,o,i,l,d,f,s]),t}function Cd(e){let r;[e,r]=Br(e,1);let{source:t,effect:n,mapParams:a}=e,o=Fn(e,r);Ne(o,"attached",1);let i,{runner:l}=Q(o).scope,d=ce((s,f,v)=>{let u,{params:c,req:$,handler:h}=s,g=o.finally,y=ht(c,$,0,g,v),m=v.a,b=pt(h),S=1;if(a?[S,u]=rs(a,y,[c,m]):u=t&&b?m:c,S){if(!b)return s.args=[m,u],1;R({target:h,params:{params:u,req:{rs:ht(c,$,1,g,v),rj:y}},page:v.page,defer:1})}},1,1);if(t){let s;ne(t)?(s=t,er(s,[o])):(s=Ft(t),er(o,[s])),i=[qe(te(s)),d]}else i=[d];l.seq.splice(1,0,...i),o.use(n);let p=fe(n);return p&&(Object.assign(Nn(o),Gl(o.shortName,p)),o.defaultConfig.parent=p),Zl(n,o,"effect"),o}function Ka(e,r){gt(e,"merge","first argument");let t=w({name:ql(e,"merge"),derived:1,and:r});return ze(e,t,[],"merge"),t}function Ul(e,r){let t=0;return G(Xd,n=>{n in e&&(Y(e[n]!=null,ts(r,n)),t=1)}),t}function C(...e){let r,t,n,a,[[o,i,l],d]=Br(e),p=1;return H(i)&&de(o)&&Ul(o,"sample")&&(i=o.clock,l=o.fn,p=!o.greedy,a=o.filter,r=o.target,t=o.name,n=o.sid,o=o.source),as("sample",i,o,a,r,l,t,d,p,1,0,n)}function sa(...e){let[[r,t],n]=Br(e);return t||(t=r,r=t.source),Ul(t,"guard"),as("guard",t.clock,r,t.filter,t.target,null,t.name,n,!t.greedy,0,1)}function Go(e,r,t){if(ne(e))return Be(0,"restore($store)"),e;if(Kl(e)||pt(e)){let a=fe(e),o=j(r,{parent:a,name:e.shortName,and:t});return ze(pt(e)?e.doneData:e,o),a&&a.hooks.store(o),o}let n=Array.isArray(e)?[]:{};return Dt(e,(a,o)=>n[o]=ne(a)?a:j(a,{name:o})),n}let jd=typeof Symbol<"u"&&Symbol.observable||"@@observable",Ze="map",Le="stack",Me=e=>(ae(e)||de(e))&&"kind"in e;const qr=e=>r=>Me(r)&&r.kind===e;let ne=qr("store"),Kl=qr("event"),pt=qr("effect"),zl=qr("domain"),Dd=qr("scope");var W={__proto__:null,unit:Me,store:ne,event:Kl,effect:pt,domain:zl,scope:Dd};let ua=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},Se=(e,r)=>e.push(r),Be=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Q=e=>e.graphite||e,Nt=e=>e.family.owners,Lt=e=>e.family.links,te=e=>e.stateRef,Ir=e=>e.value,et=e=>e.subscribers,fe=e=>e.parent,$e=e=>e.scope,N=(e,r)=>Q(e).meta[r],Ne=(e,r,t)=>Q(e).meta[r]=t,Nn=e=>e.compositeName;const Ln=()=>{let e=0;return()=>""+ ++e};let Fd=Ln(),Vl=Ln(),Nd=Ln(),q=null,ir=()=>q&&q.template,Wl=e=>(e&&q&&q.sidRoot&&(e=`${q.sidRoot}|${e}`),e),Ld=({sid:e,name:r,loc:t,method:n,fn:a})=>Ua(Ee({meta:{sidRoot:Wl(e),name:r,loc:t,method:n}}),a),er=(e,r)=>{let t=Q(e);G(r,n=>{let a=Q(n);t.family.type!=="domain"&&(a.family.type="crosslink"),Se(Nt(a),t),Se(Lt(t),a)})},hr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Q),de=e=>typeof e=="object"&&e!==null,ae=e=>typeof e=="function",H=e=>e===void 0,Hl=e=>Y(de(e)||ae(e),"expect first argument be an object");const Uo=(e,r,t,n)=>Y(!(!de(e)&&!ae(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${n}`);let gt=(e,r,t)=>{Array.isArray(e)?G(e,(n,a)=>Uo(n,r,`${a} item of ${t}`,"")):Uo(e,r,t," or array of units")},Md=(e,r,t="target")=>G(hr(r),n=>Be(!N(n,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),za=(e,{fn:r},{a:t})=>r(e,t),Bd=(e,{fn:r},{a:t})=>r(t,e),Mn=(e,{fn:r})=>r(e);const Xl=(e,r,t,n)=>{let a={id:Vl(),type:e,data:r};return t&&(a.order={priority:t},n&&(a.order.barrierID=++qd)),a};let qd=0,ee=({from:e="store",store:r,target:t,to:n=t?"store":Le,batch:a,priority:o})=>Xl("mov",{from:e,store:r,to:n,target:t},o,a),Ar=({fn:e,batch:r,priority:t,safe:n=0,filter:a=0,pure:o=0})=>Xl("compute",{fn:e,safe:n,filter:a,pure:o},t,r),Bn=({fn:e})=>Ar({fn:e,priority:"effect"}),ce=(e,r,t)=>Ar({fn:e,safe:1,filter:r,priority:t&&"effect"}),qe=(e,r,t)=>ee({store:e,to:r?Le:"a",priority:t&&"sampler",batch:1}),Ie=(e=Mn,r)=>Ar({fn:e,pure:1,filter:r}),Ko={mov:ee,compute:Ar,filter:({fn:e,pure:r})=>Ar({fn:e,filter:1,pure:r}),run:Bn},rr=e=>({id:Vl(),current:e}),xr=({current:e})=>e,Va=(e,r)=>{e.before||(e.before=[]),Se(e.before,r)},Ye=null;const qn=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||Ha(e.v.type)>Ha(r.v.type))&&(t=e,e=r,r=t),t=qn(e.r,r),e.r=e.l,e.l=t,e},Gn=[];let zo=0;for(;zo<6;)Se(Gn,{first:null,last:null,size:0}),zo+=1;const Gd=()=>{for(let e=0;e<6;e++){let r=Gn[e];if(r.size>0){if(e===3||e===4){r.size-=1;let n=Ye.v;return Ye=qn(Ye.l,Ye.r),n}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},je=(e,r,t,n,a,o)=>Wa(0,{a:null,b:null,node:t,parent:n,value:a,page:r,scope:o},e),Wa=(e,r,t,n=0)=>{let a=Ha(t),o=Gn[a],i={v:{idx:e,stack:r,type:t,id:n},l:null,r:null};a===3||a===4?Ye=qn(Ye,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},Ha=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},ca=new Set;let P,Wr=1,rt=0,tt=0,ue=null,Ud=e=>{P=e},Vo=e=>{ue=e};const Yl=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=fe(e);if(e)return e}return null};let Kd=(e,r,t,n,a)=>{let o=Yl(e,n.id);return o?o.reg[n.id]:r?(tr(r,n,a),r.reg[n.id]):n},tr=(e,r,t,n,a)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!a){let d=0,p=t||!r.noInit||n;G(r.before,s=>{switch(s.type){case Ze:{let f=s.from;if(f||s.fn){f&&tr(e,f,t,n);let v=f&&o[f.id].current;p&&(l.current=s.fn?s.fn(v):v)}break}case"field":d||(d=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),tr(e,s.from,t,n),p&&(l.current[s.field]=o[o[s.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const zd=(e,r,t)=>{try{return r(Ir(t),e.scope,t)}catch(n){console.error(n),e.fail=1}};let Xa=(e,r={})=>(de(e)&&(Xa(e.or,r),Dt(e,(t,n)=>{H(t)||n==="or"||n==="and"||(r[n]=t)}),Xa(e.and,r)),r);const Wo=(e,r)=>{ua(e.next,r),ua(Nt(e),r),ua(Lt(e),r)},Ya=(e,r,t)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let a=Lt(e);for(;n=a.pop();)Wo(n,e),(r||t&&N(e,"op")!=="sample"||n.family.type==="crosslink")&&Ya(n,r,N(n,"op")!=="on"&&t);for(a=Nt(e);n=a.pop();)Wo(n,e),t&&n.family.type==="crosslink"&&Ya(n,r,N(n,"op")!=="on"&&t)},ur=e=>e.clear();let Vd=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),ne(e))ur(et(e));else if(zl(e)){t=1;let n=e.history;ur(n.events),ur(n.effects),ur(n.stores),ur(n.domains)}Ya(Q(e),!!r,t)},Ql=e=>{let r=()=>Vd(e);return r.unsubscribe=r,r},ze=(e,r,t,n,a)=>Ee({node:t,parent:e,child:r,scope:{fn:a},meta:{op:n},family:{owners:[e,r],links:r},regional:1}),Jl=(e,r)=>(Y(ae(r),".watch argument should be a function"),Ql(Ee({scope:{fn:r},node:[Bn({fn:Mn})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Zl=(e,r,t="event")=>{fe(e)&&fe(e).hooks[t](r)},es=(e,r,t,n)=>{let a=e==="domain",o=Fd(),i=Xa({or:n,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:d=null,named:p=null}=i,s=p||i.name||(a?"":o),f=Gl(s,l),v={op:r.kind=e,name:r.shortName=s,sid:r.sid=Wl(d),named:p,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=f,r.defaultConfig=i,r.thru=u=>(Be(0,"thru","js pipe"),u(r)),r.getType=()=>f.fullName,!a){r.subscribe=c=>(Hl(c),r.watch(ae(c)?c:$=>c.next&&c.next($))),r[jd]=()=>r;let u=ir();u&&(v.nativeTemplate=u)}return v};const fa=(e,r,t,n)=>{let a;de(t)&&(a=t,t=t.fn);let o=w({name:`${e.shortName} \u2192 *`,derived:1,and:a});return ze(e,o,n,r,t),o},Ho=(e,r,t,n,a)=>{let o=te(r),i=ee({store:o,to:"a",priority:"read"});t===Ze&&(i.data.softRead=1);let l=[i,Ie(n)];return re("storeOnMap",o,l,ne(e)&&te(e)),ze(e,r,l,t,a)},Wd=(e,r,t,n,a)=>{let o=e?c=>c.slice():c=>({...c}),i=e?[]:{},l=o(i),d=rr(l),p=rr(1);d.type=e?"list":"shape",d.noInit=1,re("combineBase",d,p);let s=j(l,{name:ql(t),derived:1,and:n}),f=te(s);f.noInit=1,Ne(s,"isCombine",1);let v=qe(d);v.order={priority:"barrier"};let u=[ce((c,$,h)=>(h.scope&&!h.scope.reg[d.id]&&(h.c=1),c)),v,ee({store:p,to:"b"}),ce((c,{key:$},h)=>{if(h.c||c!==h.a[$])return r&&h.b&&(h.a=o(h.a)),h.a[$]=c,1},1),ee({from:"a",target:d}),ee({from:"value",store:0,target:p}),ee({from:"value",store:1,target:p,priority:"barrier",batch:1}),qe(d,1),a&&Ie()];return Dt(t,(c,$)=>{if(!ne(c))return Y(!Me(c)&&!H(c),`combine expects a store in a field ${$}`),void(l[$]=i[$]=c);i[$]=c.defaultState,l[$]=c.getState();let h=ze(c,s,u,"combine",a);h.scope.key=$;let g=te(c);Va(d,{type:"field",field:$,from:g}),re("combineField",g,h)}),s.defaultShape=t,Va(f,{type:Ze,from:d,fn:a}),ir()||(s.defaultState=a?f.current=a(l):i),s};let rs=(e,r,t)=>{try{return[1,e(...t)]}catch(n){return r(n),[0,null]}},ht=(e,r,t,n,a)=>o=>R({target:[n,Hd],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:a.page,scope:$e(a)});const Hd=Ee({node:[Bn({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),Xd=["source","clock","target"],ts=(e,r)=>e+`: ${r} should be defined`;let as=(e,r,t,n,a,o,i,l,d,p,s,f)=>{let v=!!a;Y(!H(t)||!H(r),ts(e,"either source or clock"));let u=0;H(t)?u=1:Me(t)||(t=Ft(t)),H(r)?r=t:(gt(r,e,"clock"),Array.isArray(r)&&(r=Ka(r))),u&&(t=r),l||i||(i=t.shortName);let c="none";(s||n)&&(Me(n)?c="unit":(Y(ae(n),"`filter` should be function or unit"),c="fn")),a?(gt(a,e,"target"),Md(e,a)):c==="none"&&p&&ne(t)&&ne(r)?a=j(o?o(xr(te(t)),xr(te(r))):xr(te(t)),{name:i,sid:f,or:l}):(a=w({name:i,derived:1,or:l}),re("sampleTarget",Q(a)));let $=rr(),h=[];if(c==="unit"){let[m,b]=Xo(n,a,r,$,e);h=[...va(b),...va(m)]}let[g,y]=Xo(t,a,r,$,e);return er(t,[ze(r,a,[re("sampleSourceLoader"),ee({from:Le,target:$}),...va(y),qe(g,1,d),...h,qe($),c==="fn"&&Ie((m,b,{a:S})=>n(m,S),1),o&&Ie(za),re("sampleSourceUpward",v)],e,o)]),a};const va=e=>[qe(e),ce((r,t,{a:n})=>n,1)],Xo=(e,r,t,n,a)=>{let o=ne(e),i=o?te(e):rr(),l=rr(o);return o||Ee({parent:e,node:[ee({from:Le,target:i}),ee({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:a},regional:1}),re("sampleSource",l,i,n),[i,l]};function at(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function wr(e){var r,t;e.status="active",r=nt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function nt(e){return e.group.activeChilds[e.priority]}function Yo(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&wr(r)}function X(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(wr(r),nt(r).first||at(r.group,r.priority)));var t,n,a,o;r.status==="active"&&(r.status="pending",nt(r).first||((a=r.group).queue[o=r.priority].last?(a.cursor[o].prev=a.queue[o].last,a.queue[o].last.cursor[o].next=a,a.queue[o].last=a):a.queue[o].first=a.queue[o].last=a),n=r,(t=nt(r)).last?(n.cursor.prev=t.last,t.last.cursor.next=n,t.last=n):t.first=t.last=n),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=ps(r.group.queue.execQueue))}function Yd(e){De("execQueue");let r,t,n=Re(),a=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(Re()-n>=1e3){a=1;break e}let o=!!e.props.first;for(o&&De("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(Re()-n>=1e3){a=1,se("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,wr(t)}at(r,"props")}o&&se("props");let i=!!e.tree.first;for(i&&De("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(Re()-n>=1e3){a=1,se("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,wr(t)}at(r,"tree")}i&&se("tree");let l=!!e.data.first;for(l&&De("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(Re()-n>=1e3){a=1,se("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,wr(t)}at(r,"data")}l&&se("data")}if(se("execQueue"),a)e.rafID=ps(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function Or({value:e,runOp:r,group:t,priority:n}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:n,group:t,cursor:{prev:null,next:null}}}function Qd({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=Yd.bind(null,r),r}function _r(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function Jd({value:e,group:r,onInit:t,onChange:n}){let a=Or({value:e,group:r,runOp(i){o.status="A",n(i)},priority:"data"}),o={status:"IA",value:a.value,ops:{init:Or({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:a,terminate:Or({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return X(1,o.ops.init),o}function Zd(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",X(1,e.ops.terminate);break;case"AA":e.status="AT",X(1,e.ops.terminate),X(e.value.active,e.ops.change);break;case"IA":e.status="T",X(0,e.ops.init)}}function ep(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",X(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",X(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function rp(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function ns(e,r){for(let t=0;t<r.length;t++){let{type:n,field:a,value:o}=r[t];lp[n](e,a,o)}}function Mt(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function os(e,r,t){Mt(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function is(e,r,t){Mt(t)?delete e.style[r]:e.style[r]=`${t}`}function ls(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function ss(e,r,t){Mt(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function us(e,r,t){if(Mt(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function Qa(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function yt({fn:e,state:r={},defer:t=0,name:n="",draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:d=0}){let p=A,s={id:++up,name:n,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:sp,upward:Ko.filter({fn(v,u,c){if(!c.page){if(!c.parent||!c.parent.page)return 1;c.page=c.parent.page}if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page upward"),0;let $=[c.page.template],h=[c.page];{let g=c.page.parent;for(;g;)h.push(g),$.push(g.template),g=g.parent}return c.node.next.forEach(g=>{let y=g.meta.nativeTemplate;if(y)if($.includes(y)){let m=h[$.indexOf(y)];R({target:g,params:v,defer:1,page:m,stack:c,scope:c.scope})}else console.error("context drift",{stack:c,node:g});else R({target:g,params:v,defer:1,page:c.page,stack:c,scope:c.scope})}),0}}),loader:Ko.filter({fn(v,u,c){if(c.parent){let $=c.scope?c.scope.graphite.id:null;if(c.page){if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page loader"),0;if(c.page.template===s)return 1;if(c.page.root.childSpawns[c.page.fullID][s.id])c.page.root.childSpawns[c.page.fullID][s.id].forEach(h=>{(!$||h.root.scope&&$===h.root.scope.graphite.id)&&R({params:v,target:c.node,page:h,defer:1,scope:c.scope})});else{let h=c.page.fullID,g=c.page.template.name==="rec";s.pages.forEach(y=>{if(!$||y.root.scope&&$===y.root.scope.graphite.id)if(y.fullID===h||y.fullID.startsWith(`${h}_`)){let m=1;if(g){let b=c.page.template.id,S=y.parent;for(;S&&S!==c.page;){if(S.template.id===b){m=0;break}S=S.parent}}m&&R({params:v,target:c.node,page:y,defer:1,scope:c.scope})}else h.startsWith(`${y.fullID}_`)&&R({params:v,target:c.node,page:c.page,defer:1,scope:c.scope})})}}else s.pages.forEach(h=>{(!$||h.root.scope&&$===h.root.scope.graphite.id)&&R({params:v,target:c.node,page:h,defer:1,scope:c.scope})});return 0}return 1}}),parent:p,node:null,api:null,trigger:{mount:w({named:"mount"})},draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:d||!(!p||!p.isBlock)};p&&p.childTemplates.push(s);let f=Ee({meta:{template:s}});return s.node=f,A=s,t?s.deferredInit=()=>{let v=A;A=s,s.deferredInit=null;try{Ua(f,()=>{let u=Go(r);s.api=e(u,s.trigger),s.nameMap=u})}finally{A=v}}:Ua(f,()=>{let v=Go(r);s.api=e(v,s.trigger),s.nameMap=v}),A=p,s}function tp(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function cs(e,r,t){let n=r;for(;n&&!Cr(n,e);)n=n.parent;return n?Cr(n,e):t?(t.getState(e),t.reg[e.id]):e}function da(e,r){Cr(r,e)||(r.reg[e.id]=cs(e,r.parent,r.root.scope))}function Qo(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function mt(e,{values:r={},parentLeaf:t,mountNode:n,svgRoot:a,leafData:o,opGroup:i,domSubtree:l,hydration:d,root:p}){function s(h){if(h.before)for(let g=0;g<h.before.length;g++){let y=h.before[g];switch(y.type){case"map":{let m,b=y.from;if(!y.fn&&!b)break;b&&(da(b,u),m=v[b.id].current),v[h.id].current=y.fn?y.fn(m):m;break}case"field":{let m=y.from;da(m,u),v[h.id].current[y.field]=v[m.id].current;break}case"closure":da(y.of,u)}}}function f(h,g,y){let m;g.stop=1;try{for(;g.i<h.length;)m=h[g.i],g.i++,m.fn(y[m.of.id]?y[m.of.id].current:cs(m.of,u.parent,u.root.scope).current)}catch(b){console.error(b),g.stop=0}}let v={},u={draft:e.draft,svgRoot:a,data:o,parent:t,hydration:d,mountNode:n,root:p,id:++cp,fullID:"",reg:v,template:e};e.pages.push(u);let c=Je;Je=u,t&&Qo([u],e.id,p.childSpawns[t.fullID]),u.fullID=t?`${t.fullID}_${u.id}`:`${u.id}`,p.childSpawns[u.fullID]={},p.activeSpawns.add(u.fullID),p.leafOps[u.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let g=e.closure[h],y=g,m=u.parent;e:for(;m;){if(Cr(m,g)){y=Cr(m,g);break e}m=m.parent}!m&&p.scope&&(p.scope.getState(g),y=p.scope.reg[g.id]),v[g.id]=y}for(let h=0;h<e.plain.length;h++){let g=e.plain[h],y={id:g.id,current:tp(g,p.scope)};v[g.id]=y}for(let h in r){let g=e.nameMap[h].stateRef.id;v[g]={id:g,current:r[h]}}e.closure.forEach(s),e.plain.forEach(s);let $={i:0,stop:0};for(;!$.stop;)f(e.watch,$,v);if(t)for(let h in p.childSpawns[u.fullID])Qo(p.childSpawns[u.fullID][h],h,p.childSpawns[t.fullID]);if(ye)ye.steps.push({target:e.trigger.mount,params:u,defer:1,page:u,scope:p.scope});else{let h;ye={parent:ye,steps:[{target:e.trigger.mount,params:u,defer:1,page:u,scope:p.scope}]};do for(;h=ye.steps.shift();)ye={parent:ye,steps:[]},R(h);while(ye=ye.parent)}return Je=c,u}function $t(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function bt(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=bt(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=bt(r);if(t)return t;r=r.left}return null}default:return null}}function St(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=bt(r);if(t)return t;r=r.left}return St(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let n=r.child[t];if(!n)continue;let a=bt(n);if(a)return a}switch(r.type){case"element":case"using":return null}return St(r)}default:return null}}function Ja(e){let r=St(e);return r?r.value:null}function It(e,r){if(!e)throw Error(r)}function Un(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function fs(e){if(!A)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(A.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=A.draft.childCount,A.draft.childCount+=1,A.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${A.draft.type}`)}}function be(e,{parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o}){e.childTemplates.forEach(i=>{vs({parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o,actor:i})})}function vs({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:n,svgRoot:a,values:o}){let i;It(fp.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=n,{queue:d}=r.root.leafOps[r.fullID].group,p=_r(d),s=r.root.leafOps[r.fullID].domSubtree,f=s;switch(l.type){case"route":{let u={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"route",block:u,ops:{},initialized:0,pendingInit:null};break}case"element":{let u;if(n.isBlock){let $,h,g=r;for(;g&&(!h||!$);){g.template.env&&($=g.template.env);let{draft:y}=g;y.type==="element"&&(y.tag==="svg"?h="svg":y.tag==="foreignObject"&&(h="html")),g=g.parent}h||(h="html"),$&&(u=h==="svg"?$.document.createElementNS("http://www.w3.org/2000/svg",l.tag):$.document.createElement(l.tag),ns(u,l.staticSeq))}else u=l.stencil.cloneNode();let c={type:"element",parent:e,child:[],value:u,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"element",block:c,ops:{visible:Or({value:0,priority:"tree",runOp($){if($){ds(c);let h=i;h.needToCallNode&&(h.needToCallNode=0,R({target:xt,params:{element:c.value,fns:l.node},page:v,scope:r.root.scope})),c.visible=1}else c.value.remove(),c.visible=0},group:s})},needToCallNode:l.node.length>0},f=_r(d);break}case"list":{let u={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"list",draft:l,block:u,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let u={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec",block:u};break}case"recItem":{let u={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec item",block:u};break}case"block":{let u={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block",block:u};break}case"blockItem":{let u={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block item",block:u};break}default:console.warn(`unexpected draft type ${l.type}`)}let v=mt(n,{values:o,parentLeaf:r,mountNode:t,svgRoot:a||r.svgRoot,leafData:i,opGroup:p,domSubtree:f,hydration:r.hydration,root:r.root})}function ds(e){let r=Ja(e);r?r.after(e.value):$t(e).prepend(e.value),e.visible=1}function yr({mount:e,state:r,onMount:t,onState:n}){return{onMount:C({source:r,clock:e,fn:t,greedy:1}),onState:C({source:e,clock:r,fn:n,greedy:1})}}function Er(e,r){for(let t in e)r(e[t],t)}function Jo(e,r){if(!A)return;let t=A.draft;It(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)It(W.unit(r[l]),`handler for "${l}" should be event`);let{passive:n=0,capture:a=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:n,capture:a},map:r})}function xe(e){Un(A,"spec");let r=A.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let a=e.text,o=r.childCount;Array.isArray(a)?(r.text.push(...a.map((i,l)=>({index:l+o,value:i}))),r.childCount+=a.length):(r.text.push({index:o,value:a}),r.childCount+=1)}if(e.style){let a={};for(let o in e.style)a[rp(o)]=e.style[o];r.style.push(a)}var t,n;if(e.classList&&(t=e.classList,n=a=>r.classList.push(a),Array.isArray(t)?t.forEach(a=>{let o=typeof a=="string"?a:a.map(l=>l||""),i=typeof a=="string"?1:a.map(l=>l!==null);n({name:o,enabled:i})}):Er(t,(a,o)=>{n({name:o,enabled:a})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let a=e.handler;typeof a.on=="object"?Jo(a.config||{},a.on):Jo(a)}e.\u0254&&xe(e.\u0254)}function pa(e,{initCtx:r,runOp:t,hooks:{onMount:n,onState:a}}){let o=e.opsAmount++;n.watch(({value:i,leaf:l})=>{let d=r(i,l),p=Or({value:i,priority:"props",runOp(s){t(s,d)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=p}),a.watch(({value:i,leaf:l})=>{X(i,l.root.leafOps[l.fullID].group.ops[o])})}function Hr(e,r,t){e[r].forEach(n=>{Er(n,(a,o)=>{switch(r){case"data":case"styleVar":t[r][o]=a;break;case"attr":t.attr[o==="xlink:href"?"href":o]=a;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=a:t.style[o]=a}})})}function Zo(e,r,t){let n=e.data.block,a={type:"text",parent:n,visible:0,index:t,value:null};if(n.child[t]=a,e.hydration){let o=St(a);if(o)switch(o.type){case"text":a.value=e.root.env.document.createTextNode(r),o.value.after(a.value);break;case"element":a.value=o.value.nextSibling,Qa(a.value,r)}else{let i=$t(a);a.value=i.firstChild,Qa(a.value,r)}a.visible=1}else a.value=e.root.env.document.createTextNode(r),ds(a);return a}function cr(e){let r=e.stateRef,t=A;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function O(e,r){let t,n=0,a=0;typeof r=="function"?(n=1,t=r):r&&(a=1,r.fn&&(n=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(n=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(n=1,t=r.\u0254.fn))),Un(A,"h");let o,i=A.env,l=A.namespace,d=l,p="html";d=p=l==="svg"?"svg":"html",e==="svg"&&(p="svg",d="svg"),A.isBlock||(o=p==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let s=o,f={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:s,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(f.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),d="html"):e==="svg"?(f.attr.push({xmlns:"http://www.w3.org/2000/svg"}),d="svg"):e==="foreignObject"&&(d="foreignObject");let v=yt({name:"element",draft:f,isSvgRoot:e==="svg",namespace:d,fn(u,{mount:c}){let $=w({named:"domElementCreated"});n&&t(),a&&xe(r),W.unit(f.visible)&&(f.seq.push({type:"visible",value:f.visible}),cr(f.visible));let h={attr:{},data:{},style:{},styleVar:{}};Hr(f,"attr",h),Hr(f,"data",h),Hr(f,"style",h),Hr(f,"styleVar",h),Er(h,(g,y)=>{Er(g,(m,b)=>{W.unit(m)?(f.seq.push({type:y,field:b,value:m}),cr(m)):f.staticSeq.push({type:y,field:b,value:m})})}),f.classList.forEach(g=>{if(W.unit(g.name)||W.unit(g.enabled)){let y=W.unit(g.name)?g.name:j(g.name),m=W.unit(g.enabled)?g.enabled:j(g.enabled);f.seq.push({type:"classList",field:y,value:m}),cr(y),cr(m)}else W.unit(g.name)||f.staticSeq.push({type:"classList",field:g.name,value:g.enabled})}),f.text.forEach(g=>{g.value!==null&&(W.unit(g.value)?(f.seq.push({type:"dynamicText",value:g.value,childIndex:g.index}),cr(g.value)):f.seq.push({type:"staticText",value:String(g.value),childIndex:g.index}))}),f.handler.forEach(g=>{Er(g.map,(y,m)=>{f.seq.push({type:"handler",for:m,handler:y,options:g.options,domConfig:g.domConfig})})}),s&&ns(s,f.staticSeq),f.seq.forEach(g=>{switch(g.type){case"visible":{let{onMount:y,onState:m}=yr({mount:c,state:g.value,onMount:(b,S)=>({leaf:S,value:b,hydration:S.hydration}),onState:(b,S)=>({leaf:b,value:S,hydration:0})});y.watch(({leaf:b,value:S,hydration:I})=>{let x=b.data,E=x.block;if(I&&(Yo(S,x.ops.visible),S)){let _,B=Ja(E);if(_=B?B.nextSibling:$t(E).firstChild,_.nodeName==="#text"){let pe=_;_=_.nextSibling,pe.remove()}E.value=_,E.visible=1}be(f,{parentBlockFragment:E,leaf:b,node:E.value,svgRoot:v.isSvgRoot?E.value:null}),S&&x.needToCallNode&&(x.needToCallNode=0,R({target:xt,params:{element:x.block.value,fns:f.node},page:b,defer:1,scope:b.root.scope})),R({target:$,params:b,defer:1,page:b,scope:b.root.scope})}),Ka([m,y]).watch(({leaf:b,value:S,hydration:I})=>{I||X(S,b.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let y=ai[g.type],m=vp.some(({type:S,field:I})=>g.type===S&&g.field===I),b=yr({mount:$,state:g.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});m?Ka([b.onState,b.onMount]).watch(({leaf:S,value:I})=>{y(Xr(S),g.field,I)}):pa(f,{initCtx(S,I){let x=Xr(I);return y(x,g.field,S),x},runOp(S,I){y(I,g.field,S)},hooks:b});break}case"classList":{let y=ai.classList,m=j({prev:"",curr:g.field.getState()}).on(g.field,({curr:S},I)=>({prev:S,curr:I})),b=yr({mount:$,state:Ft({name:m,enabled:g.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});pa(f,{initCtx(S,I){let x=Xr(I);return y(x,S.name.curr,S.enabled),x},runOp(S,I){S.name.prev!==S.name.curr&&y(I,S.name.prev,0),y(I,S.name.curr,S.enabled)},hooks:b});break}case"dynamicText":pa(f,{initCtx:(y,m)=>Zo(m,y,g.childIndex),runOp(y,m){Qa(m.value,y)},hooks:yr({mount:$,state:g.value,onMount:(y,m)=>({leaf:m,value:String(y)}),onState:(y,m)=>({leaf:y,value:String(m)})})});break;case"staticText":$.watch(y=>{Zo(y,g.value,g.childIndex)});break;case"handler":{let y=g.handler.graphite.meta.nativeTemplate||null;$.watch(m=>{let b=null;if(y){let S=0,I=m;for(;!S&&I;)I.template===y?(S=1,b=I):I=I.parent}else b=null;Xr(m).addEventListener(g.for,S=>{g.options.prevent&&S.preventDefault(),g.options.stop&&S.stopPropagation(),R({target:g.handler,params:S,page:b,scope:m.root.scope})},g.domConfig)});break}}}),c.watch(g=>{let y=g.data;if(!f.visible){let m=y.ops.visible,b=y.block;if(g.hydration){Yo(1,m);let S,I=Ja(b);if(S=I?I.nextSibling:$t(b).firstChild,S.nodeName==="#text"){let x=S;S=S.nextSibling,x.remove()}b.value=S,b.visible=1}be(f,{parentBlockFragment:b,leaf:g,node:b.value,svgRoot:v.isSvgRoot?b.value:null}),R({target:$,params:g,defer:1,page:g,scope:g.root.scope}),g.hydration?y.needToCallNode&&(y.needToCallNode=0,R({target:xt,params:{element:y.block.value,fns:f.node},page:g,defer:1,scope:g.root.scope})):X(1,m)}})},env:i});fs(v)}function ei(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function ap(e,r){let t,n,a,o,i,l;if(typeof r=="function")t=r,a=ei(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,a=r.env?r.env:ei(),o=r.hydrate,n=r.onComplete,i=r.onRoot,l=r.scope}It(e,"using() first argument is missing");let d={scope:l,env:a,activeSpawns:new Set,childSpawns:{},leafOps:{}},p=e.namespaceURI,s=e.tagName.toLowerCase(),f={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},v=yt({name:"using",draft:f,isSvgRoot:s==="svg",namespace:p==="http://www.w3.org/2000/svg"?"svg":s==="foreignobject"?"foreignObject":"html",fn(h,{mount:g}){t(),g.watch(gs.using)},env:a}),u={type:"using",child:[],value:e},c=Qd({onComplete:n}),$=mt(v,{parentLeaf:Je||null,mountNode:e,svgRoot:v.isSvgRoot?e:Je?Je.svgRoot:null,leafData:{type:"using",draft:f,element:e,block:u},opGroup:_r(c),domSubtree:_r(c),hydration:o,root:d});if(i&&i({template:v,leaf:$}),c.onDrain&&!c.rafID){let h=c.onDrain;c.onDrain=null,h()}}function Za(e,r){let t=e.root.childSpawns[e.fullID];for(let n in t){let a=t[n];for(let o=0;o<a.length;o++)r(a[o])}}function np(e,r){let t=n=>{let a=n.data;if(e&&a.type==="list"&&a.pendingUpdate){let o=a.pendingUpdate;a.pendingUpdate=null,R({target:n.template.api.pendingUpdate,params:o,defer:1,page:n,scope:n.root.scope})}if(e&&a.type==="route"){if(a.pendingInit){let o=a.pendingInit.value;a.pendingInit=null,R({target:n.template.api.pendingInit,params:o,defer:1,page:n,scope:n.root.scope})}else if(!a.block.visible)return}switch(a.type){case"element":X(e,a.ops.visible);break;case"route":case"list":case"list item":Za(n,t);break;default:console.log("unsupported type",a.type)}};Za(r,t)}function ga(e){e.root.activeSpawns.delete(e.fullID),Za(e,Kn)}function ha(e){Tr(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Tr(e,e.template.pages)}function Kn(e){let{data:r,root:t}=e;switch(r.type){case"element":Tr(e,t.childSpawns[e.parent.fullID][e.template.id]),function n(a){t.activeSpawns.delete(a.fullID);let o=t.childSpawns[a.fullID];delete t.childSpawns[a.fullID],delete t.leafOps[a.fullID],Tr(a,a.template.pages);for(let i in o)o[i].forEach(n)}(e),X(0,r.ops.visible);break;case"list":{let n=r.records;for(let a=0;a<n.length;a++){let o=n[a];o.instance&&Kn(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),ha(e);break}case"list item":{let n=r.block;Tr(n,n.parent.child);let a=n.left,o=n.right;a&&(a.right=o,o||n.parent.lastChild!==n||(n.parent.lastChild=a)),o&&(o.left=a),a||o||n.parent.lastChild!==n||(n.parent.lastChild=null),n.left=null,n.right=null,ga(e),ha(e);break}case"route":ga(e),ha(e);break;case"block":case"block item":case"rec":case"rec item":ga(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Tr(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function op(e,r){if(Array.isArray(r))return r.map(t=>e.map(n=>n[t]));if(typeof r=="object"&&r!==null){let t={};for(let n in r){let a=r[n];t[n]=e.map(typeof a=="function"?o=>a(o):o=>o[a])}return t}return e.map(t=>t[r])}function en(e,r){Un(A,"list"),typeof r=="function"&&(W.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:n,source:a,fields:o=[]}=e,i=n!==void 0?typeof n=="function"?n:s=>s[n]:(s,f)=>f,l={type:"list",key:W.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:d,namespace:p}=A;fs(yt({name:"list",draft:l,isSvgRoot:0,namespace:p,fn(s,{mount:f}){let v=yt({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:p,fn({id:y,store:m},{mount:b}){t({store:m,key:y,fields:op(m,o)});let S=w({named:"itemUpdater"});if(m.on(S,(I,x)=>x),l.itemVisible){let{onMount:I,onState:x}=yr({mount:b,state:l.itemVisible,onMount:(E,_)=>({visible:E,leaf:_}),onState:(E,_)=>({visible:_,leaf:E})});I.watch(({visible:E,leaf:_})=>{let B=_.data.block;B.visible=E,B.childInitialized=E,E&&be(l,{parentBlockFragment:B,leaf:_})}),x.watch(({visible:E,leaf:_})=>{let B=_.data.block;B.visible=E,B.childInitialized?np(E,_):E&&(B.childInitialized=1,be(l,{parentBlockFragment:B,leaf:_}))})}else b.watch(gs.listItem);return{itemUpdater:S}},env:d}),u=j([]),c=a.map(y=>y),$=C({source:a,clock:f,fn:(y,m)=>({updates:y,leaf:m,hydration:m.hydration}),greedy:1}),h=w(),g=C({source:$,clock:[c,h],fn:({leaf:y},m)=>({updates:m,leaf:y,hydration:0}),greedy:1});return C({source:u,clock:[$,g],greedy:1,fn(y,{updates:m,leaf:b,hydration:S}){let I=b.data,x=b;for(;x;){if(x.data.type==="route"&&!x.data.block.visible)return void(I.pendingUpdate=m);x=x.parent}let E=I.block;De("list update ["+a.shortName+"]");let _=Array(m.length).fill(0),B=m.map(i),pe=[];for(let ge=0;ge<y.length;ge++){let ie=y[ge],Te=B.indexOf(ie.key);Te!==-1?(pe.push(ie),_[Te]=1,ep(m[Te],ie.asyncValue)):(ie.active=0,ie.instance&&Kn(ie.instance),Zd(ie.asyncValue))}for(let ge=0;ge<m.length;ge++){if(_[ge])continue;let ie=m[ge],Te=B[ge],zt=_r(b.root.leafOps[b.fullID].group.queue),ke={type:"LF",parent:E,child:[],childInitialized:0,visible:0,left:null,right:null},le={type:"listItem",key:Te,index:Te,active:1,leafData:{type:"list item",block:ke,listDraft:l},asyncValue:Jd({value:ie,group:zt,onChange(_e){le.instance&&R({target:le.instance.template.api.itemUpdater,params:_e,defer:1,page:le.instance,scope:le.instance.root.scope})},onInit(_e){le.active&&(S||(le.instance=mt(v,{values:{id:Te,store:_e},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:le.leafData,opGroup:zt,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root})))}})},fo=pe.length;pe.push(le);let vo=fo>0?pe[fo-1].leafData:null;if(E.child.push(ke),vo){let _e=vo.block;ke.left=_e;let Vt=_e.right;Vt?(Vt.left=ke,ke.right=Vt):E.lastChild=ke,_e.right=ke}else E.lastChild=ke;S&&(le.instance=mt(v,{values:{id:Te,store:ie},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:le.leafData,opGroup:zt,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root}))}return se("list update ["+a.shortName+"]"),pe.length===0&&(E.lastChild=null),I.records=pe,pe},target:u}),{pendingUpdate:h}},env:d}))}function ip(e,r){if(r.length===0)return e;let t=[e[0]];for(let n=0;n<r.length;n++)t.push(r[n],e[n+1]);return t}function kr(e,...r){Array.isArray(e)?xe({text:ip(e,r)}):xe({text:e})}let Re;Re=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let rn=new Map;const mr=[],ri=e=>{let r=rn.get(e);r||(r={calls:0,time:0,label:e,childTime:0},rn.set(e,r)),r.calls+=1,mr.push({bucket:r,pendingStart:Re()})},ti=e=>{let r=rn.get(e),t=mr.pop().pendingStart,n=Re()-t;r.time+=n,mr.length>0&&(mr[mr.length-1].bucket.childTime+=n)};let De,se;typeof performance<"u"&&performance.mark?(De=e=>{performance.mark("\u2604\uFE0F "+e+" start"),ri(e)},se=e=>{ti(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(De=e=>{ri(e)},se=e=>{ti(e)});let ps=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const lp={attr:us,data:ss,style:is,styleVar:os,classList:ls},he=(e,r)=>e.includes(r);let sp={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,n){var a,o;t.unshift(e.loader),t.push(e.upward),n&&(he(e.plain,n)||(he(e.closure,n)||e.closure.push(n),o={type:"closure",of:n},(a=r).before||(a.before=[]),a.before.push(o)))},storeMap(e,r,t){he(e.plain,r)||he(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){he(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){he(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,n){r.current?he(e.plain,t)||he(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),he(e.plain,n)||e.plain.push(n)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},up=0,cp=0,A=null,Je=null;const Cr=(e,r)=>e.reg[r.id];let ye=null;const fp=["LF","using","element","recItem","rec","block","blockItem","route"];let xt=w({named:"onMount"});xt.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const vp=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],ai={attr:us,data:ss,style:is,styleVar:os,classList:ls},Xr=e=>e.data.block.value;let gs={using(e){let r=e.data;be(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,be(r,{parentBlockFragment:t.block,leaf:e})},block(e){be(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){vs({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){be(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,be(r.listDraft,{parentBlockFragment:t,leaf:e})}};var hs={},dp=_l,pp=Rn,ys=Object.keys||function(r){return dp(r,pp)},gp=U,hp=El,yp=z,mp=V,$p=Oe,bp=ys;hs.f=gp&&!hp?Object.defineProperties:function(r,t){mp(r);for(var n=$p(t),a=bp(t),o=a.length,i=0,l;o>i;)yp.f(r,l=a[i++],n[l]);return r};var Sp=nr,Ip=Sp("document","documentElement"),xp=V,wp=hs,ni=Rn,Op=Pt,Ep=Ip,Tp=xn,kp=Tn,oi=">",ii="<",tn="prototype",an="script",ms=kp("IE_PROTO"),ya=function(){},$s=function(e){return ii+an+oi+e+ii+"/"+an+oi},li=function(e){e.write($s("")),e.close();var r=e.parentWindow.Object;return e=null,r},Pp=function(){var e=Tp("iframe"),r="java"+an+":",t;return e.style.display="none",Ep.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write($s("document.F=Object")),t.close(),t.F},Yr,ot=function(){try{Yr=new ActiveXObject("htmlfile")}catch{}ot=typeof document<"u"?document.domain&&Yr?li(Yr):Pp():li(Yr);for(var e=ni.length;e--;)delete ot[tn][ni[e]];return ot()};Op[ms]=!0;var Bt=Object.create||function(r,t){var n;return r!==null?(ya[tn]=xp(r),n=new ya,ya[tn]=null,n[ms]=r):n=ot(),t===void 0?n:wp.f(n,t)},Rp=D,Ap=Bt,_p=z.f,nn=Rp("unscopables"),on=Array.prototype;on[nn]==null&&_p(on,nn,{configurable:!0,value:Ap(null)});var qt=function(e){on[nn][e]=!0},Gr={},Cp=k,jp=!Cp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Dp=ve,Fp=F,Np=Nr,Lp=Tn,Mp=jp,si=Lp("IE_PROTO"),ln=Object,Bp=ln.prototype,bs=Mp?ln.getPrototypeOf:function(e){var r=Np(e);if(Dp(r,si))return r[si];var t=r.constructor;return Fp(t)&&r instanceof t?t.prototype:r instanceof ln?Bp:null},qp=k,Gp=F,ui=bs,Up=Ae,Kp=D,sn=Kp("iterator"),Ss=!1,Ge,ma,$a;[].keys&&($a=[].keys(),"next"in $a?(ma=ui(ui($a)),ma!==Object.prototype&&(Ge=ma)):Ss=!0);var zp=Ge==null||qp(function(){var e={};return Ge[sn].call(e)!==e});zp&&(Ge={});Gp(Ge[sn])||Up(Ge,sn,function(){return this});var Is={IteratorPrototype:Ge,BUGGY_SAFARI_ITERATORS:Ss},Vp=z.f,Wp=ve,Hp=D,ci=Hp("toStringTag"),zn=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Wp(e,ci)&&Vp(e,ci,{configurable:!0,value:r})},Xp=Is.IteratorPrototype,Yp=Bt,Qp=Et,Jp=zn,Zp=Gr,eg=function(){return this},rg=function(e,r,t,n){var a=r+" Iterator";return e.prototype=Yp(Xp,{next:Qp(+!n,t)}),Jp(e,a,!1),Zp[a]=eg,e},tg=F,ag=String,ng=TypeError,og=function(e){if(typeof e=="object"||tg(e))return e;throw ng("Can't set "+ag(e)+" as a prototype")},ig=T,lg=V,sg=og,xs=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=ig(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(a,o){return lg(a),sg(o),e?t(a,o):a.__proto__=o,a}}():void 0),ug=L,cg=oe,ws=On,fg=F,vg=rg,fi=bs,vi=xs,dg=zn,pg=or,ba=Ae,gg=D,hg=Gr,Os=Is,yg=ws.PROPER,mg=ws.CONFIGURABLE,di=Os.IteratorPrototype,Qr=Os.BUGGY_SAFARI_ITERATORS,fr=gg("iterator"),pi="keys",vr="values",gi="entries",$g=function(){return this},Vn=function(e,r,t,n,a,o,i){vg(t,r,n);var l=function(g){if(g===a&&v)return v;if(!Qr&&g in s)return s[g];switch(g){case pi:return function(){return new t(this,g)};case vr:return function(){return new t(this,g)};case gi:return function(){return new t(this,g)}}return function(){return new t(this)}},d=r+" Iterator",p=!1,s=e.prototype,f=s[fr]||s["@@iterator"]||a&&s[a],v=!Qr&&f||l(a),u=r=="Array"&&s.entries||f,c,$,h;if(u&&(c=fi(u.call(new e)),c!==Object.prototype&&c.next&&(fi(c)!==di&&(vi?vi(c,di):fg(c[fr])||ba(c,fr,$g)),dg(c,d,!0))),yg&&a==vr&&f&&f.name!==vr&&(mg?pg(s,"name",vr):(p=!0,v=function(){return cg(f,this)})),a)if($={values:l(vr),keys:o?v:l(pi),entries:l(gi)},i)for(h in $)(Qr||p||!(h in s))&&ba(s,h,$[h]);else ug({target:r,proto:!0,forced:Qr||p},$);return s[fr]!==v&&ba(s,fr,v,{name:a}),hg[r]=v,$},bg=Oe,Wn=qt,hi=Gr,Es=Lr,Sg=z.f,Ig=Vn,xg=U,Ts="Array Iterator",wg=Es.set,Og=Es.getterFor(Ts),Eg=Ig(Array,"Array",function(e,r){wg(this,{type:Ts,target:bg(e),index:0,kind:r})},function(){var e=Og(this),r=e.target,t=e.kind,n=e.index++;return!r||n>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values"),yi=hi.Arguments=hi.Array;Wn("keys");Wn("values");Wn("entries");if(xg&&yi.name!=="values")try{Sg(yi,"name",{value:"values"})}catch{}var Hn={exports:{}},ks={},Tg=In,kg=z,Pg=Et,Xn=function(e,r,t){var n=Tg(r);n in e?kg.f(e,n,Pg(0,t)):e[n]=t},mi=At,Rg=Ke,Ag=Xn,_g=Array,Cg=Math.max,Ps=function(e,r,t){for(var n=Rg(e),a=mi(r,n),o=mi(t===void 0?n:t,n),i=_g(Cg(o-a,0)),l=0;a<o;a++,l++)Ag(i,l,e[a]);return i.length=l,i},jg=Ue,Dg=Oe,Rs=Rt.f,Fg=Ps,As=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ng=function(e){try{return Rs(e)}catch{return Fg(As)}};ks.f=function(r){return As&&jg(r)=="Window"?Ng(r):Rs(Dg(r))};var Lg=k,Mg=Lg(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Bg=k,qg=K,Gg=Ue,$i=Mg,it=Object.isExtensible,Ug=Bg(function(){it(1)}),Kg=Ug||$i?function(r){return!qg(r)||$i&&Gg(r)=="ArrayBuffer"?!1:it?it(r):!0}:it,zg=k,Vg=!zg(function(){return Object.isExtensible(Object.preventExtensions({}))}),Wg=L,Hg=T,Xg=Pt,Yg=K,Yn=ve,Qg=z.f,bi=Rt,Jg=ks,Qn=Kg,Zg=Sn,eh=Vg,_s=!1,we=Zg("meta"),rh=0,Jn=function(e){Qg(e,we,{value:{objectID:"O"+rh++,weakData:{}}})},th=function(e,r){if(!Yg(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Yn(e,we)){if(!Qn(e))return"F";if(!r)return"E";Jn(e)}return e[we].objectID},ah=function(e,r){if(!Yn(e,we)){if(!Qn(e))return!0;if(!r)return!1;Jn(e)}return e[we].weakData},nh=function(e){return eh&&_s&&Qn(e)&&!Yn(e,we)&&Jn(e),e},oh=function(){ih.enable=function(){},_s=!0;var e=bi.f,r=Hg([].splice),t={};t[we]=1,e(t).length&&(bi.f=function(n){for(var a=e(n),o=0,i=a.length;o<i;o++)if(a[o]===we){r(a,o,1);break}return a},Wg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Jg.f}))},ih=Hn.exports={enable:oh,fastKey:th,getWeakData:ah,onFreeze:nh};Xg[we]=!0;var lh=D,sh=Gr,uh=lh("iterator"),ch=Array.prototype,fh=function(e){return e!==void 0&&(sh.Array===e||ch[uh]===e)},vh=_t,Si=Fr,dh=Gr,ph=D,gh=ph("iterator"),Cs=function(e){if(e!=null)return Si(e,gh)||Si(e,"@@iterator")||dh[vh(e)]},hh=oe,yh=mn,mh=V,$h=Tt,bh=Cs,Sh=TypeError,Ih=function(e,r){var t=arguments.length<2?bh(e):r;if(yh(t))return mh(hh(t,e));throw Sh($h(e)+" is not iterable")},xh=oe,Ii=V,wh=Fr,Oh=function(e,r,t){var n,a;Ii(e);try{if(n=wh(e,"return"),!n){if(r==="throw")throw t;return t}n=xh(n,e)}catch(o){a=!0,n=o}if(r==="throw")throw t;if(a)throw n;return Ii(n),t},Eh=An,Th=oe,kh=V,Ph=Tt,Rh=fh,Ah=Ke,xi=hn,_h=Ih,Ch=Cs,wi=Oh,jh=TypeError,lt=function(e,r){this.stopped=e,this.result=r},Oi=lt.prototype,js=function(e,r,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),d=Eh(r,n),p,s,f,v,u,c,$,h=function(y){return p&&wi(p,"normal",y),new lt(!0,y)},g=function(y){return a?(kh(y),l?d(y[0],y[1],h):d(y[0],y[1])):l?d(y,h):d(y)};if(o)p=e.iterator;else if(i)p=e;else{if(s=Ch(e),!s)throw jh(Ph(e)+" is not iterable");if(Rh(s)){for(f=0,v=Ah(e);v>f;f++)if(u=g(e[f]),u&&xi(Oi,u))return u;return new lt(!1)}p=_h(e,s)}for(c=o?e.next:p.next;!($=Th(c,p)).done;){try{u=g($.value)}catch(y){wi(p,"throw",y)}if(typeof u=="object"&&u&&xi(Oi,u))return u}return new lt(!1)},Dh=hn,Fh=TypeError,Ds=function(e,r){if(Dh(r,e))return e;throw Fh("Incorrect invocation")},Nh=D,Fs=Nh("iterator"),Ns=!1;try{var Lh=0,Ei={next:function(){return{done:!!Lh++}},return:function(){Ns=!0}};Ei[Fs]=function(){return this},Array.from(Ei,function(){throw 2})}catch{}var Mh=function(e,r){if(!r&&!Ns)return!1;var t=!1;try{var n={};n[Fs]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},Bh=F,qh=K,Ti=xs,Gh=function(e,r,t){var n,a;return Ti&&Bh(n=r.constructor)&&n!==t&&qh(a=n.prototype)&&a!==t.prototype&&Ti(e,a),e},Uh=L,Kh=M,zh=T,ki=jl,Vh=Ae,Wh=Hn.exports,Hh=js,Xh=Ds,Yh=F,Sa=K,Ia=k,Qh=Mh,Jh=zn,Zh=Gh,ey=function(e,r,t){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,o=n?"set":"add",i=Kh[e],l=i&&i.prototype,d=i,p={},s=function(g){var y=zh(l[g]);Vh(l,g,g=="add"?function(b){return y(this,b===0?0:b),this}:g=="delete"?function(m){return a&&!Sa(m)?!1:y(this,m===0?0:m)}:g=="get"?function(b){return a&&!Sa(b)?void 0:y(this,b===0?0:b)}:g=="has"?function(b){return a&&!Sa(b)?!1:y(this,b===0?0:b)}:function(b,S){return y(this,b===0?0:b,S),this})},f=ki(e,!Yh(i)||!(a||l.forEach&&!Ia(function(){new i().entries().next()})));if(f)d=t.getConstructor(r,e,n,o),Wh.enable();else if(ki(e,!0)){var v=new d,u=v[o](a?{}:-0,1)!=v,c=Ia(function(){v.has(1)}),$=Qh(function(g){new i(g)}),h=!a&&Ia(function(){for(var g=new i,y=5;y--;)g[o](y,y);return!g.has(-0)});$||(d=r(function(g,y){Xh(g,l);var m=Zh(new i,g,d);return y!=null&&Hh(y,m[o],{that:m,AS_ENTRIES:n}),m}),d.prototype=l,l.constructor=d),(c||h)&&(s("delete"),s("has"),n&&s("get")),(h||u)&&s(o),a&&l.clear&&delete l.clear}return p[e]=d,Uh({global:!0,constructor:!0,forced:d!=i},p),Jh(d,e),a||t.setStrong(d,e,n),d},ry=Ae,ty=function(e,r,t){for(var n in r)ry(e,n,r[n],t);return e},ay=nr,ny=z,oy=D,iy=U,Pi=oy("species"),ly=function(e){var r=ay(e),t=ny.f;iy&&r&&!r[Pi]&&t(r,Pi,{configurable:!0,get:function(){return this}})},sy=z.f,uy=Bt,Ri=ty,cy=An,fy=Ds,vy=js,dy=Vn,py=ly,dr=U,Ai=Hn.exports.fastKey,Ls=Lr,_i=Ls.set,xa=Ls.getterFor,gy={getConstructor:function(e,r,t,n){var a=e(function(p,s){fy(p,o),_i(p,{type:r,index:uy(null),first:void 0,last:void 0,size:0}),dr||(p.size=0),s!=null&&vy(s,p[n],{that:p,AS_ENTRIES:t})}),o=a.prototype,i=xa(r),l=function(p,s,f){var v=i(p),u=d(p,s),c,$;return u?u.value=f:(v.last=u={index:$=Ai(s,!0),key:s,value:f,previous:c=v.last,next:void 0,removed:!1},v.first||(v.first=u),c&&(c.next=u),dr?v.size++:p.size++,$!=="F"&&(v.index[$]=u)),p},d=function(p,s){var f=i(p),v=Ai(s),u;if(v!=="F")return f.index[v];for(u=f.first;u;u=u.next)if(u.key==s)return u};return Ri(o,{clear:function(){for(var s=this,f=i(s),v=f.index,u=f.first;u;)u.removed=!0,u.previous&&(u.previous=u.previous.next=void 0),delete v[u.index],u=u.next;f.first=f.last=void 0,dr?f.size=0:s.size=0},delete:function(p){var s=this,f=i(s),v=d(s,p);if(v){var u=v.next,c=v.previous;delete f.index[v.index],v.removed=!0,c&&(c.next=u),u&&(u.previous=c),f.first==v&&(f.first=u),f.last==v&&(f.last=c),dr?f.size--:s.size--}return!!v},forEach:function(s){for(var f=i(this),v=cy(s,arguments.length>1?arguments[1]:void 0),u;u=u?u.next:f.first;)for(v(u.value,u.key,this);u&&u.removed;)u=u.previous},has:function(s){return!!d(this,s)}}),Ri(o,t?{get:function(s){var f=d(this,s);return f&&f.value},set:function(s,f){return l(this,s===0?0:s,f)}}:{add:function(s){return l(this,s=s===0?0:s,s)}}),dr&&sy(o,"size",{get:function(){return i(this).size}}),a},setStrong:function(e,r,t){var n=r+" Iterator",a=xa(r),o=xa(n);dy(e,r,function(i,l){_i(this,{type:n,target:i,state:a(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,d=i.last;d&&d.removed;)d=d.previous;return!i.target||!(i.last=d=d?d.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:d.key,done:!1}:l=="values"?{value:d.value,done:!1}:{value:[d.key,d.value],done:!1}},t?"entries":"values",!t,!0),py(r)}},hy=ey,yy=gy;hy("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},yy);var my=Cn,$y=_t,by=my?{}.toString:function(){return"[object "+$y(this)+"]"},Sy=Cn,Iy=Ae,xy=by;Sy||Iy(Object.prototype,"toString",xy,{unsafe:!0});var wy=_t,Oy=String,lr=function(e){if(wy(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Oy(e)},Zn=T,Ey=kn,Ty=lr,ky=ar,Py=Zn("".charAt),Ci=Zn("".charCodeAt),Ry=Zn("".slice),ji=function(e){return function(r,t){var n=Ty(ky(r)),a=Ey(t),o=n.length,i,l;return a<0||a>=o?e?"":void 0:(i=Ci(n,a),i<55296||i>56319||a+1===o||(l=Ci(n,a+1))<56320||l>57343?e?Py(n,a):i:e?Ry(n,a,a+2):(i-55296<<10)+(l-56320)+65536)}},Ms={codeAt:ji(!1),charAt:ji(!0)},Ay=Ms.charAt,_y=lr,Bs=Lr,Cy=Vn,qs="String Iterator",jy=Bs.set,Dy=Bs.getterFor(qs);Cy(String,"String",function(e){jy(this,{type:qs,string:_y(e),index:0})},function(){var r=Dy(this),t=r.string,n=r.index,a;return n>=t.length?{value:void 0,done:!0}:(a=Ay(t,n),r.index+=a.length,{value:a,done:!1})});var Gs={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Fy=xn,wa=Fy("span").classList,Di=wa&&wa.constructor&&wa.constructor.prototype,Us=Di===Object.prototype?void 0:Di,Fi=M,Ks=Gs,Ny=Us,$r=Eg,Oa=or,zs=D,Ea=zs("iterator"),Ni=zs("toStringTag"),Ta=$r.values,Vs=function(e,r){if(e){if(e[Ea]!==Ta)try{Oa(e,Ea,Ta)}catch{e[Ea]=Ta}if(e[Ni]||Oa(e,Ni,r),Ks[r]){for(var t in $r)if(e[t]!==$r[t])try{Oa(e,t,$r[t])}catch{e[t]=$r[t]}}}};for(var ka in Ks)Vs(Fi[ka]&&Fi[ka].prototype,ka);Vs(Ny,"DOMTokenList");var Ly=k,Ws=function(e,r){var t=[][e];return!!t&&Ly(function(){t.call(null,r||function(){return 1},1)})},My=Ct.forEach,By=Ws,qy=By("forEach"),Hs=qy?[].forEach:function(r){return My(this,r,arguments.length>1?arguments[1]:void 0)},Gy=L,Li=Hs;Gy({target:"Array",proto:!0,forced:[].forEach!=Li},{forEach:Li});var Mi=M,Bi=Gs,Uy=Us,Pa=Hs,Ky=or,Xs=function(e){if(e&&e.forEach!==Pa)try{Ky(e,"forEach",Pa)}catch{e.forEach=Pa}};for(var Ra in Bi)Bi[Ra]&&Xs(Mi[Ra]&&Mi[Ra].prototype);Xs(Uy);var zy=L,Vy=T,Ys=Date,Wy=Vy(Ys.prototype.getTime);zy({target:"Date",stat:!0},{now:function(){return Wy(new Ys)}});var Qs=T,Hy=Ae,eo=Date.prototype,qi="Invalid Date",Js="toString",Xy=Qs(eo[Js]),Yy=Qs(eo.getTime);String(new Date(NaN))!=qi&&Hy(eo,Js,function(){var r=Yy(this);return r===r?Xy(this):qi});function Qy(e){var{timeout:r,start:t,stop:n,leading:a=!1,trailing:o=!1}=e,i=w({name:"tick",sid:"uo9p3s"}),l=j(!1,{name:"$isRunning",sid:"-wxesi8"}),d=Jy(r),p=l.map(h=>!h),s=w({name:"saveTimeout",sid:"as5clk"}),f=j(null,{name:"$timeoutId",sid:"-bh90bo"}).on(s,(h,g)=>g),v=w({name:"saveReject",sid:"-64swis"}),u=j(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(v,(h,g)=>g),c=Fn(h=>new Promise((g,y)=>{var m=setTimeout(g,h);s(m),v(y)}),{name:"timeoutFx",sid:"7lc3mj"}),$=Cd({and:{source:[f,u],effect:h=>{var[g,y]=h;y(),g&&clearTimeout(g)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return sa({and:[{clock:t,source:d,filter:p,target:c}],or:{sid:"-w5qmwp"}}),a&&sa({and:[{clock:t,filter:p,target:i}],or:{sid:"-vpslni"}}),C({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),sa({and:[{clock:c.done,source:d,filter:l,target:c}],or:{sid:"-v73liy"}}),C({and:[{clock:c.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),n&&(o&&C({and:[{clock:n,target:i}],or:{sid:"-uanqf7"}}),l.on(n,()=>!1),C({and:[{clock:n,target:$}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function Jy(e){if(W.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return j(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var Zy=U,Zs=T,em=ys,rm=Oe,tm=pn.f,am=Zs(tm),nm=Zs([].push),Gi=function(e){return function(r){for(var t=rm(r),n=em(t),a=n.length,o=0,i=[],l;a>o;)l=n[o++],(!Zy||am(t,l))&&nm(i,e?[l,t[l]]:t[l]);return i}},om={entries:Gi(!0),values:Gi(!1)},im=L,lm=om.entries;im({target:"Object",stat:!0},{entries:function(r){return lm(r)}});var sm=TypeError,um=9007199254740991,cm=function(e){if(e>um)throw sm("Maximum allowed index exceeded");return e},fm=L,vm=k,dm=_n,pm=K,gm=Nr,hm=Ke,Ui=cm,Ki=Xn,ym=Bl,mm=jt,$m=D,bm=yn,eu=$m("isConcatSpreadable"),Sm=bm>=51||!vm(function(){var e=[];return e[eu]=!1,e.concat()[0]!==e}),Im=mm("concat"),xm=function(e){if(!pm(e))return!1;var r=e[eu];return r!==void 0?!!r:dm(e)},wm=!Sm||!Im;fm({target:"Array",proto:!0,arity:1,forced:wm},{concat:function(r){var t=gm(this),n=ym(t,0),a=0,o,i,l,d,p;for(o=-1,l=arguments.length;o<l;o++)if(p=o===-1?t:arguments[o],xm(p))for(d=hm(p),Ui(a+d),i=0;i<d;i++,a++)i in p&&Ki(n,a,p[i]);else Ui(a+1),Ki(n,a++,p);return n.length=a,n}});var Om=V,Em=function(){var e=Om(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},ro=k,Tm=M,to=Tm.RegExp,ao=ro(function(){var e=to("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),km=ao||ro(function(){return!to("a","y").sticky}),Pm=ao||ro(function(){var e=to("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),ru={BROKEN_CARET:Pm,MISSED_STICKY:km,UNSUPPORTED_Y:ao},Rm=k,Am=M,_m=Am.RegExp,Cm=Rm(function(){var e=_m(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),jm=k,Dm=M,Fm=Dm.RegExp,Nm=jm(function(){var e=Fm("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Qe=oe,Gt=T,Lm=lr,Mm=Em,Bm=ru,qm=kt.exports,Gm=Bt,Um=Lr.get,Km=Cm,zm=Nm,Vm=qm("native-string-replace",String.prototype.replace),wt=RegExp.prototype.exec,un=wt,Wm=Gt("".charAt),Hm=Gt("".indexOf),Xm=Gt("".replace),Aa=Gt("".slice),cn=function(){var e=/a/,r=/b*/g;return Qe(wt,e,"a"),Qe(wt,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),tu=Bm.BROKEN_CARET,fn=/()??/.exec("")[1]!==void 0,Ym=cn||fn||tu||Km||zm;Ym&&(un=function(r){var t=this,n=Um(t),a=Lm(r),o=n.raw,i,l,d,p,s,f,v;if(o)return o.lastIndex=t.lastIndex,i=Qe(un,o,a),t.lastIndex=o.lastIndex,i;var u=n.groups,c=tu&&t.sticky,$=Qe(Mm,t),h=t.source,g=0,y=a;if(c&&($=Xm($,"y",""),Hm($,"g")===-1&&($+="g"),y=Aa(a,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&Wm(a,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",y=" "+y,g++),l=new RegExp("^(?:"+h+")",$)),fn&&(l=new RegExp("^"+h+"$(?!\\s)",$)),cn&&(d=t.lastIndex),p=Qe(wt,c?l:t,y),c?p?(p.input=Aa(p.input,g),p[0]=Aa(p[0],g),p.index=t.lastIndex,t.lastIndex+=p[0].length):t.lastIndex=0:cn&&p&&(t.lastIndex=t.global?p.index+p[0].length:d),fn&&p&&p.length>1&&Qe(Vm,p[0],l,function(){for(s=1;s<arguments.length-2;s++)arguments[s]===void 0&&(p[s]=void 0)}),p&&u)for(p.groups=f=Gm(null),s=0;s<u.length;s++)v=u[s],f[v[0]]=p[v[1]];return p});var Ut=un,Qm=L,zi=Ut;Qm({target:"RegExp",proto:!0,forced:/./.exec!==zi},{exec:zi});var Jm=Ot,au=Function.prototype,Vi=au.apply,Wi=au.call,Zm=typeof Reflect=="object"&&Reflect.apply||(Jm?Wi.bind(Vi):function(){return Wi.apply(Vi,arguments)}),Hi=T,Xi=Ae,e$=Ut,Yi=k,nu=D,r$=or,t$=nu("species"),_a=RegExp.prototype,ou=function(e,r,t,n){var a=nu(e),o=!Yi(function(){var p={};return p[a]=function(){return 7},""[e](p)!=7}),i=o&&!Yi(function(){var p=!1,s=/a/;return e==="split"&&(s={},s.constructor={},s.constructor[t$]=function(){return s},s.flags="",s[a]=/./[a]),s.exec=function(){return p=!0,null},s[a](""),!p});if(!o||!i||t){var l=Hi(/./[a]),d=r(a,""[e],function(p,s,f,v,u){var c=Hi(p),$=s.exec;return $===e$||$===_a.exec?o&&!u?{done:!0,value:l(s,f,v)}:{done:!0,value:c(f,s,v)}:{done:!1}});Xi(String.prototype,e,d[0]),Xi(_a,a,d[1])}n&&r$(_a[a],"sham",!0)},a$=K,n$=Ue,o$=D,i$=o$("match"),iu=function(e){var r;return a$(e)&&((r=e[i$])!==void 0?!!r:n$(e)=="RegExp")},l$=Dn,s$=Tt,u$=TypeError,c$=function(e){if(l$(e))return e;throw u$(s$(e)+" is not a constructor")},Qi=V,f$=c$,v$=D,d$=v$("species"),p$=function(e,r){var t=Qi(e).constructor,n;return t===void 0||(n=Qi(t)[d$])==null?r:f$(n)},g$=Ms.charAt,lu=function(e,r,t){return r+(t?g$(e,r).length:1)},Ji=oe,h$=V,y$=F,m$=Ue,$$=Ut,b$=TypeError,su=function(e,r){var t=e.exec;if(y$(t)){var n=Ji(t,e,r);return n!==null&&h$(n),n}if(m$(e)==="RegExp")return Ji($$,e,r);throw b$("RegExp#exec called on incompatible receiver")},S$=Zm,pr=oe,no=T,I$=ou,x$=iu,w$=V,Zi=ar,O$=p$,E$=lu,T$=Pn,Ca=lr,k$=Fr,el=Ps,rl=su,P$=Ut,R$=ru,A$=k,He=R$.UNSUPPORTED_Y,tl=4294967295,_$=Math.min,uu=[].push,C$=no(/./.exec),Xe=no(uu),gr=no("".slice),j$=!A$(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});I$("split",function(e,r,t){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(a,o){var i=Ca(Zi(this)),l=o===void 0?tl:o>>>0;if(l===0)return[];if(a===void 0)return[i];if(!x$(a))return pr(r,i,a,l);for(var d=[],p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),s=0,f=new RegExp(a.source,p+"g"),v,u,c;(v=pr(P$,f,i))&&(u=f.lastIndex,!(u>s&&(Xe(d,gr(i,s,v.index)),v.length>1&&v.index<i.length&&S$(uu,d,el(v,1)),c=v[0].length,s=u,d.length>=l)));)f.lastIndex===v.index&&f.lastIndex++;return s===i.length?(c||!C$(f,""))&&Xe(d,""):Xe(d,gr(i,s)),d.length>l?el(d,0,l):d}:"0".split(void 0,0).length?n=function(a,o){return a===void 0&&o===0?[]:pr(r,this,a,o)}:n=r,[function(o,i){var l=Zi(this),d=o==null?void 0:k$(o,e);return d?pr(d,o,l,i):pr(n,Ca(l),o,i)},function(a,o){var i=w$(this),l=Ca(a),d=t(n,i,l,o,n!==r);if(d.done)return d.value;var p=O$(i,RegExp),s=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(He?"g":"y"),v=new p(He?"^(?:"+i.source+")":i,f),u=o===void 0?tl:o>>>0;if(u===0)return[];if(l.length===0)return rl(v,l)===null?[l]:[];for(var c=0,$=0,h=[];$<l.length;){v.lastIndex=He?0:$;var g=rl(v,He?gr(l,$):l),y;if(g===null||(y=_$(T$(v.lastIndex+(He?$:0)),l.length))===c)$=E$(l,$,s);else{if(Xe(h,gr(l,c,$)),h.length===u)return h;for(var m=1;m<=g.length-1;m++)if(Xe(h,g[m]),h.length===u)return h;$=c=y}}return Xe(h,gr(l,c)),h}]},!j$,He);var D$=L,F$=Al.includes,N$=k,L$=qt,M$=N$(function(){return!Array(1).includes()});D$({target:"Array",proto:!0,forced:M$},{includes:function(r){return F$(this,r,arguments.length>1?arguments[1]:void 0)}});L$("includes");var B$=iu,q$=TypeError,G$=function(e){if(B$(e))throw q$("The method doesn't accept regular expressions");return e},U$=D,K$=U$("match"),z$=function(e){var r=/./;try{"/./"[e](r)}catch{try{return r[K$]=!1,"/./"[e](r)}catch{}}return!1},V$=L,W$=T,H$=G$,X$=ar,al=lr,Y$=z$,Q$=W$("".indexOf);V$({target:"String",proto:!0,forced:!Y$("includes")},{includes:function(r){return!!~Q$(al(X$(this)),al(H$(r)),arguments.length>1?arguments[1]:void 0)}});var J$=L,Z$=T,eb=gn,rb=Oe,tb=Ws,ab=Z$([].join),nb=eb!=Object,ob=tb("join",",");J$({target:"Array",proto:!0,forced:nb||!ob},{join:function(r){return ab(rb(this),r===void 0?",":r)}});var ib=T,lb=ib([].slice),sb=L,nl=_n,ub=Dn,cb=K,ol=At,fb=Ke,vb=Oe,db=Xn,pb=D,gb=jt,hb=lb,yb=gb("slice"),mb=pb("species"),ja=Array,$b=Math.max;sb({target:"Array",proto:!0,forced:!yb},{slice:function(r,t){var n=vb(this),a=fb(n),o=ol(r,a),i=ol(t===void 0?a:t,a),l,d,p;if(nl(n)&&(l=n.constructor,ub(l)&&(l===ja||nl(l.prototype))?l=void 0:cb(l)&&(l=l[mb],l===null&&(l=void 0)),l===ja||l===void 0))return hb(n,o,i);for(d=new(l===void 0?ja:l)($b(i-o,0)),p=0;o<i;o++,p++)o in n&&db(d,p,n[o]);return d.length=p,d}});var bb=Nr,il=At,Sb=Ke,Ib=function(r){for(var t=bb(this),n=Sb(t),a=arguments.length,o=il(a>1?arguments[1]:void 0,n),i=a>2?arguments[2]:void 0,l=i===void 0?n:il(i,n);l>o;)t[o++]=r;return t},xb=L,wb=Ib,Ob=qt;xb({target:"Array",proto:!0},{fill:wb});Ob("fill");function ll(e){var r=new Map,t=new Map;return e.forEach(function(n,a){Eb(t,a,n)}),t.forEach(function(n,a){var o=ct(n,2),i=o[0],l=o[1],d=e.get(a)||0;d&&i+l<2||d&&i+l>3||(!d&&i+l==3?r.set(a,i>l?1:2):d&&r.set(a,d))}),r}function Eb(e,r,t){var n=cu(r),a=ct(n,2),o=a[0],i=a[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(d){e.has(d)||e.set(d,[0,0]);var p=e.get(d),s=ct(p,2),f=s[0],v=s[1];t===1?e.set(d,[f+1,v]):e.set(d,[f,v+1])}),e}function cu(e){var r=e.split("|");return[+r[0],+r[1]]}function fu(e){var r=ct(e,2),t=r[0],n=r[1];return"".concat(t,"|").concat(n)}function vu(e){if(e.target&&e.target.dataset&&e.target.dataset.row&&e.target.dataset.col)return{row:+e.target.dataset.row,col:+e.target.dataset.col}}function Tb(e){var r=null,t=null,n=e.map(function(a,o){var i=a.includes(1)||a.includes(2);return r===null&&i&&(r=o),i&&(t=o),a.map(function(l){return+l}).join("")});return r===null||t===null?"":n.slice(r,t+1).join(`
`)}function kb(e){localStorage.setItem("history",JSON.stringify(e))}function Pb(){try{return JSON.parse(localStorage.getItem("history")||null)||null}catch(e){return console.error(e),null}}function Rb(e,r){return Array(r).fill(0).map(function(){return Array(e).fill(0)})}var Ab=50,_b=80,oo=j({height:50,width:80},{name:"$fieldSize",sid:"-r4z5lt"}),Cb=new Map,jr=j(Cb,{name:"$fauna",sid:"ytpy9b"}),Dr=j({x:-Math.ceil(_b/2),y:-Math.ceil(Ab/2)},{name:"$focus",sid:"u03g6b"}),br=w({name:"moveFocus",sid:"vmk6y4"}),du=w({name:"resetFocus",sid:"-x40l5k"}),Pr=j(1,{name:"$selectedColor",sid:"-sq5zfx"}),st=w({name:"colorSelected",sid:"hr9j66"});Pr.on(st,function(e,r){return r});var pu=w({name:"rawClicked",sid:"eazztl"}),io=w({name:"toggleCell",sid:"-4m8air"}),lo=w({name:"gameTick",sid:"67oo5l"}),gu=w({name:"saveClicked",sid:"-rqh3bq"}),hu=w({name:"reset",sid:"mylpqi"}),yu=w({name:"makeNSteps",sid:"-qp20us"}),so=w({name:"startTimer",sid:"av5mff"}),mu=w({name:"stopTimer",sid:"-1tjok5"}),$u=Ld({sid:"-snnedw",fn:function(){return Qy({timeout:50,start:so,stop:mu})},name:"timer",method:"interval"}),ut={start:so,stop:mu,isRunning:$u.isRunning},bu=w({name:"cellHovered",sid:"-up1zm1"}),uo=Ft({and:[oo,jr,Dr,function(e,r,t){var n=e.width,a=e.height,o=Rb(n,a);return r.forEach(function(i,l){var d=cu(l),p=d[0]+n/2+t.x,s=d[1]+a/2+t.y;p>=0&&p<n&&s>=0&&s<a&&(o[s][p]=i)}),o}],or:{name:"$field",sid:"os5tux"}});jr.on(lo,function(e){return ll(e)}).on(yu,function(e,r){for(var t=e,n=1;n<=r;n++)t=ll(t);return t}).on(hu,function(){return new Map});Dr.on(br,function(e,r){return{x:e.x+(r.x||0),y:e.y+(r.y||0)}}).reset(du);C({and:[{clock:[$u.tick,so],target:lo}],or:{sid:"d3y9k8"}});C({and:[{clock:bu.filterMap(function(e){if(e.shiftKey)return vu(e)}),target:io}],or:{sid:"d65fxo"}});C({and:[{clock:pu.filterMap(vu),target:io}],or:{sid:"dljojs"}});C({and:[{source:{fauna:jr,color:Pr,size:oo,focus:Dr},clock:io,fn:function(r,t){var n=r.color,a=r.fauna,o=r.focus,i=r.size,l=t.col,d=t.row,p=new Map(a),s=l-i.width/2-o.x,f=d-i.height/2-o.y;return p.set(fu([s,f]),n),p},target:jr}],or:{sid:"dnqux8"}});var Su="#5583e5",Iu="#79e555";const jb="_field_aqx38_1",Db="_cell_aqx38_9",Fb="_on1_aqx38_19",Nb="_on2_aqx38_22",Lb="_roundCell_aqx38_26",Mb="_history_aqx38_30",Bb="_colorBtn_aqx38_36",qb="_currentColor_aqx38_43",Z={field:jb,cell:Db,on1:Fb,on2:Nb,roundCell:Lb,history:Mb,colorBtn:Bb,currentColor:qb};function Gb(){O("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,n;O("button",{classList:(r={},me(r,Z.colorBtn,!0),me(r,Z.currentColor,Pr.map(function(a){return a===1})),r),style:{backgroundColor:Su},handler:{click:st.prepend(function(){return 1})}}),O("button",{classList:(t={},me(t,Z.colorBtn,!0),me(t,Z.currentColor,Pr.map(function(a){return a===2})),t),style:{backgroundColor:Iu},handler:{click:st.prepend(function(){return 2})}}),O("button",{classList:(n={},me(n,Z.colorBtn,!0),me(n,Z.currentColor,Pr.map(function(a){return!a})),n),handler:{click:st.prepend(function(){return 0})}})}})}function Ub(){O("div",{classList:[Z.field],styleVar:{width:oo.map(function(e){return e.width}),color1:Su,color2:Iu},handler:{click:pu},fn:function(){en(uo,function(r){var t=r.store,n=r.key;en(t,function(a){var o,i=a.store,l=a.key;O("div",{data:{row:n,col:l},handler:{mouseover:bu},classList:(o={},me(o,Z.cell,!0),me(o,Z.on1,i.map(function(d){return d===1})),me(o,Z.on2,i.map(function(d){return d===2})),o)})})})}})}var Kb=U,zb=On.EXISTS,xu=T,Vb=z.f,wu=Function.prototype,Wb=xu(wu.toString),Ou=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Hb=xu(Ou.exec),Xb="name";Kb&&!zb&&Vb(wu,Xb,{configurable:!0,get:function(){try{return Hb(Ou,Wb(this))[1]}catch{return""}}});var Yb=oe,Qb=ou,Jb=V,Zb=Pn,Da=lr,e1=ar,r1=Fr,t1=lu,sl=su;Qb("match",function(e,r,t){return[function(a){var o=e1(this),i=a==null?void 0:r1(a,e);return i?Yb(i,a,o):new RegExp(a)[e](Da(o))},function(n){var a=Jb(this),o=Da(n),i=t(r,a,o);if(i.done)return i.value;if(!a.global)return sl(a,o);var l=a.unicode;a.lastIndex=0;for(var d=[],p=0,s;(s=sl(a,o))!==null;){var f=Da(s[0]);d[p]=f,f===""&&(a.lastIndex=t1(o,Zb(a.lastIndex),l)),p++}return p===0?null:d}]});var a1=L,n1=Ct.filter,o1=jt,i1=o1("filter");a1({target:"Array",proto:!0,forced:!i1},{filter:function(r){return n1(this,r,arguments.length>1?arguments[1]:void 0)}});var Kt=j(Pb()||[],{name:"$history",sid:"8vj2mw"}),Eu=w({name:"addToHistory",sid:"-6p9jgl"}),Tu=w({name:"removeFromHistory",sid:"iwl8tq"}),co=w({name:"historySelected",sid:"bspsag"});Kt.on(Eu,function(e,r){var t,n=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",a=n.match(/(\d+)/),o=a&&+a[1]||0;return[].concat(_u(e),[{field:r,name:"save #".concat(o+1)}])}).on(Tu,function(e,r){return e.filter(function(t){return t.name!==r})});C({and:[{source:Kt,target:Fn(function(e){kb(e)},{name:"target",sid:"-plhoch"})}],or:{sid:"-g7u7tz"}});var ul,cl;function l1(){O("div",{classList:[Z.history],fn:function(){O("p",{text:"History: ",style:{margin:"0"}}),en(Kt,function(r){var t=r.store,n=w({name:"rawClick",sid:"-rgym4t"}),a=w({name:"rawRemoveClick",sid:"-uuraa5"});C({and:[{clock:n,source:t.map(function(o){return o.name}),target:co}],or:{sid:"fa3rke"}}),C({and:[{clock:a,source:t.map(function(o){return o.name}),target:Tu}],or:{sid:"fcuqj7"}}),O("div",function(){O("button",function(){xe({handler:{click:n}}),kr(ul||(ul=Sr(["",""])),t.map(function(o){return o.name}))}),O("button",function(){xe({handler:{click:a}}),kr(cl||(cl=Sr(["x"])))})})})}})}var ku=j("",{name:"$exported",sid:"-eko3nz"}),Pu=w({name:"exportClicked",sid:"ve9igg"}),s1=L,u1=Ct.find,c1=qt,vn="find",Ru=!0;vn in[]&&Array(1)[vn](function(){Ru=!1});s1({target:"Array",proto:!0,forced:Ru},{find:function(r){return u1(this,r,arguments.length>1?arguments[1]:void 0)}});c1(vn);C({and:[{source:uo,clock:gu,target:Eu}],or:{sid:"-32twmo"}});C({and:[{source:Kt,clock:co,fn:function(r,t){var n=r.find(function(o){return o.name===t}).field,a=new Map;return n.forEach(function(o,i){o.forEach(function(l,d){l&&a.set(fu([d,i]),l)})}),a},target:jr}],or:{sid:"-qowvko"}});C({and:[{clock:co,target:ut.stop}],or:{sid:"-q40p0y"}});C({and:[{source:uo,clock:Pu,fn:Tb,target:ku}],or:{sid:"-q3gwfl"}});var fl,vl,dl;function f1(){O("div",function(){xe({style:{margin:"40px auto",maxWidth:"900px",border:"2px solid lightblue",padding:"16px"}}),O("h1",{text:"Game of Life"}),l1(),Gb(),O("p",function(){xe({style:{display:"flex",gap:"8px"}}),O("button",{text:"Step",handler:{click:lo}}),O("button",{text:"1000 steps",handler:{click:yu.prepend(function(){return 1e3})}}),kr(fl||(fl=Sr([" timer: "," "])),ut.isRunning.map(function(e){return e?"on":"off"})),O("button",{text:"Start",handler:{click:ut.start}}),O("button",{text:"Stop",handler:{click:ut.stop}}),O("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:gu}})}),O("p",function(){xe({style:{display:"flex",gap:"8px"}}),kr(vl||(vl=Sr(["Move: "])));var e=br.prepend(function(){return{x:5}}),r=br.prepend(function(){return{x:-5}}),t=br.prepend(function(){return{y:5}}),n=br.prepend(function(){return{y:-5}});O("button",{text:"<-",handler:{click:e}}),O("button",{text:"^",handler:{click:t}}),O("button",{text:"v",handler:{click:n}}),O("button",{text:"->",handler:{click:r}}),kr(dl||(dl=Sr(["(",", ",")"])),Dr.map(function(a){var o=a.x;return o}),Dr.map(function(a){var o=a.y;return o})),O("button",{text:"reset focus",handler:{click:du}})}),Ub(),O("button",{text:"Reset",handler:{click:hu}}),O("hr",{}),O("button",{text:"Export",handler:{click:Pu}}),O("br",{}),O("textarea",{style:{fontSize:"8px",width:"100%",height:"100px",lineHeight:1},text:ku})})}ap(document.querySelector("#app"),f1);
