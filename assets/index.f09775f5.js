const Ku=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}};Ku();function _t(e,r){for(let t in e)r(e[t],t)}function U(e,r){e.forEach(r)}function H(e,r){if(!e)throw Error(r)}function Jn(e,r){G={parent:G,value:e,template:M(e,"template")||vr(),sidRoot:M(e,"sidRoot")||G&&G.sidRoot};try{return r()}finally{G=ve(G)}}function Oe({node:e=[],from:r,source:t,parent:n=r||t,to:a,target:o,child:i=a||o,scope:l={},meta:g={},family:p={type:"regular"},regional:u}={}){let v=wr(n),f=wr(p.links),s=wr(p.owners),c=[];U(e,h=>h&&Ie(c,h));let y={id:Qu(),seq:c,next:wr(i),meta:g,scope:l,family:{type:p.type||"crosslink",links:f,owners:s}};return U(f,h=>Ie(At(h),y)),U(s,h=>Ie(jt(h),y)),U(v,h=>Ie(h.next,y)),u&&G&&lr(kr(G),[y]),y}function C(e,r,t){let n=ce,a=null,o=A;if(e.target&&(r=e.params,t=e.defer,n="page"in e?e.page:n,e.stack&&(a=e.stack),o=be(e)||o,e=e.target),o&&A&&o!==A&&(A=null),Array.isArray(e))for(let s=0;s<e.length;s++)je("pure",n,X(e[s]),a,r[s],o);else je("pure",n,X(e),a,r,o);if(t&&!Wr)return;let i,l,g,p,u,v,f={isRoot:Wr,currentPage:ce,scope:A,isWatch:nt,isPure:at};Wr=0;e:for(;p=tc();){let{idx:s,stack:c,type:y}=p;g=c.node,ce=u=c.page,A=be(c),u?v=u.reg:A&&(v=A.reg);let h=!!u,d=!!A,m={fail:0,scope:g.scope};i=l=0;for(let $=s;$<g.seq.length&&!i;$++){let b=g.seq[$];if(b.order){let{priority:S,barrierID:I}=b.order,x=I?u?`${u.fullID}_${I}`:I:0;if($!==s||y!==S){I?sn.has(x)||(sn.add(x),ra($,c,S,I)):ra($,c,S);continue e}I&&sn.delete(x)}switch(b.type){case"mov":{let I,x=b.data;switch(x.from){case Le:I=kr(c);break;case"a":case"b":I=c[x.from];break;case"value":I=x.store;break;case"store":if(v&&!v[x.store.id])if(h){let O=Ml(u,x.store.id);c.page=u=O,O?v=O.reg:d?(ur(A,x.store,0,1,x.softRead),v=A.reg):v=void 0}else d&&ur(A,x.store,0,1,x.softRead);I=Tr(v&&v[x.store.id]||x.store)}switch(x.to){case Le:c.value=I;break;case"a":case"b":c[x.to]=I;break;case"store":ac(u,A,g,x.target).current=I}break}case"compute":let S=b.data;if(S.fn){nt=M(g,"op")==="watch",at=S.pure;let I=S.safe?(0,S.fn)(kr(c),m.scope,c):oc(m,S.fn,c);S.filter?l=!I:c.value=I,nt=f.isWatch,at=f.isPure}}i=m.fail||l}if(!i){let $=kr(c);U(g.next,S=>{je("child",u,S,c,$,be(c))});let b=be(c);if(b){M(g,"needFxCounter")&&je("child",u,b.fxCount,c,$,b),M(g,"storeChange")&&je("child",u,b.storeChange,c,$,b),M(g,"warnSerialize")&&je("child",u,b.warnSerializeNode,c,$,b);let S=b.additionalLinks[g.id];S&&U(S,I=>{je("child",u,I,c,$,b)})}}}Wr=f.isRoot,ce=f.currentPage,A=be(f)}function Tl(e,r="combine"){let t=r+"(",n="",a=0;return _t(e,o=>{a<25&&(o!=null&&(t+=n,t+=Be(o)?Ta(o).fullName:o.toString()),a+=1,n=", ")}),t+")"}function Pl(e,r){let t,n,a=e;if(r){let o=Ta(r);e.length===0?(t=o.path,n=o.fullName):(t=o.path.concat([e]),n=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],n=e;return{shortName:a,fullName:n,path:t}}function Lr(e,r){let t=r?e:e[0];Fl(t);let n=t.or,a=t.and;if(a){let o=r?a:a[0];if(pe(o)&&"and"in o){let i=Lr(a,r);e=i[0],n={...n,...i[1]}}else e=a}return[e,n]}function ee(e,...r){let t=vr();if(t){let n=t.handlers[e];if(n)return n(t,...r)}}function w(e,r){let t=(a,...o)=>(qe(!M(t,"derived"),"call of derived event","createEvent"),qe(!at,"unit call from pure function","operators like sample"),ce?((i,l,g,p)=>{let u=ce,v=null;if(l)for(v=ce;v&&v.template!==l;)v=ve(v);To(v);let f=i.create(g,p);return To(u),f})(t,n,a,o):t.create(a,o)),n=vr();return Object.assign(t,{graphite:Oe({meta:ql("event",t,e,r),regional:1}),create:a=>(C({target:t,params:a,scope:A}),a),watch:a=>Ll(t,a),map:a=>un(t,ir,a,[xe()]),filter:a=>un(t,"filter",a.fn?a:a.fn,[xe(Ra,1)]),filterMap:a=>un(t,"filterMap",a,[xe(),fe(o=>!V(o),1)]),prepend(a){let o=w("* \u2192 "+t.shortName,{parent:ve(t)});return ee("eventPrepend",X(o)),ze(o,t,[xe()],"prepend",a),Bl(t,o),o}})}function k(e,r){let t=sr(e),n=w({named:"updates",derived:1});ee("storeBase",t);let a=t.id,o={subscribers:new Map,updates:n,defaultState:e,stateRef:t,getState(){let v,f=t;if(ce){let s=ce;for(;s&&!s.reg[a];)s=ve(s);s&&(v=s)}return!v&&A&&(ur(A,t,1),v=A),v&&(f=v.reg[a]),Tr(f)},setState:v=>C({target:o,params:v,defer:1,scope:A}),reset:(...v)=>(U(v,f=>o.on(f,()=>o.defaultState)),o),on:(v,f)=>(ht(v,".on","first argument"),qe(!M(o,"derived"),".on in derived store","createStore"),U(Array.isArray(v)?v:[v],s=>{o.off(s),tt(o).set(s,Nl(Ro(s,o,"on",ec,f)))}),o),off(v){let f=tt(o).get(v);return f&&(f(),tt(o).delete(v)),o},map(v,f){let s,c;pe(v)&&(s=v,v=v.fn),qe(V(f),"second argument of store.map","updateFilter");let y=o.getState();vr()?c=null:V(y)||(c=v(y,f));let h=k(c,{name:`${o.shortName} \u2192 *`,derived:1,and:s}),d=Ro(o,h,ir,Zn,v);return ea(re(h),{type:ir,fn:v,from:t}),re(h).noInit=1,ee("storeMap",t,d),h},watch(v,f){if(!f||!Be(v)){let s=Ll(o,v);return ee("storeWatch",t,v)||v(o.getState()),s}return H(te(f),"second argument should be a function"),v.watch(s=>f(o.getState(),s))}},i=ql("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=Oe({scope:{state:t,fn:l},node:[fe((v,f,s)=>(s.scope&&!s.scope.reg[t.id]&&(s.b=1),v)),Ge(t),fe((v,f,{a:s,b:c})=>!V(v)&&(v!==s||c),1),l&&xe(Zn,1),Z({from:Le,target:t})],child:n,meta:i,regional:1});let g=M(o,"derived"),p=M(o,"serialize")==="ignore",u=M(o,"sid");return u&&(p||Me(o,"storeChange",1),t.sid=u),u||p||g||Me(o,"warnSerialize",1),H(g||!V(e),"current state can't be undefined, use null instead"),lr(o,[n]),o}function Ee(...e){let r,t,n;[e,n]=Lr(e);let a,o,i,l=e[e.length-1];if(te(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let g=t[0];ae(g)||(a=g,o=1)}if(!o&&(a=t,r)){i=1;let g=r;r=p=>g(...p)}return H(pe(a),"shape should be an object"),lc(Array.isArray(a),!i,a,n,r)}function Vu(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function ka(e,r){let t=w(te(e)?{handler:e}:e,r),n=X(t);Me(n,"op",t.kind="effect"),t.use=f=>(H(te(f),".use argument should be a function"),p.scope.handler=f,t),t.use.getCurrent=()=>p.scope.handler;let a=t.finally=w({named:"finally",derived:1}),o=t.done=a.filterMap({named:"done",fn({status:f,params:s,result:c}){if(f==="done")return{params:s,result:c}}}),i=t.fail=a.filterMap({named:"fail",fn({status:f,params:s,error:c}){if(f==="fail")return{params:s,error:c}}}),l=t.doneData=o.map({named:"doneData",fn:({result:f})=>f}),g=t.failData=i.map({named:"failData",fn:({error:f})=>f}),p=Oe({scope:{handlerId:M(n,"sid"),handler:t.defaultConfig.handler||(()=>H(0,`no handler used in ${t.getType()}`))},node:[fe((f,s,c)=>{let y=s,h=y.handler;if(be(c)){let d=be(c).handlers[y.handlerId];d&&(h=d)}return f.handler=h,f},0,1),fe(({params:f,req:s,handler:c,args:y=[f]},h,d)=>{let m=mt(f,s,1,a,d),$=mt(f,s,0,a,d),[b,S]=Gl(c,$,y);b&&(pe(S)&&te(S.then)?S.then(m,$):m(S))},0,1)],meta:{op:"fx",fx:"runner"}});n.scope.runner=p,Ie(n.seq,fe((f,{runner:s},c)=>{let y=ve(c)?{params:f,req:{rs(h){},rj(h){}}}:f;return C({target:s,params:y,defer:1,scope:be(c)}),y.params},0,1)),t.create=f=>{let s=Vu(),c={params:f,req:s};if(A){if(!nt){let y=A;s.req.finally(()=>{nc(y)}).catch(()=>{})}C({target:t,params:c,scope:A})}else C(t,c);return s.req};let u=t.inFlight=k(0,{serialize:"ignore"}).on(t,f=>f+1).on(a,f=>f-1).map({fn:f=>f,named:"inFlight"});Me(a,"needFxCounter","dec"),Me(t,"needFxCounter",1);let v=t.pending=u.map({fn:f=>f>0,named:"pending"});return lr(t,[a,o,i,l,g,v,u]),t}function Wu(e){let r;[e,r]=Lr(e,1);let{source:t,effect:n,mapParams:a}=e,o=ka(e,r);Me(o,"attached",1);let i,{runner:l}=X(o).scope,g=fe((u,v,f)=>{let s,{params:c,req:y,handler:h}=u,d=o.finally,m=mt(c,y,0,d,f),$=f.a,b=gt(h),S=1;if(a?[S,s]=Gl(a,m,[c,$]):s=t&&b?$:c,S){if(!b)return u.args=[$,s],1;C({target:h,params:{params:s,req:{rs:mt(c,y,1,d,f),rj:m}},page:f.page,defer:1})}},1,1);if(t){let u;ae(t)?(u=t,lr(u,[o])):(u=Ee(t),lr(o,[u])),i=[Ge(re(u)),g]}else i=[g];l.seq.splice(1,0,...i),o.use(n);let p=ve(n);return p&&(Object.assign(Ta(o),Pl(o.shortName,p)),o.defaultConfig.parent=p),Bl(n,o,"effect"),o}function pt(e,r){ht(e,"merge","first argument");let t=w({name:Tl(e,"merge"),derived:1,and:r});return ze(e,t,[],"merge"),t}function Rl(e,r){let t=0;return U(uc,n=>{n in e&&(H(e[n]!=null,Ul(r,n)),t=1)}),t}function P(...e){let r,t,n,a,[[o,i,l],g]=Lr(e),p=1;return V(i)&&pe(o)&&Rl(o,"sample")&&(i=o.clock,l=o.fn,p=!o.greedy,a=o.filter,r=o.target,t=o.name,n=o.sid,o=o.source),zl("sample",i,o,a,r,l,t,g,p,1,0,n)}function on(...e){let[[r,t],n]=Lr(e);return t||(t=r,r=t.source),Rl(t,"guard"),zl("guard",t.clock,r,t.filter,t.target,null,t.name,n,!t.greedy,0,1)}function wo(e,r,t){if(ae(e))return qe(0,"restore($store)"),e;if(Cl(e)||gt(e)){let a=ve(e),o=k(r,{parent:a,name:e.shortName,and:t});return ze(gt(e)?e.doneData:e,o),a&&a.hooks.store(o),o}let n=Array.isArray(e)?[]:{};return _t(e,(a,o)=>n[o]=ae(a)?a:k(a,{name:o})),n}let Hu=typeof Symbol<"u"&&Symbol.observable||"@@observable",ir="map",Le="stack",Be=e=>(te(e)||pe(e))&&"kind"in e;const Br=e=>r=>Be(r)&&r.kind===e;let ae=Br("store"),Cl=Br("event"),gt=Br("effect"),_l=Br("domain"),Xu=Br("scope");var B={__proto__:null,unit:Be,store:ae,event:Cl,effect:gt,domain:_l,scope:Xu};let ln=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},Ie=(e,r)=>e.push(r),qe=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),X=e=>e.graphite||e,At=e=>e.family.owners,jt=e=>e.family.links,re=e=>e.stateRef,kr=e=>e.value,tt=e=>e.subscribers,ve=e=>e.parent,be=e=>e.scope,M=(e,r)=>X(e).meta[r],Me=(e,r,t)=>X(e).meta[r]=t,Ta=e=>e.compositeName;const Pa=()=>{let e=0;return()=>""+ ++e};let Yu=Pa(),Al=Pa(),Qu=Pa(),G=null,vr=()=>G&&G.template,jl=e=>(e&&G&&G.sidRoot&&(e=`${G.sidRoot}|${e}`),e),Ju=({sid:e,name:r,loc:t,method:n,fn:a})=>Jn(Oe({meta:{sidRoot:jl(e),name:r,loc:t,method:n}}),a),lr=(e,r)=>{let t=X(e);U(r,n=>{let a=X(n);t.family.type!=="domain"&&(a.family.type="crosslink"),Ie(At(a),t),Ie(jt(t),a)})},wr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(X),pe=e=>typeof e=="object"&&e!==null,te=e=>typeof e=="function",V=e=>e===void 0,Fl=e=>H(pe(e)||te(e),"expect first argument be an object");const Oo=(e,r,t,n)=>H(!(!pe(e)&&!te(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${n}`);let ht=(e,r,t)=>{Array.isArray(e)?U(e,(n,a)=>Oo(n,r,`${a} item of ${t}`,"")):Oo(e,r,t," or array of units")},Zu=(e,r,t="target")=>U(wr(r),n=>qe(!M(n,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),Zn=(e,{fn:r},{a:t})=>r(e,t),ec=(e,{fn:r},{a:t})=>r(t,e),Ra=(e,{fn:r})=>r(e);const Dl=(e,r,t,n)=>{let a={id:Al(),type:e,data:r};return t&&(a.order={priority:t},n&&(a.order.barrierID=++rc)),a};let rc=0,Z=({from:e="store",store:r,target:t,to:n=t?"store":Le,batch:a,priority:o})=>Dl("mov",{from:e,store:r,to:n,target:t},o,a),jr=({fn:e,batch:r,priority:t,safe:n=0,filter:a=0,pure:o=0})=>Dl("compute",{fn:e,safe:n,filter:a,pure:o},t,r),Ca=({fn:e})=>jr({fn:e,priority:"effect"}),fe=(e,r,t)=>jr({fn:e,safe:1,filter:r,priority:t&&"effect"}),Ge=(e,r,t)=>Z({store:e,to:r?Le:"a",priority:t&&"sampler",batch:1}),xe=(e=Ra,r)=>jr({fn:e,pure:1,filter:r}),Eo={mov:Z,compute:jr,filter:({fn:e,pure:r})=>jr({fn:e,filter:1,pure:r}),run:Ca},sr=e=>({id:Al(),current:e}),Tr=({current:e})=>e,ea=(e,r)=>{e.before||(e.before=[]),Ie(e.before,r)},tr=null;const _a=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||ta(e.v.type)>ta(r.v.type))&&(t=e,e=r,r=t),t=_a(e.r,r),e.r=e.l,e.l=t,e},Aa=[];let ko=0;for(;ko<6;)Ie(Aa,{first:null,last:null,size:0}),ko+=1;const tc=()=>{for(let e=0;e<6;e++){let r=Aa[e];if(r.size>0){if(e===3||e===4){r.size-=1;let n=tr.v;return tr=_a(tr.l,tr.r),n}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},je=(e,r,t,n,a,o)=>ra(0,{a:null,b:null,node:t,parent:n,value:a,page:r,scope:o},e),ra=(e,r,t,n=0)=>{let a=ta(t),o=Aa[a],i={v:{idx:e,stack:r,type:t,id:n},l:null,r:null};a===3||a===4?tr=_a(tr,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},ta=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},sn=new Set;let A,Wr=1,nt=0,at=0,ce=null,nc=e=>{A=e},To=e=>{ce=e};const Ml=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=ve(e);if(e)return e}return null};let ac=(e,r,t,n,a)=>{let o=Ml(e,n.id);return o?o.reg[n.id]:r?(ur(r,n,a),r.reg[n.id]):n},ur=(e,r,t,n,a)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!a){let g=0,p=t||!r.noInit||n;U(r.before,u=>{switch(u.type){case ir:{let v=u.from;if(v||u.fn){v&&ur(e,v,t,n);let f=v&&o[v.id].current;p&&(l.current=u.fn?u.fn(f):f)}break}case"field":g||(g=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),ur(e,u.from,t,n),p&&(l.current[u.field]=o[o[u.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const oc=(e,r,t)=>{try{return r(kr(t),e.scope,t)}catch(n){console.error(n),e.fail=1}};let na=(e,r={})=>(pe(e)&&(na(e.or,r),_t(e,(t,n)=>{V(t)||n==="or"||n==="and"||(r[n]=t)}),na(e.and,r)),r);const Po=(e,r)=>{ln(e.next,r),ln(At(e),r),ln(jt(e),r)},aa=(e,r,t)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let a=jt(e);for(;n=a.pop();)Po(n,e),(r||t&&M(e,"op")!=="sample"||n.family.type==="crosslink")&&aa(n,r,M(n,"op")!=="on"&&t);for(a=At(e);n=a.pop();)Po(n,e),t&&n.family.type==="crosslink"&&aa(n,r,M(n,"op")!=="on"&&t)},hr=e=>e.clear();let ic=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),ae(e))hr(tt(e));else if(_l(e)){t=1;let n=e.history;hr(n.events),hr(n.effects),hr(n.stores),hr(n.domains)}aa(X(e),!!r,t)},Nl=e=>{let r=()=>ic(e);return r.unsubscribe=r,r},ze=(e,r,t,n,a)=>Oe({node:t,parent:e,child:r,scope:{fn:a},meta:{op:n},family:{owners:[e,r],links:r},regional:1}),Ll=(e,r)=>(H(te(r),".watch argument should be a function"),Nl(Oe({scope:{fn:r},node:[Ca({fn:Ra})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Bl=(e,r,t="event")=>{ve(e)&&ve(e).hooks[t](r)},ql=(e,r,t,n)=>{let a=e==="domain",o=Yu(),i=na({or:n,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:g=null,named:p=null}=i,u=p||i.name||(a?"":o),v=Pl(u,l),f={op:r.kind=e,name:r.shortName=u,sid:r.sid=jl(g),named:p,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=v,r.defaultConfig=i,r.thru=s=>(qe(0,"thru","js pipe"),s(r)),r.getType=()=>v.fullName,!a){r.subscribe=c=>(Fl(c),r.watch(te(c)?c:y=>c.next&&c.next(y))),r[Hu]=()=>r;let s=vr();s&&(f.nativeTemplate=s)}return f};const un=(e,r,t,n)=>{let a;pe(t)&&(a=t,t=t.fn);let o=w({name:`${e.shortName} \u2192 *`,derived:1,and:a});return ze(e,o,n,r,t),o},Ro=(e,r,t,n,a)=>{let o=re(r),i=Z({store:o,to:"a",priority:"read"});t===ir&&(i.data.softRead=1);let l=[i,xe(n)];return ee("storeOnMap",o,l,ae(e)&&re(e)),ze(e,r,l,t,a)},lc=(e,r,t,n,a)=>{let o=e?c=>c.slice():c=>({...c}),i=e?[]:{},l=o(i),g=sr(l),p=sr(1);g.type=e?"list":"shape",g.noInit=1,ee("combineBase",g,p);let u=k(l,{name:Tl(t),derived:1,and:n}),v=re(u);v.noInit=1,Me(u,"isCombine",1);let f=Ge(g);f.order={priority:"barrier"};let s=[fe((c,y,h)=>(h.scope&&!h.scope.reg[g.id]&&(h.c=1),c)),f,Z({store:p,to:"b"}),fe((c,{key:y},h)=>{if(h.c||c!==h.a[y])return r&&h.b&&(h.a=o(h.a)),h.a[y]=c,1},1),Z({from:"a",target:g}),Z({from:"value",store:0,target:p}),Z({from:"value",store:1,target:p,priority:"barrier",batch:1}),Ge(g,1),a&&xe()];return _t(t,(c,y)=>{if(!ae(c))return H(!Be(c)&&!V(c),`combine expects a store in a field ${y}`),void(l[y]=i[y]=c);i[y]=c.defaultState,l[y]=c.getState();let h=ze(c,u,s,"combine",a);h.scope.key=y;let d=re(c);ea(g,{type:"field",field:y,from:d}),ee("combineField",d,h)}),u.defaultShape=t,ea(v,{type:ir,from:g,fn:a}),vr()||(u.defaultState=a?v.current=a(l):i),u};let Gl=(e,r,t)=>{try{return[1,e(...t)]}catch(n){return r(n),[0,null]}},mt=(e,r,t,n,a)=>o=>C({target:[n,sc],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:a.page,scope:be(a)});const sc=Oe({node:[Ca({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),uc=["source","clock","target"],Ul=(e,r)=>e+`: ${r} should be defined`;let zl=(e,r,t,n,a,o,i,l,g,p,u,v)=>{let f=!!a;H(!V(t)||!V(r),Ul(e,"either source or clock"));let s=0;V(t)?s=1:Be(t)||(t=Ee(t)),V(r)?r=t:(ht(r,e,"clock"),Array.isArray(r)&&(r=pt(r))),s&&(t=r),l||i||(i=t.shortName);let c="none";(u||n)&&(Be(n)?c="unit":(H(te(n),"`filter` should be function or unit"),c="fn")),a?(ht(a,e,"target"),Zu(e,a)):c==="none"&&p&&ae(t)&&ae(r)?a=k(o?o(Tr(re(t)),Tr(re(r))):Tr(re(t)),{name:i,sid:v,or:l}):(a=w({name:i,derived:1,or:l}),ee("sampleTarget",X(a)));let y=sr(),h=[];if(c==="unit"){let[$,b]=Co(n,a,r,y,e);h=[...cn(b),...cn($)]}let[d,m]=Co(t,a,r,y,e);return lr(t,[ze(r,a,[ee("sampleSourceLoader"),Z({from:Le,target:y}),...cn(m),Ge(d,1,g),...h,Ge(y),c==="fn"&&xe(($,b,{a:S})=>n($,S),1),o&&xe(Zn),ee("sampleSourceUpward",f)],e,o)]),a};const cn=e=>[Ge(e),fe((r,t,{a:n})=>n,1)],Co=(e,r,t,n,a)=>{let o=ae(e),i=o?re(e):sr(),l=sr(o);return o||Oe({parent:e,node:[Z({from:Le,target:i}),Z({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:a},regional:1}),ee("sampleSource",l,i,n),[i,l]};function ot(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function Pr(e){var r,t;e.status="active",r=it(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function it(e){return e.group.activeChilds[e.priority]}function _o(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&Pr(r)}function W(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(Pr(r),it(r).first||ot(r.group,r.priority)));var t,n,a,o;r.status==="active"&&(r.status="pending",it(r).first||((a=r.group).queue[o=r.priority].last?(a.cursor[o].prev=a.queue[o].last,a.queue[o].last.cursor[o].next=a,a.queue[o].last=a):a.queue[o].first=a.queue[o].last=a),n=r,(t=it(r)).last?(n.cursor.prev=t.last,t.last.cursor.next=n,t.last=n):t.first=t.last=n),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=es(r.group.queue.execQueue))}function cc(e){De("execQueue");let r,t,n=Ce(),a=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(Ce()-n>=1e3){a=1;break e}let o=!!e.props.first;for(o&&De("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(Ce()-n>=1e3){a=1,se("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Pr(t)}ot(r,"props")}o&&se("props");let i=!!e.tree.first;for(i&&De("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(Ce()-n>=1e3){a=1,se("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Pr(t)}ot(r,"tree")}i&&se("tree");let l=!!e.data.first;for(l&&De("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(Ce()-n>=1e3){a=1,se("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Pr(t)}ot(r,"data")}l&&se("data")}if(se("execQueue"),a)e.rafID=es(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function Rr({value:e,runOp:r,group:t,priority:n}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:n,group:t,cursor:{prev:null,next:null}}}function fc({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=cc.bind(null,r),r}function Fr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function vc({value:e,group:r,onInit:t,onChange:n}){let a=Rr({value:e,group:r,runOp(i){o.status="A",n(i)},priority:"data"}),o={status:"IA",value:a.value,ops:{init:Rr({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:a,terminate:Rr({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return W(1,o.ops.init),o}function dc(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",W(1,e.ops.terminate);break;case"AA":e.status="AT",W(1,e.ops.terminate),W(e.value.active,e.ops.change);break;case"IA":e.status="T",W(0,e.ops.init)}}function pc(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",W(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",W(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function gc(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function Kl(e,r){for(let t=0;t<r.length;t++){let{type:n,field:a,value:o}=r[t];Sc[n](e,a,o)}}function Ft(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function Vl(e,r,t){Ft(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function Wl(e,r,t){Ft(t)?delete e.style[r]:e.style[r]=`${t}`}function Hl(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function Xl(e,r,t){Ft(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function Yl(e,r,t){if(Ft(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function oa(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function cr({fn:e,state:r={},defer:t=0,name:n="",draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:g=0}){let p=T,u={id:++xc,name:n,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:Ic,upward:Eo.filter({fn(f,s,c){if(!c.page){if(!c.parent||!c.parent.page)return 1;c.page=c.parent.page}if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page upward"),0;let y=[c.page.template],h=[c.page];{let d=c.page.parent;for(;d;)h.push(d),y.push(d.template),d=d.parent}return c.node.next.forEach(d=>{let m=d.meta.nativeTemplate;if(m)if(y.includes(m)){let $=h[y.indexOf(m)];C({target:d,params:f,defer:1,page:$,stack:c,scope:c.scope})}else console.error("context drift",{stack:c,node:d});else C({target:d,params:f,defer:1,page:c.page,stack:c,scope:c.scope})}),0}}),loader:Eo.filter({fn(f,s,c){if(c.parent){let y=c.scope?c.scope.graphite.id:null;if(c.page){if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page loader"),0;if(c.page.template===u)return 1;if(c.page.root.childSpawns[c.page.fullID][u.id])c.page.root.childSpawns[c.page.fullID][u.id].forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&C({params:f,target:c.node,page:h,defer:1,scope:c.scope})});else{let h=c.page.fullID,d=c.page.template.name==="rec";u.pages.forEach(m=>{if(!y||m.root.scope&&y===m.root.scope.graphite.id)if(m.fullID===h||m.fullID.startsWith(`${h}_`)){let $=1;if(d){let b=c.page.template.id,S=m.parent;for(;S&&S!==c.page;){if(S.template.id===b){$=0;break}S=S.parent}}$&&C({params:f,target:c.node,page:m,defer:1,scope:c.scope})}else h.startsWith(`${m.fullID}_`)&&C({params:f,target:c.node,page:c.page,defer:1,scope:c.scope})})}}else u.pages.forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&C({params:f,target:c.node,page:h,defer:1,scope:c.scope})});return 0}return 1}}),parent:p,node:null,api:null,trigger:{mount:w({named:"mount"})},draft:a,isSvgRoot:o,namespace:i,env:l,isBlock:g||!(!p||!p.isBlock)};p&&p.childTemplates.push(u);let v=Oe({meta:{template:u}});return u.node=v,T=u,t?u.deferredInit=()=>{let f=T;T=u,u.deferredInit=null;try{Jn(v,()=>{let s=wo(r);u.api=e(s,u.trigger),u.nameMap=s})}finally{T=f}}:Jn(v,()=>{let f=wo(r);u.api=e(f,u.trigger),u.nameMap=f}),T=p,u}function hc(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function Ql(e,r,t){let n=r;for(;n&&!Mr(n,e);)n=n.parent;return n?Mr(n,e):t?(t.getState(e),t.reg[e.id]):e}function fn(e,r){Mr(r,e)||(r.reg[e.id]=Ql(e,r.parent,r.root.scope))}function Ao(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function yt(e,{values:r={},parentLeaf:t,mountNode:n,svgRoot:a,leafData:o,opGroup:i,domSubtree:l,hydration:g,root:p}){function u(h){if(h.before)for(let d=0;d<h.before.length;d++){let m=h.before[d];switch(m.type){case"map":{let $,b=m.from;if(!m.fn&&!b)break;b&&(fn(b,s),$=f[b.id].current),f[h.id].current=m.fn?m.fn($):$;break}case"field":{let $=m.from;fn($,s),f[h.id].current[m.field]=f[$.id].current;break}case"closure":fn(m.of,s)}}}function v(h,d,m){let $;d.stop=1;try{for(;d.i<h.length;)$=h[d.i],d.i++,$.fn(m[$.of.id]?m[$.of.id].current:Ql($.of,s.parent,s.root.scope).current)}catch(b){console.error(b),d.stop=0}}let f={},s={draft:e.draft,svgRoot:a,data:o,parent:t,hydration:g,mountNode:n,root:p,id:++wc,fullID:"",reg:f,template:e};e.pages.push(s);let c=or;or=s,t&&Ao([s],e.id,p.childSpawns[t.fullID]),s.fullID=t?`${t.fullID}_${s.id}`:`${s.id}`,p.childSpawns[s.fullID]={},p.activeSpawns.add(s.fullID),p.leafOps[s.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let d=e.closure[h],m=d,$=s.parent;e:for(;$;){if(Mr($,d)){m=Mr($,d);break e}$=$.parent}!$&&p.scope&&(p.scope.getState(d),m=p.scope.reg[d.id]),f[d.id]=m}for(let h=0;h<e.plain.length;h++){let d=e.plain[h],m={id:d.id,current:hc(d,p.scope)};f[d.id]=m}for(let h in r){let d=e.nameMap[h].stateRef.id;f[d]={id:d,current:r[h]}}e.closure.forEach(u),e.plain.forEach(u);let y={i:0,stop:0};for(;!y.stop;)v(e.watch,y,f);if(t)for(let h in p.childSpawns[s.fullID])Ao(p.childSpawns[s.fullID][h],h,p.childSpawns[t.fullID]);if($e)$e.steps.push({target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope});else{let h;$e={parent:$e,steps:[{target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope}]};do for(;h=$e.steps.shift();)$e={parent:$e,steps:[]},C(h);while($e=$e.parent)}return or=c,s}function $t(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function bt(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=bt(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=bt(r);if(t)return t;r=r.left}return null}default:return null}}function St(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=bt(r);if(t)return t;r=r.left}return St(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let n=r.child[t];if(!n)continue;let a=bt(n);if(a)return a}switch(r.type){case"element":case"using":return null}return St(r)}default:return null}}function ia(e){let r=St(e);return r?r.value:null}function Dr(e,r){if(!e)throw Error(r)}function qr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function It(e){if(!T)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(T.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=T.draft.childCount,T.draft.childCount+=1,T.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${T.draft.type}`)}}function Se(e,{parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o}){e.childTemplates.forEach(i=>{ja({parentBlockFragment:r,leaf:t,node:n,svgRoot:a,values:o,actor:i})})}function ja({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:n,svgRoot:a,values:o}){let i;Dr(Oc.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=n,{queue:g}=r.root.leafOps[r.fullID].group,p=Fr(g),u=r.root.leafOps[r.fullID].domSubtree,v=u;switch(l.type){case"route":{let s={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"route",block:s,ops:{},initialized:0,pendingInit:null};break}case"element":{let s;if(n.isBlock){let y,h,d=r;for(;d&&(!h||!y);){d.template.env&&(y=d.template.env);let{draft:m}=d;m.type==="element"&&(m.tag==="svg"?h="svg":m.tag==="foreignObject"&&(h="html")),d=d.parent}h||(h="html"),y&&(s=h==="svg"?y.document.createElementNS("http://www.w3.org/2000/svg",l.tag):y.document.createElement(l.tag),Kl(s,l.staticSeq))}else s=l.stencil.cloneNode();let c={type:"element",parent:e,child:[],value:s,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"element",block:c,ops:{visible:Rr({value:0,priority:"tree",runOp(y){if(y){Jl(c);let h=i;h.needToCallNode&&(h.needToCallNode=0,C({target:wt,params:{element:c.value,fns:l.node},page:f,scope:r.root.scope})),c.visible=1}else c.value.remove(),c.visible=0},group:u})},needToCallNode:l.node.length>0},v=Fr(g);break}case"list":{let s={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"list",draft:l,block:s,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let s={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec",block:s};break}case"recItem":{let s={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec item",block:s};break}case"block":{let s={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block",block:s};break}case"blockItem":{let s={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block item",block:s};break}default:console.warn(`unexpected draft type ${l.type}`)}let f=yt(n,{values:o,parentLeaf:r,mountNode:t,svgRoot:a||r.svgRoot,leafData:i,opGroup:p,domSubtree:v,hydration:r.hydration,root:r.root})}function Jl(e){let r=ia(e);r?r.after(e.value):$t(e).prepend(e.value),e.visible=1}function nr({mount:e,state:r,onMount:t,onState:n}){return{onMount:P({source:r,clock:e,fn:t,greedy:1}),onState:P({source:e,clock:r,fn:n,greedy:1})}}function Cr(e,r){for(let t in e)r(e[t],t)}function jo(e,r){if(!T)return;let t=T.draft;Dr(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)Dr(B.unit(r[l]),`handler for "${l}" should be event`);let{passive:n=0,capture:a=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:n,capture:a},map:r})}function de(e){qr(T,"spec");let r=T.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let a=e.text,o=r.childCount;Array.isArray(a)?(r.text.push(...a.map((i,l)=>({index:l+o,value:i}))),r.childCount+=a.length):(r.text.push({index:o,value:a}),r.childCount+=1)}if(e.style){let a={};for(let o in e.style)a[gc(o)]=e.style[o];r.style.push(a)}var t,n;if(e.classList&&(t=e.classList,n=a=>r.classList.push(a),Array.isArray(t)?t.forEach(a=>{let o=typeof a=="string"?a:a.map(l=>l||""),i=typeof a=="string"?1:a.map(l=>l!==null);n({name:o,enabled:i})}):Cr(t,(a,o)=>{n({name:o,enabled:a})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let a=e.handler;typeof a.on=="object"?jo(a.config||{},a.on):jo(a)}e.\u0254&&de(e.\u0254)}function vn(e,{initCtx:r,runOp:t,hooks:{onMount:n,onState:a}}){let o=e.opsAmount++;n.watch(({value:i,leaf:l})=>{let g=r(i,l),p=Rr({value:i,priority:"props",runOp(u){t(u,g)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=p}),a.watch(({value:i,leaf:l})=>{W(i,l.root.leafOps[l.fullID].group.ops[o])})}function Hr(e,r,t){e[r].forEach(n=>{Cr(n,(a,o)=>{switch(r){case"data":case"styleVar":t[r][o]=a;break;case"attr":t.attr[o==="xlink:href"?"href":o]=a;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=a:t.style[o]=a}})})}function Fo(e,r,t){let n=e.data.block,a={type:"text",parent:n,visible:0,index:t,value:null};if(n.child[t]=a,e.hydration){let o=St(a);if(o)switch(o.type){case"text":a.value=e.root.env.document.createTextNode(r),o.value.after(a.value);break;case"element":a.value=o.value.nextSibling,oa(a.value,r)}else{let i=$t(a);a.value=i.firstChild,oa(a.value,r)}a.visible=1}else a.value=e.root.env.document.createTextNode(r),Jl(a);return a}function mr(e){let r=e.stateRef,t=T;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function E(e,r){let t,n=0,a=0;typeof r=="function"?(n=1,t=r):r&&(a=1,r.fn&&(n=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(n=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(n=1,t=r.\u0254.fn))),qr(T,"h");let o,i=T.env,l=T.namespace,g=l,p="html";g=p=l==="svg"?"svg":"html",e==="svg"&&(p="svg",g="svg"),T.isBlock||(o=p==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let u=o,v={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:u,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(v.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),g="html"):e==="svg"?(v.attr.push({xmlns:"http://www.w3.org/2000/svg"}),g="svg"):e==="foreignObject"&&(g="foreignObject");let f=cr({name:"element",draft:v,isSvgRoot:e==="svg",namespace:g,fn(s,{mount:c}){let y=w({named:"domElementCreated"});n&&t(),a&&de(r),B.unit(v.visible)&&(v.seq.push({type:"visible",value:v.visible}),mr(v.visible));let h={attr:{},data:{},style:{},styleVar:{}};Hr(v,"attr",h),Hr(v,"data",h),Hr(v,"style",h),Hr(v,"styleVar",h),Cr(h,(d,m)=>{Cr(d,($,b)=>{B.unit($)?(v.seq.push({type:m,field:b,value:$}),mr($)):v.staticSeq.push({type:m,field:b,value:$})})}),v.classList.forEach(d=>{if(B.unit(d.name)||B.unit(d.enabled)){let m=B.unit(d.name)?d.name:k(d.name),$=B.unit(d.enabled)?d.enabled:k(d.enabled);v.seq.push({type:"classList",field:m,value:$}),mr(m),mr($)}else B.unit(d.name)||v.staticSeq.push({type:"classList",field:d.name,value:d.enabled})}),v.text.forEach(d=>{d.value!==null&&(B.unit(d.value)?(v.seq.push({type:"dynamicText",value:d.value,childIndex:d.index}),mr(d.value)):v.seq.push({type:"staticText",value:String(d.value),childIndex:d.index}))}),v.handler.forEach(d=>{Cr(d.map,(m,$)=>{v.seq.push({type:"handler",for:$,handler:m,options:d.options,domConfig:d.domConfig})})}),u&&Kl(u,v.staticSeq),v.seq.forEach(d=>{switch(d.type){case"visible":{let{onMount:m,onState:$}=nr({mount:c,state:d.value,onMount:(b,S)=>({leaf:S,value:b,hydration:S.hydration}),onState:(b,S)=>({leaf:b,value:S,hydration:0})});m.watch(({leaf:b,value:S,hydration:I})=>{let x=b.data,O=x.block;if(I&&(_o(S,x.ops.visible),S)){let j,L=ia(O);if(j=L?L.nextSibling:$t(O).firstChild,j.nodeName==="#text"){let he=j;j=j.nextSibling,he.remove()}O.value=j,O.visible=1}Se(v,{parentBlockFragment:O,leaf:b,node:O.value,svgRoot:f.isSvgRoot?O.value:null}),S&&x.needToCallNode&&(x.needToCallNode=0,C({target:wt,params:{element:x.block.value,fns:v.node},page:b,defer:1,scope:b.root.scope})),C({target:y,params:b,defer:1,page:b,scope:b.root.scope})}),pt([$,m]).watch(({leaf:b,value:S,hydration:I})=>{I||W(S,b.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let m=Bo[d.type],$=Ec.some(({type:S,field:I})=>d.type===S&&d.field===I),b=nr({mount:y,state:d.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});$?pt([b.onState,b.onMount]).watch(({leaf:S,value:I})=>{m(Xr(S),d.field,I)}):vn(v,{initCtx(S,I){let x=Xr(I);return m(x,d.field,S),x},runOp(S,I){m(I,d.field,S)},hooks:b});break}case"classList":{let m=Bo.classList,$=k({prev:"",curr:d.field.getState()}).on(d.field,({curr:S},I)=>({prev:S,curr:I})),b=nr({mount:y,state:Ee({name:$,enabled:d.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});vn(v,{initCtx(S,I){let x=Xr(I);return m(x,S.name.curr,S.enabled),x},runOp(S,I){S.name.prev!==S.name.curr&&m(I,S.name.prev,0),m(I,S.name.curr,S.enabled)},hooks:b});break}case"dynamicText":vn(v,{initCtx:(m,$)=>Fo($,m,d.childIndex),runOp(m,$){oa($.value,m)},hooks:nr({mount:y,state:d.value,onMount:(m,$)=>({leaf:$,value:String(m)}),onState:(m,$)=>({leaf:m,value:String($)})})});break;case"staticText":y.watch(m=>{Fo(m,d.value,d.childIndex)});break;case"handler":{let m=d.handler.graphite.meta.nativeTemplate||null;y.watch($=>{let b=null;if(m){let S=0,I=$;for(;!S&&I;)I.template===m?(S=1,b=I):I=I.parent}else b=null;Xr($).addEventListener(d.for,S=>{d.options.prevent&&S.preventDefault(),d.options.stop&&S.stopPropagation(),C({target:d.handler,params:S,page:b,scope:$.root.scope})},d.domConfig)});break}}}),c.watch(d=>{let m=d.data;if(!v.visible){let $=m.ops.visible,b=m.block;if(d.hydration){_o(1,$);let S,I=ia(b);if(S=I?I.nextSibling:$t(b).firstChild,S.nodeName==="#text"){let x=S;S=S.nextSibling,x.remove()}b.value=S,b.visible=1}Se(v,{parentBlockFragment:b,leaf:d,node:b.value,svgRoot:f.isSvgRoot?b.value:null}),C({target:y,params:d,defer:1,page:d,scope:d.root.scope}),d.hydration?m.needToCallNode&&(m.needToCallNode=0,C({target:wt,params:{element:m.block.value,fns:v.node},page:d,defer:1,scope:d.root.scope})):W(1,$)}})},env:i});It(f)}function Do(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function mc(e,r){let t,n,a,o,i,l;if(typeof r=="function")t=r,a=Do(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,a=r.env?r.env:Do(),o=r.hydrate,n=r.onComplete,i=r.onRoot,l=r.scope}Dr(e,"using() first argument is missing");let g={scope:l,env:a,activeSpawns:new Set,childSpawns:{},leafOps:{}},p=e.namespaceURI,u=e.tagName.toLowerCase(),v={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},f=cr({name:"using",draft:v,isSvgRoot:u==="svg",namespace:p==="http://www.w3.org/2000/svg"?"svg":u==="foreignobject"?"foreignObject":"html",fn(h,{mount:d}){t(),d.watch(Ma.using)},env:a}),s={type:"using",child:[],value:e},c=fc({onComplete:n}),y=yt(f,{parentLeaf:or||null,mountNode:e,svgRoot:f.isSvgRoot?e:or?or.svgRoot:null,leafData:{type:"using",draft:v,element:e,block:s},opGroup:Fr(c),domSubtree:Fr(c),hydration:o,root:g});if(i&&i({template:f,leaf:y}),c.onDrain&&!c.rafID){let h=c.onDrain;c.onDrain=null,h()}}function la(e,r){let t=e.root.childSpawns[e.fullID];for(let n in t){let a=t[n];for(let o=0;o<a.length;o++)r(a[o])}}function Zl(e,r){let t=n=>{let a=n.data;if(e&&a.type==="list"&&a.pendingUpdate){let o=a.pendingUpdate;a.pendingUpdate=null,C({target:n.template.api.pendingUpdate,params:o,defer:1,page:n,scope:n.root.scope})}if(e&&a.type==="route"){if(a.pendingInit){let o=a.pendingInit.value;a.pendingInit=null,C({target:n.template.api.pendingInit,params:o,defer:1,page:n,scope:n.root.scope})}else if(!a.block.visible)return}switch(a.type){case"element":W(e,a.ops.visible);break;case"route":case"list":case"list item":la(n,t);break;default:console.log("unsupported type",a.type)}};la(r,t)}function dn(e){e.root.activeSpawns.delete(e.fullID),la(e,Fa)}function pn(e){_r(e,e.root.childSpawns[e.parent.fullID][e.template.id]),_r(e,e.template.pages)}function Fa(e){let{data:r,root:t}=e;switch(r.type){case"element":_r(e,t.childSpawns[e.parent.fullID][e.template.id]),function n(a){t.activeSpawns.delete(a.fullID);let o=t.childSpawns[a.fullID];delete t.childSpawns[a.fullID],delete t.leafOps[a.fullID],_r(a,a.template.pages);for(let i in o)o[i].forEach(n)}(e),W(0,r.ops.visible);break;case"list":{let n=r.records;for(let a=0;a<n.length;a++){let o=n[a];o.instance&&Fa(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),pn(e);break}case"list item":{let n=r.block;_r(n,n.parent.child);let a=n.left,o=n.right;a&&(a.right=o,o||n.parent.lastChild!==n||(n.parent.lastChild=a)),o&&(o.left=a),a||o||n.parent.lastChild!==n||(n.parent.lastChild=null),n.left=null,n.right=null,dn(e),pn(e);break}case"route":dn(e),pn(e);break;case"block":case"block item":case"rec":case"rec item":dn(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function _r(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function yc(e,r){if(Array.isArray(r))return r.map(t=>e.map(n=>n[t]));if(typeof r=="object"&&r!==null){let t={};for(let n in r){let a=r[n];t[n]=e.map(typeof a=="function"?o=>a(o):o=>o[a])}return t}return e.map(t=>t[r])}function Da(e,r){qr(T,"list"),typeof r=="function"&&(B.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:n,source:a,fields:o=[]}=e,i=n!==void 0?typeof n=="function"?n:u=>u[n]:(u,v)=>v,l={type:"list",key:B.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:g,namespace:p}=T;It(cr({name:"list",draft:l,isSvgRoot:0,namespace:p,fn(u,{mount:v}){let f=cr({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:p,fn({id:m,store:$},{mount:b}){t({store:$,key:m,fields:yc($,o)});let S=w({named:"itemUpdater"});if($.on(S,(I,x)=>x),l.itemVisible){let{onMount:I,onState:x}=nr({mount:b,state:l.itemVisible,onMount:(O,j)=>({visible:O,leaf:j}),onState:(O,j)=>({visible:j,leaf:O})});I.watch(({visible:O,leaf:j})=>{let L=j.data.block;L.visible=O,L.childInitialized=O,O&&Se(l,{parentBlockFragment:L,leaf:j})}),x.watch(({visible:O,leaf:j})=>{let L=j.data.block;L.visible=O,L.childInitialized?Zl(O,j):O&&(L.childInitialized=1,Se(l,{parentBlockFragment:L,leaf:j}))})}else b.watch(Ma.listItem);return{itemUpdater:S}},env:g}),s=k([]),c=a.map(m=>m),y=P({source:a,clock:v,fn:(m,$)=>({updates:m,leaf:$,hydration:$.hydration}),greedy:1}),h=w(),d=P({source:y,clock:[c,h],fn:({leaf:m},$)=>({updates:$,leaf:m,hydration:0}),greedy:1});return P({source:s,clock:[y,d],greedy:1,fn(m,{updates:$,leaf:b,hydration:S}){let I=b.data,x=b;for(;x;){if(x.data.type==="route"&&!x.data.block.visible)return void(I.pendingUpdate=$);x=x.parent}let O=I.block;De("list update ["+a.shortName+"]");let j=Array($.length).fill(0),L=$.map(i),he=[];for(let me=0;me<m.length;me++){let ie=m[me],ke=L.indexOf(ie.key);ke!==-1?(he.push(ie),j[ke]=1,pc($[ke],ie.asyncValue)):(ie.active=0,ie.instance&&Fa(ie.instance),dc(ie.asyncValue))}for(let me=0;me<$.length;me++){if(j[me])continue;let ie=$[me],ke=L[me],nn=Fr(b.root.leafOps[b.fullID].group.queue),Te={type:"LF",parent:O,child:[],childInitialized:0,visible:0,left:null,right:null},le={type:"listItem",key:ke,index:ke,active:1,leafData:{type:"list item",block:Te,listDraft:l},asyncValue:vc({value:ie,group:nn,onChange(Ae){le.instance&&C({target:le.instance.template.api.itemUpdater,params:Ae,defer:1,page:le.instance,scope:le.instance.root.scope})},onInit(Ae){le.active&&(S||(le.instance=yt(f,{values:{id:ke,store:Ae},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:le.leafData,opGroup:nn,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root})))}})},Io=he.length;he.push(le);let xo=Io>0?he[Io-1].leafData:null;if(O.child.push(Te),xo){let Ae=xo.block;Te.left=Ae;let an=Ae.right;an?(an.left=Te,Te.right=an):O.lastChild=Te,Ae.right=Te}else O.lastChild=Te;S&&(le.instance=yt(f,{values:{id:ke,store:ie},parentLeaf:b,mountNode:b.mountNode,svgRoot:b.svgRoot,leafData:le.leafData,opGroup:nn,domSubtree:b.root.leafOps[b.fullID].domSubtree,hydration:S,root:b.root}))}return se("list update ["+a.shortName+"]"),he.length===0&&(O.lastChild=null),I.records=he,he},target:s}),{pendingUpdate:h}},env:g}))}function Mo({source:e,visible:r,fn:t}){qr(T,"route");let{env:n,namespace:a}=T,o=cr({name:"route",isSvgRoot:0,namespace:a,env:n,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let g;if(B.store(r))g=Ee({value:e,visible:r});else{let c=r;g=e.map(y=>({value:y,visible:c(y)}))}let p=cr({name:"route item",isSvgRoot:0,namespace:a,env:n,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:c},{mount:y}){let h=w({named:"itemUpdater"});c.on(h,(m,$)=>$),t({store:c});let d=P({source:y,clock:g,fn:(m,{visible:$,value:b})=>({leaf:m,visible:$,value:b}),greedy:1});y.watch(Ma.routeItem),d.watch(({leaf:m,visible:$,value:b})=>{if(m.data.block.visible=$,$&&C({target:h,params:b,defer:1,page:m,scope:m.root.scope}),$){let S=m.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}Zl($,m)})}});It(p);let{onMount:u,onState:v}=nr({mount:l,state:g,onMount:({visible:c,value:y},h)=>({leaf:h,visible:c,value:y}),onState:(c,{visible:y,value:h})=>({leaf:c,visible:y,value:h})}),f=w(),s=P({source:l,clock:f,greedy:1,fn:(c,y)=>({leaf:c,value:y,visible:1})});return pt([u,v,s]).watch(({leaf:c,visible:y,value:h})=>{let d=c.data;if(d.block.visible=y,y||d.initialized||!d.pendingInit){if(y&&!d.initialized){let m=c.parent;for(;m;){if(m.data.type==="route"&&!m.data.block.visible)return void(d.pendingInit={value:h});m=m.parent}}y&&!d.initialized&&(ja({parentBlockFragment:d.block,leaf:c,actor:p,values:{store:h}}),d.initialized=1)}else d.pendingInit=null}),{pendingInit:f}}});It(o)}function $c({source:e,cases:r,key:t}){let n;qr(T,"variant"),Dr(B.unit(e),"variant({source}) should be unit"),n=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let a=0;for(let o in r)o!=="__"?Mo({source:e,visible:i=>n(i)===o,fn:r[o]}):a=1;if(a){let o=Object.keys(r);Mo({source:e,visible:i=>!o.includes(n(i)),fn:r.__})}}function bc(e,r){if(r.length===0)return e;let t=[e[0]];for(let n=0;n<r.length;n++)t.push(r[n],e[n+1]);return t}function xt(e,...r){Array.isArray(e)?de({text:bc(e,r)}):de({text:e})}let Ce;Ce=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let sa=new Map;const Or=[],No=e=>{let r=sa.get(e);r||(r={calls:0,time:0,label:e,childTime:0},sa.set(e,r)),r.calls+=1,Or.push({bucket:r,pendingStart:Ce()})},Lo=e=>{let r=sa.get(e),t=Or.pop().pendingStart,n=Ce()-t;r.time+=n,Or.length>0&&(Or[Or.length-1].bucket.childTime+=n)};let De,se;typeof performance<"u"&&performance.mark?(De=e=>{performance.mark("\u2604\uFE0F "+e+" start"),No(e)},se=e=>{Lo(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(De=e=>{No(e)},se=e=>{Lo(e)});let es=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const Sc={attr:Yl,data:Xl,style:Wl,styleVar:Vl,classList:Hl},ye=(e,r)=>e.includes(r);let Ic={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,n){var a,o;t.unshift(e.loader),t.push(e.upward),n&&(ye(e.plain,n)||(ye(e.closure,n)||e.closure.push(n),o={type:"closure",of:n},(a=r).before||(a.before=[]),a.before.push(o)))},storeMap(e,r,t){ye(e.plain,r)||ye(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){ye(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){ye(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,n){r.current?ye(e.plain,t)||ye(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),ye(e.plain,n)||e.plain.push(n)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},xc=0,wc=0,T=null,or=null;const Mr=(e,r)=>e.reg[r.id];let $e=null;const Oc=["LF","using","element","recItem","rec","block","blockItem","route"];let wt=w({named:"onMount"});wt.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const Ec=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],Bo={attr:Yl,data:Xl,style:Wl,styleVar:Vl,classList:Hl},Xr=e=>e.data.block.value;let Ma={using(e){let r=e.data;Se(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,Se(r,{parentBlockFragment:t.block,leaf:e})},block(e){Se(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){ja({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){Se(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,Se(r.listDraft,{parentBlockFragment:t,leaf:e})}};function ue(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ot(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function fr(e,r){return Tc(e)||Rc(e,r)||ts(e,r)||_c()}function rs(e){return kc(e)||Pc(e)||ts(e)||Cc()}function kc(e){if(Array.isArray(e))return ua(e)}function Tc(e){if(Array.isArray(e))return e}function Pc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rc(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],a=!0,o=!1,i,l;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(n.push(i.value),!(r&&n.length===r));a=!0);}catch(g){o=!0,l=g}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function ts(e,r){if(!!e){if(typeof e=="string")return ua(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ua(e,r)}}function ua(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Cc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr=function(e){return e&&e.Math==Math&&e},N=Yr(typeof globalThis=="object"&&globalThis)||Yr(typeof window=="object"&&window)||Yr(typeof self=="object"&&self)||Yr(typeof qo=="object"&&qo)||function(){return this}()||Function("return this")(),Na={},R=function(e){try{return!!e()}catch{return!0}},Ac=R,z=!Ac(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),jc=R,Dt=!jc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Fc=Dt,Qr=Function.prototype.call,Y=Fc?Qr.bind(Qr):function(){return Qr.apply(Qr,arguments)},La={},ns={}.propertyIsEnumerable,as=Object.getOwnPropertyDescriptor,Dc=as&&!ns.call({1:2},1);La.f=Dc?function(r){var t=as(this,r);return!!t&&t.enumerable}:ns;var Mt=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},os=Dt,is=Function.prototype,Mc=is.bind,ca=is.call,Nc=os&&Mc.bind(ca,ca),_=os?function(e){return e&&Nc(e)}:function(e){return e&&function(){return ca.apply(e,arguments)}},ls=_,Lc=ls({}.toString),Bc=ls("".slice),Ke=function(e){return Bc(Lc(e),8,-1)},qc=_,Gc=R,Uc=Ke,gn=Object,zc=qc("".split),ss=Gc(function(){return!gn("z").propertyIsEnumerable(0)})?function(e){return Uc(e)=="String"?zc(e,""):gn(e)}:gn,Kc=TypeError,Ve=function(e){if(e==null)throw Kc("Can't call method on "+e);return e},Vc=ss,Wc=Ve,We=function(e){return Vc(Wc(e))},F=function(e){return typeof e=="function"},Hc=F,Q=function(e){return typeof e=="object"?e!==null:Hc(e)},hn=N,Xc=F,Yc=function(e){return Xc(e)?e:void 0},dr=function(e,r){return arguments.length<2?Yc(hn[e]):hn[e]&&hn[e][r]},Qc=_,Ba=Qc({}.isPrototypeOf),Jc=dr,Zc=Jc("navigator","userAgent")||"",us=N,mn=Zc,Go=us.process,Uo=us.Deno,zo=Go&&Go.versions||Uo&&Uo.version,Ko=zo&&zo.v8,J,Et;Ko&&(J=Ko.split("."),Et=J[0]>0&&J[0]<4?1:+(J[0]+J[1]));!Et&&mn&&(J=mn.match(/Edge\/(\d+)/),(!J||J[1]>=74)&&(J=mn.match(/Chrome\/(\d+)/),J&&(Et=+J[1])));var qa=Et,Vo=qa,ef=R,cs=!!Object.getOwnPropertySymbols&&!ef(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Vo&&Vo<41}),rf=cs,fs=rf&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tf=dr,nf=F,af=Ba,of=fs,lf=Object,vs=of?function(e){return typeof e=="symbol"}:function(e){var r=tf("Symbol");return nf(r)&&af(r.prototype,lf(e))},sf=String,Nt=function(e){try{return sf(e)}catch{return"Object"}},uf=F,cf=Nt,ff=TypeError,Ga=function(e){if(uf(e))return e;throw ff(cf(e)+" is not a function")},vf=Ga,pr=function(e,r){var t=e[r];return t==null?void 0:vf(t)},yn=Y,$n=F,bn=Q,df=TypeError,pf=function(e,r){var t,n;if(r==="string"&&$n(t=e.toString)&&!bn(n=yn(t,e))||$n(t=e.valueOf)&&!bn(n=yn(t,e))||r!=="string"&&$n(t=e.toString)&&!bn(n=yn(t,e)))return n;throw df("Can't convert object to primitive value")},Lt={exports:{}},Wo=N,gf=Object.defineProperty,Ua=function(e,r){try{gf(Wo,e,{value:r,configurable:!0,writable:!0})}catch{Wo[e]=r}return r},hf=N,mf=Ua,Ho="__core-js_shared__",yf=hf[Ho]||mf(Ho,{}),za=yf,Xo=za;(Lt.exports=function(e,r){return Xo[e]||(Xo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var $f=Ve,bf=Object,Gr=function(e){return bf($f(e))},Sf=_,If=Gr,xf=Sf({}.hasOwnProperty),ge=Object.hasOwn||function(r,t){return xf(If(r),t)},wf=_,Of=0,Ef=Math.random(),kf=wf(1 .toString),Ka=function(e){return"Symbol("+(e===void 0?"":e)+")_"+kf(++Of+Ef,36)},Tf=N,Pf=Lt.exports,Yo=ge,Rf=Ka,Qo=cs,ds=fs,Ye=Pf("wks"),Ne=Tf.Symbol,Jo=Ne&&Ne.for,Cf=ds?Ne:Ne&&Ne.withoutSetter||Rf,D=function(e){if(!Yo(Ye,e)||!(Qo||typeof Ye[e]=="string")){var r="Symbol."+e;Qo&&Yo(Ne,e)?Ye[e]=Ne[e]:ds&&Jo?Ye[e]=Jo(r):Ye[e]=Cf(r)}return Ye[e]},_f=Y,Zo=Q,ei=vs,Af=pr,jf=pf,Ff=D,Df=TypeError,Mf=Ff("toPrimitive"),Nf=function(e,r){if(!Zo(e)||ei(e))return e;var t=Af(e,Mf),n;if(t){if(r===void 0&&(r="default"),n=_f(t,e,r),!Zo(n)||ei(n))return n;throw Df("Can't convert object to primitive value")}return r===void 0&&(r="number"),jf(e,r)},Lf=Nf,Bf=vs,Va=function(e){var r=Lf(e,"string");return Bf(r)?r:r+""},qf=N,ri=Q,fa=qf.document,Gf=ri(fa)&&ri(fa.createElement),Wa=function(e){return Gf?fa.createElement(e):{}},Uf=z,zf=R,Kf=Wa,ps=!Uf&&!zf(function(){return Object.defineProperty(Kf("div"),"a",{get:function(){return 7}}).a!=7}),Vf=z,Wf=Y,Hf=La,Xf=Mt,Yf=We,Qf=Va,Jf=ge,Zf=ps,ti=Object.getOwnPropertyDescriptor;Na.f=Vf?ti:function(r,t){if(r=Yf(r),t=Qf(t),Zf)try{return ti(r,t)}catch{}if(Jf(r,t))return Xf(!Wf(Hf.f,r,t),r[t])};var K={},ev=z,rv=R,gs=ev&&rv(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),tv=Q,nv=String,av=TypeError,q=function(e){if(tv(e))return e;throw av(nv(e)+" is not an object")},ov=z,iv=ps,lv=gs,Jr=q,ni=Va,sv=TypeError,Sn=Object.defineProperty,uv=Object.getOwnPropertyDescriptor,In="enumerable",xn="configurable",wn="writable";K.f=ov?lv?function(r,t,n){if(Jr(r),t=ni(t),Jr(n),typeof r=="function"&&t==="prototype"&&"value"in n&&wn in n&&!n[wn]){var a=uv(r,t);a&&a[wn]&&(r[t]=n.value,n={configurable:xn in n?n[xn]:a[xn],enumerable:In in n?n[In]:a[In],writable:!1})}return Sn(r,t,n)}:Sn:function(r,t,n){if(Jr(r),t=ni(t),Jr(n),iv)try{return Sn(r,t,n)}catch{}if("get"in n||"set"in n)throw sv("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var cv=z,fv=K,vv=Mt,gr=cv?function(e,r,t){return fv.f(e,r,vv(1,t))}:function(e,r,t){return e[r]=t,e},hs={exports:{}},va=z,dv=ge,ms=Function.prototype,pv=va&&Object.getOwnPropertyDescriptor,Ha=dv(ms,"name"),gv=Ha&&function(){}.name==="something",hv=Ha&&(!va||va&&pv(ms,"name").configurable),Bt={EXISTS:Ha,PROPER:gv,CONFIGURABLE:hv},mv=_,yv=F,da=za,$v=mv(Function.toString);yv(da.inspectSource)||(da.inspectSource=function(e){return $v(e)});var Xa=da.inspectSource,bv=N,Sv=F,Iv=Xa,ai=bv.WeakMap,xv=Sv(ai)&&/native code/.test(Iv(ai)),wv=Lt.exports,Ov=Ka,oi=wv("keys"),Ya=function(e){return oi[e]||(oi[e]=Ov(e))},qt={},Ev=xv,ys=N,On=_,kv=Q,Tv=gr,En=ge,kn=za,Pv=Ya,Rv=qt,ii="Object already initialized",pa=ys.TypeError,Cv=ys.WeakMap,kt,Nr,Tt,_v=function(e){return Tt(e)?Nr(e):kt(e,{})},Av=function(e){return function(r){var t;if(!kv(r)||(t=Nr(r)).type!==e)throw pa("Incompatible receiver, "+e+" required");return t}};if(Ev||kn.state){var Fe=kn.state||(kn.state=new Cv),jv=On(Fe.get),li=On(Fe.has),Fv=On(Fe.set);kt=function(e,r){if(li(Fe,e))throw new pa(ii);return r.facade=e,Fv(Fe,e,r),r},Nr=function(e){return jv(Fe,e)||{}},Tt=function(e){return li(Fe,e)}}else{var Qe=Pv("state");Rv[Qe]=!0,kt=function(e,r){if(En(e,Qe))throw new pa(ii);return r.facade=e,Tv(e,Qe,r),r},Nr=function(e){return En(e,Qe)?e[Qe]:{}},Tt=function(e){return En(e,Qe)}}var Ur={set:kt,get:Nr,has:Tt,enforce:_v,getterFor:Av},Dv=R,Mv=F,Zr=ge,ga=z,Nv=Bt.CONFIGURABLE,Lv=Xa,$s=Ur,Bv=$s.enforce,qv=$s.get,lt=Object.defineProperty,Gv=ga&&!Dv(function(){return lt(function(){},"length",{value:8}).length!==8}),Uv=String(String).split("String"),zv=hs.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Zr(e,"name")||Nv&&e.name!==r)&&(ga?lt(e,"name",{value:r,configurable:!0}):e.name=r),Gv&&t&&Zr(t,"arity")&&e.length!==t.arity&&lt(e,"length",{value:t.arity});try{t&&Zr(t,"constructor")&&t.constructor?ga&&lt(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Bv(e);return Zr(n,"source")||(n.source=Uv.join(typeof r=="string"?r:"")),e};Function.prototype.toString=zv(function(){return Mv(this)&&qv(this).source||Lv(this)},"toString");var Kv=F,Vv=K,Wv=hs.exports,Hv=Ua,He=function(e,r,t,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:r;if(Kv(t)&&Wv(t,o,n),n.global)a?e[r]=t:Hv(r,t);else{try{n.unsafe?e[r]&&(a=!0):delete e[r]}catch{}a?e[r]=t:Vv.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},Gt={},Xv=Math.ceil,Yv=Math.floor,Qv=Math.trunc||function(r){var t=+r;return(t>0?Yv:Xv)(t)},Jv=Qv,Ut=function(e){var r=+e;return r!==r||r===0?0:Jv(r)},Zv=Ut,ed=Math.max,rd=Math.min,bs=function(e,r){var t=Zv(e);return t<0?ed(t+r,0):rd(t,r)},td=Ut,nd=Math.min,zt=function(e){return e>0?nd(td(e),9007199254740991):0},ad=zt,zr=function(e){return ad(e.length)},od=We,id=bs,ld=zr,si=function(e){return function(r,t,n){var a=od(r),o=ld(a),i=id(n,o),l;if(e&&t!=t){for(;o>i;)if(l=a[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in a)&&a[i]===t)return e||i||0;return!e&&-1}},sd={includes:si(!0),indexOf:si(!1)},ud=_,Tn=ge,cd=We,fd=sd.indexOf,vd=qt,ui=ud([].push),Ss=function(e,r){var t=cd(e),n=0,a=[],o;for(o in t)!Tn(vd,o)&&Tn(t,o)&&ui(a,o);for(;r.length>n;)Tn(t,o=r[n++])&&(~fd(a,o)||ui(a,o));return a},Qa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dd=Ss,pd=Qa,gd=pd.concat("length","prototype");Gt.f=Object.getOwnPropertyNames||function(r){return dd(r,gd)};var Is={};Is.f=Object.getOwnPropertySymbols;var hd=dr,md=_,yd=Gt,$d=Is,bd=q,Sd=md([].concat),Id=hd("Reflect","ownKeys")||function(r){var t=yd.f(bd(r)),n=$d.f;return n?Sd(t,n(r)):t},ci=ge,xd=Id,wd=Na,Od=K,Ed=function(e,r,t){for(var n=xd(r),a=Od.f,o=wd.f,i=0;i<n.length;i++){var l=n[i];!ci(e,l)&&!(t&&ci(t,l))&&a(e,l,o(r,l))}},kd=R,Td=F,Pd=/#|\.prototype\./,Kr=function(e,r){var t=Cd[Rd(e)];return t==Ad?!0:t==_d?!1:Td(r)?kd(r):!!r},Rd=Kr.normalize=function(e){return String(e).replace(Pd,".").toLowerCase()},Cd=Kr.data={},_d=Kr.NATIVE="N",Ad=Kr.POLYFILL="P",xs=Kr,Pn=N,jd=Na.f,Fd=gr,Dd=He,Md=Ua,Nd=Ed,Ld=xs,oe=function(e,r){var t=e.target,n=e.global,a=e.stat,o,i,l,g,p,u;if(n?i=Pn:a?i=Pn[t]||Md(t,{}):i=(Pn[t]||{}).prototype,i)for(l in r){if(p=r[l],e.dontCallGetSet?(u=jd(i,l),g=u&&u.value):g=i[l],o=Ld(n?l:t+(a?".":"#")+l,e.forced),!o&&g!==void 0){if(typeof p==typeof g)continue;Nd(p,g)}(e.sham||g&&g.sham)&&Fd(p,"sham",!0),Dd(i,l,p,e)}},fi=_,Bd=Ga,qd=Dt,Gd=fi(fi.bind),Ja=function(e,r){return Bd(e),r===void 0?e:qd?Gd(e,r):function(){return e.apply(r,arguments)}},Ud=Ke,ws=Array.isArray||function(r){return Ud(r)=="Array"},zd=D,Kd=zd("toStringTag"),Os={};Os[Kd]="z";var Za=String(Os)==="[object z]",Vd=Za,Wd=F,st=Ke,Hd=D,Xd=Hd("toStringTag"),Yd=Object,Qd=st(function(){return arguments}())=="Arguments",Jd=function(e,r){try{return e[r]}catch{}},Kt=Vd?st:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=Jd(r=Yd(e),Xd))=="string"?t:Qd?st(r):(n=st(r))=="Object"&&Wd(r.callee)?"Arguments":n},Zd=_,ep=R,Es=F,rp=Kt,tp=dr,np=Xa,ks=function(){},ap=[],Ts=tp("Reflect","construct"),eo=/^\s*(?:class|function)\b/,op=Zd(eo.exec),ip=!eo.exec(ks),yr=function(r){if(!Es(r))return!1;try{return Ts(ks,ap,r),!0}catch{return!1}},Ps=function(r){if(!Es(r))return!1;switch(rp(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ip||!!op(eo,np(r))}catch{return!0}};Ps.sham=!0;var Rs=!Ts||ep(function(){var e;return yr(yr.call)||!yr(Object)||!yr(function(){e=!0})||e})?Ps:yr,vi=ws,lp=Rs,sp=Q,up=D,cp=up("species"),di=Array,fp=function(e){var r;return vi(e)&&(r=e.constructor,lp(r)&&(r===di||vi(r.prototype))?r=void 0:sp(r)&&(r=r[cp],r===null&&(r=void 0))),r===void 0?di:r},vp=fp,Cs=function(e,r){return new(vp(e))(r===0?0:r)},dp=Ja,pp=_,gp=ss,hp=Gr,mp=zr,yp=Cs,pi=pp([].push),Pe=function(e){var r=e==1,t=e==2,n=e==3,a=e==4,o=e==6,i=e==7,l=e==5||o;return function(g,p,u,v){for(var f=hp(g),s=gp(f),c=dp(p,u),y=mp(s),h=0,d=v||yp,m=r?d(g,y):t||i?d(g,0):void 0,$,b;y>h;h++)if((l||h in s)&&($=s[h],b=c($,h,f),e))if(r)m[h]=b;else if(b)switch(e){case 3:return!0;case 5:return $;case 6:return h;case 2:pi(m,$)}else switch(e){case 4:return!1;case 7:pi(m,$)}return o?-1:n||a?a:m}},Vt={forEach:Pe(0),map:Pe(1),filter:Pe(2),some:Pe(3),every:Pe(4),find:Pe(5),findIndex:Pe(6),filterReject:Pe(7)},$p=R,bp=D,Sp=qa,Ip=bp("species"),ro=function(e){return Sp>=51||!$p(function(){var r=[],t=r.constructor={};return t[Ip]=function(){return{foo:1}},r[e](Boolean).foo!==1})},xp=oe,wp=Vt.map,Op=ro,Ep=Op("map");xp({target:"Array",proto:!0,forced:!Ep},{map:function(r){return wp(this,r,arguments.length>1?arguments[1]:void 0)}});var _s={},kp=Ss,Tp=Qa,As=Object.keys||function(r){return kp(r,Tp)},Pp=z,Rp=gs,Cp=K,_p=q,Ap=We,jp=As;_s.f=Pp&&!Rp?Object.defineProperties:function(r,t){_p(r);for(var n=Ap(t),a=jp(t),o=a.length,i=0,l;o>i;)Cp.f(r,l=a[i++],n[l]);return r};var Fp=dr,Dp=Fp("document","documentElement"),Mp=q,Np=_s,gi=Qa,Lp=qt,Bp=Dp,qp=Wa,Gp=Ya,hi=">",mi="<",ha="prototype",ma="script",js=Gp("IE_PROTO"),Rn=function(){},Fs=function(e){return mi+ma+hi+e+mi+"/"+ma+hi},yi=function(e){e.write(Fs("")),e.close();var r=e.parentWindow.Object;return e=null,r},Up=function(){var e=qp("iframe"),r="java"+ma+":",t;return e.style.display="none",Bp.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Fs("document.F=Object")),t.close(),t.F},et,ut=function(){try{et=new ActiveXObject("htmlfile")}catch{}ut=typeof document<"u"?document.domain&&et?yi(et):Up():yi(et);for(var e=gi.length;e--;)delete ut[ha][gi[e]];return ut()};Lp[js]=!0;var Wt=Object.create||function(r,t){var n;return r!==null?(Rn[ha]=Mp(r),n=new Rn,Rn[ha]=null,n[js]=r):n=ut(),t===void 0?n:Np.f(n,t)},zp=D,Kp=Wt,Vp=K.f,ya=zp("unscopables"),$a=Array.prototype;$a[ya]==null&&Vp($a,ya,{configurable:!0,value:Kp(null)});var Ds=function(e){$a[ya][e]=!0},Vr={},Wp=R,Hp=!Wp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Xp=ge,Yp=F,Qp=Gr,Jp=Ya,Zp=Hp,$i=Jp("IE_PROTO"),ba=Object,eg=ba.prototype,Ms=Zp?ba.getPrototypeOf:function(e){var r=Qp(e);if(Xp(r,$i))return r[$i];var t=r.constructor;return Yp(t)&&r instanceof t?t.prototype:r instanceof ba?eg:null},rg=R,tg=F,bi=Ms,ng=He,ag=D,Sa=ag("iterator"),Ns=!1,Ue,Cn,_n;[].keys&&(_n=[].keys(),"next"in _n?(Cn=bi(bi(_n)),Cn!==Object.prototype&&(Ue=Cn)):Ns=!0);var og=Ue==null||rg(function(){var e={};return Ue[Sa].call(e)!==e});og&&(Ue={});tg(Ue[Sa])||ng(Ue,Sa,function(){return this});var Ls={IteratorPrototype:Ue,BUGGY_SAFARI_ITERATORS:Ns},ig=K.f,lg=ge,sg=D,Si=sg("toStringTag"),to=function(e,r,t){e&&!t&&(e=e.prototype),e&&!lg(e,Si)&&ig(e,Si,{configurable:!0,value:r})},ug=Ls.IteratorPrototype,cg=Wt,fg=Mt,vg=to,dg=Vr,pg=function(){return this},gg=function(e,r,t,n){var a=r+" Iterator";return e.prototype=cg(ug,{next:fg(+!n,t)}),vg(e,a,!1),dg[a]=pg,e},hg=F,mg=String,yg=TypeError,$g=function(e){if(typeof e=="object"||hg(e))return e;throw yg("Can't set "+mg(e)+" as a prototype")},bg=_,Sg=q,Ig=$g,Bs=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=bg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(a,o){return Sg(a),Ig(o),e?t(a,o):a.__proto__=o,a}}():void 0),xg=oe,wg=Y,qs=Bt,Og=F,Eg=gg,Ii=Ms,xi=Bs,kg=to,Tg=gr,An=He,Pg=D,Rg=Vr,Gs=Ls,Cg=qs.PROPER,_g=qs.CONFIGURABLE,wi=Gs.IteratorPrototype,rt=Gs.BUGGY_SAFARI_ITERATORS,$r=Pg("iterator"),Oi="keys",br="values",Ei="entries",Ag=function(){return this},no=function(e,r,t,n,a,o,i){Eg(t,r,n);var l=function(d){if(d===a&&f)return f;if(!rt&&d in u)return u[d];switch(d){case Oi:return function(){return new t(this,d)};case br:return function(){return new t(this,d)};case Ei:return function(){return new t(this,d)}}return function(){return new t(this)}},g=r+" Iterator",p=!1,u=e.prototype,v=u[$r]||u["@@iterator"]||a&&u[a],f=!rt&&v||l(a),s=r=="Array"&&u.entries||v,c,y,h;if(s&&(c=Ii(s.call(new e)),c!==Object.prototype&&c.next&&(Ii(c)!==wi&&(xi?xi(c,wi):Og(c[$r])||An(c,$r,Ag)),kg(c,g,!0))),Cg&&a==br&&v&&v.name!==br&&(_g?Tg(u,"name",br):(p=!0,f=function(){return wg(v,this)})),a)if(y={values:l(br),keys:o?f:l(Oi),entries:l(Ei)},i)for(h in y)(rt||p||!(h in u))&&An(u,h,y[h]);else xg({target:r,proto:!0,forced:rt||p},y);return u[$r]!==f&&An(u,$r,f,{name:a}),Rg[r]=f,y},jg=We,ao=Ds,ki=Vr,Us=Ur,Fg=K.f,Dg=no,Mg=z,zs="Array Iterator",Ng=Us.set,Lg=Us.getterFor(zs),Bg=Dg(Array,"Array",function(e,r){Ng(this,{type:zs,target:jg(e),index:0,kind:r})},function(){var e=Lg(this),r=e.target,t=e.kind,n=e.index++;return!r||n>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:n,done:!1}:t=="values"?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}},"values"),Ti=ki.Arguments=ki.Array;ao("keys");ao("values");ao("entries");if(Mg&&Ti.name!=="values")try{Fg(Ti,"name",{value:"values"})}catch{}var oo={exports:{}},Ks={},qg=Va,Gg=K,Ug=Mt,Vs=function(e,r,t){var n=qg(r);n in e?Gg.f(e,n,Ug(0,t)):e[n]=t},Pi=bs,zg=zr,Kg=Vs,Vg=Array,Wg=Math.max,Ws=function(e,r,t){for(var n=zg(e),a=Pi(r,n),o=Pi(t===void 0?n:t,n),i=Vg(Wg(o-a,0)),l=0;a<o;a++,l++)Kg(i,l,e[a]);return i.length=l,i},Hg=Ke,Xg=We,Hs=Gt.f,Yg=Ws,Xs=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Qg=function(e){try{return Hs(e)}catch{return Yg(Xs)}};Ks.f=function(r){return Xs&&Hg(r)=="Window"?Qg(r):Hs(Xg(r))};var Jg=R,Zg=Jg(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),eh=R,rh=Q,th=Ke,Ri=Zg,ct=Object.isExtensible,nh=eh(function(){ct(1)}),ah=nh||Ri?function(r){return!rh(r)||Ri&&th(r)=="ArrayBuffer"?!1:ct?ct(r):!0}:ct,oh=R,ih=!oh(function(){return Object.isExtensible(Object.preventExtensions({}))}),lh=oe,sh=_,uh=qt,ch=Q,io=ge,fh=K.f,Ci=Gt,vh=Ks,lo=ah,dh=Ka,ph=ih,Ys=!1,we=dh("meta"),gh=0,so=function(e){fh(e,we,{value:{objectID:"O"+gh++,weakData:{}}})},hh=function(e,r){if(!ch(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!io(e,we)){if(!lo(e))return"F";if(!r)return"E";so(e)}return e[we].objectID},mh=function(e,r){if(!io(e,we)){if(!lo(e))return!0;if(!r)return!1;so(e)}return e[we].weakData},yh=function(e){return ph&&Ys&&lo(e)&&!io(e,we)&&so(e),e},$h=function(){bh.enable=function(){},Ys=!0;var e=Ci.f,r=sh([].splice),t={};t[we]=1,e(t).length&&(Ci.f=function(n){for(var a=e(n),o=0,i=a.length;o<i;o++)if(a[o]===we){r(a,o,1);break}return a},lh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:vh.f}))},bh=oo.exports={enable:$h,fastKey:hh,getWeakData:mh,onFreeze:yh};uh[we]=!0;var Sh=D,Ih=Vr,xh=Sh("iterator"),wh=Array.prototype,Oh=function(e){return e!==void 0&&(Ih.Array===e||wh[xh]===e)},Eh=Kt,_i=pr,kh=Vr,Th=D,Ph=Th("iterator"),Qs=function(e){if(e!=null)return _i(e,Ph)||_i(e,"@@iterator")||kh[Eh(e)]},Rh=Y,Ch=Ga,_h=q,Ah=Nt,jh=Qs,Fh=TypeError,Dh=function(e,r){var t=arguments.length<2?jh(e):r;if(Ch(t))return _h(Rh(t,e));throw Fh(Ah(e)+" is not iterable")},Mh=Y,Ai=q,Nh=pr,Lh=function(e,r,t){var n,a;Ai(e);try{if(n=Nh(e,"return"),!n){if(r==="throw")throw t;return t}n=Mh(n,e)}catch(o){a=!0,n=o}if(r==="throw")throw t;if(a)throw n;return Ai(n),t},Bh=Ja,qh=Y,Gh=q,Uh=Nt,zh=Oh,Kh=zr,ji=Ba,Vh=Dh,Wh=Qs,Fi=Lh,Hh=TypeError,ft=function(e,r){this.stopped=e,this.result=r},Di=ft.prototype,Js=function(e,r,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),g=Bh(r,n),p,u,v,f,s,c,y,h=function(m){return p&&Fi(p,"normal",m),new ft(!0,m)},d=function(m){return a?(Gh(m),l?g(m[0],m[1],h):g(m[0],m[1])):l?g(m,h):g(m)};if(o)p=e.iterator;else if(i)p=e;else{if(u=Wh(e),!u)throw Hh(Uh(e)+" is not iterable");if(zh(u)){for(v=0,f=Kh(e);f>v;v++)if(s=d(e[v]),s&&ji(Di,s))return s;return new ft(!1)}p=Vh(e,u)}for(c=o?e.next:p.next;!(y=qh(c,p)).done;){try{s=d(y.value)}catch(m){Fi(p,"throw",m)}if(typeof s=="object"&&s&&ji(Di,s))return s}return new ft(!1)},Xh=Ba,Yh=TypeError,Zs=function(e,r){if(Xh(r,e))return e;throw Yh("Incorrect invocation")},Qh=D,eu=Qh("iterator"),ru=!1;try{var Jh=0,Mi={next:function(){return{done:!!Jh++}},return:function(){ru=!0}};Mi[eu]=function(){return this},Array.from(Mi,function(){throw 2})}catch{}var Zh=function(e,r){if(!r&&!ru)return!1;var t=!1;try{var n={};n[eu]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},em=F,rm=Q,Ni=Bs,tm=function(e,r,t){var n,a;return Ni&&em(n=r.constructor)&&n!==t&&rm(a=n.prototype)&&a!==t.prototype&&Ni(e,a),e},nm=oe,am=N,om=_,Li=xs,im=He,lm=oo.exports,sm=Js,um=Zs,cm=F,jn=Q,Fn=R,fm=Zh,vm=to,dm=tm,pm=function(e,r,t){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,o=n?"set":"add",i=am[e],l=i&&i.prototype,g=i,p={},u=function(d){var m=om(l[d]);im(l,d,d=="add"?function(b){return m(this,b===0?0:b),this}:d=="delete"?function($){return a&&!jn($)?!1:m(this,$===0?0:$)}:d=="get"?function(b){return a&&!jn(b)?void 0:m(this,b===0?0:b)}:d=="has"?function(b){return a&&!jn(b)?!1:m(this,b===0?0:b)}:function(b,S){return m(this,b===0?0:b,S),this})},v=Li(e,!cm(i)||!(a||l.forEach&&!Fn(function(){new i().entries().next()})));if(v)g=t.getConstructor(r,e,n,o),lm.enable();else if(Li(e,!0)){var f=new g,s=f[o](a?{}:-0,1)!=f,c=Fn(function(){f.has(1)}),y=fm(function(d){new i(d)}),h=!a&&Fn(function(){for(var d=new i,m=5;m--;)d[o](m,m);return!d.has(-0)});y||(g=r(function(d,m){um(d,l);var $=dm(new i,d,g);return m!=null&&sm(m,$[o],{that:$,AS_ENTRIES:n}),$}),g.prototype=l,l.constructor=g),(c||h)&&(u("delete"),u("has"),n&&u("get")),(h||s)&&u(o),a&&l.clear&&delete l.clear}return p[e]=g,nm({global:!0,constructor:!0,forced:g!=i},p),vm(g,e),a||t.setStrong(g,e,n),g},gm=He,hm=function(e,r,t){for(var n in r)gm(e,n,r[n],t);return e},mm=dr,ym=K,$m=D,bm=z,Bi=$m("species"),Sm=function(e){var r=mm(e),t=ym.f;bm&&r&&!r[Bi]&&t(r,Bi,{configurable:!0,get:function(){return this}})},Im=K.f,xm=Wt,qi=hm,wm=Ja,Om=Zs,Em=Js,km=no,Tm=Sm,Sr=z,Gi=oo.exports.fastKey,tu=Ur,Ui=tu.set,Dn=tu.getterFor,Pm={getConstructor:function(e,r,t,n){var a=e(function(p,u){Om(p,o),Ui(p,{type:r,index:xm(null),first:void 0,last:void 0,size:0}),Sr||(p.size=0),u!=null&&Em(u,p[n],{that:p,AS_ENTRIES:t})}),o=a.prototype,i=Dn(r),l=function(p,u,v){var f=i(p),s=g(p,u),c,y;return s?s.value=v:(f.last=s={index:y=Gi(u,!0),key:u,value:v,previous:c=f.last,next:void 0,removed:!1},f.first||(f.first=s),c&&(c.next=s),Sr?f.size++:p.size++,y!=="F"&&(f.index[y]=s)),p},g=function(p,u){var v=i(p),f=Gi(u),s;if(f!=="F")return v.index[f];for(s=v.first;s;s=s.next)if(s.key==u)return s};return qi(o,{clear:function(){for(var u=this,v=i(u),f=v.index,s=v.first;s;)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete f[s.index],s=s.next;v.first=v.last=void 0,Sr?v.size=0:u.size=0},delete:function(p){var u=this,v=i(u),f=g(u,p);if(f){var s=f.next,c=f.previous;delete v.index[f.index],f.removed=!0,c&&(c.next=s),s&&(s.previous=c),v.first==f&&(v.first=s),v.last==f&&(v.last=c),Sr?v.size--:u.size--}return!!f},forEach:function(u){for(var v=i(this),f=wm(u,arguments.length>1?arguments[1]:void 0),s;s=s?s.next:v.first;)for(f(s.value,s.key,this);s&&s.removed;)s=s.previous},has:function(u){return!!g(this,u)}}),qi(o,t?{get:function(u){var v=g(this,u);return v&&v.value},set:function(u,v){return l(this,u===0?0:u,v)}}:{add:function(u){return l(this,u=u===0?0:u,u)}}),Sr&&Im(o,"size",{get:function(){return i(this).size}}),a},setStrong:function(e,r,t){var n=r+" Iterator",a=Dn(r),o=Dn(n);km(e,r,function(i,l){Ui(this,{type:n,target:i,state:a(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,g=i.last;g&&g.removed;)g=g.previous;return!i.target||!(i.last=g=g?g.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:g.key,done:!1}:l=="values"?{value:g.value,done:!1}:{value:[g.key,g.value],done:!1}},t?"entries":"values",!t,!0),Tm(r)}},Rm=pm,Cm=Pm;Rm("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Cm);var _m=Za,Am=Kt,jm=_m?{}.toString:function(){return"[object "+Am(this)+"]"},Fm=Za,Dm=He,Mm=jm;Fm||Dm(Object.prototype,"toString",Mm,{unsafe:!0});var Nm=Kt,Lm=String,Xe=function(e){if(Nm(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Lm(e)},uo=_,Bm=Ut,qm=Xe,Gm=Ve,Um=uo("".charAt),zi=uo("".charCodeAt),zm=uo("".slice),Ki=function(e){return function(r,t){var n=qm(Gm(r)),a=Bm(t),o=n.length,i,l;return a<0||a>=o?e?"":void 0:(i=zi(n,a),i<55296||i>56319||a+1===o||(l=zi(n,a+1))<56320||l>57343?e?Um(n,a):i:e?zm(n,a,a+2):(i-55296<<10)+(l-56320)+65536)}},nu={codeAt:Ki(!1),charAt:Ki(!0)},Km=nu.charAt,Vm=Xe,au=Ur,Wm=no,ou="String Iterator",Hm=au.set,Xm=au.getterFor(ou);Wm(String,"String",function(e){Hm(this,{type:ou,string:Vm(e),index:0})},function(){var r=Xm(this),t=r.string,n=r.index,a;return n>=t.length?{value:void 0,done:!0}:(a=Km(t,n),r.index+=a.length,{value:a,done:!1})});var iu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ym=Wa,Mn=Ym("span").classList,Vi=Mn&&Mn.constructor&&Mn.constructor.prototype,lu=Vi===Object.prototype?void 0:Vi,Wi=N,su=iu,Qm=lu,Er=Bg,Nn=gr,uu=D,Ln=uu("iterator"),Hi=uu("toStringTag"),Bn=Er.values,cu=function(e,r){if(e){if(e[Ln]!==Bn)try{Nn(e,Ln,Bn)}catch{e[Ln]=Bn}if(e[Hi]||Nn(e,Hi,r),su[r]){for(var t in Er)if(e[t]!==Er[t])try{Nn(e,t,Er[t])}catch{e[t]=Er[t]}}}};for(var qn in su)cu(Wi[qn]&&Wi[qn].prototype,qn);cu(Qm,"DOMTokenList");var Jm=R,Zm=function(e,r){var t=[][e];return!!t&&Jm(function(){t.call(null,r||function(){return 1},1)})},ey=Vt.forEach,ry=Zm,ty=ry("forEach"),fu=ty?[].forEach:function(r){return ey(this,r,arguments.length>1?arguments[1]:void 0)},ny=oe,Xi=fu;ny({target:"Array",proto:!0,forced:[].forEach!=Xi},{forEach:Xi});var Yi=N,Qi=iu,ay=lu,Gn=fu,oy=gr,vu=function(e){if(e&&e.forEach!==Gn)try{oy(e,"forEach",Gn)}catch{e.forEach=Gn}};for(var Un in Qi)Qi[Un]&&vu(Yi[Un]&&Yi[Un].prototype);vu(ay);var iy=z,du=_,ly=As,sy=We,uy=La.f,cy=du(uy),fy=du([].push),Ji=function(e){return function(r){for(var t=sy(r),n=ly(t),a=n.length,o=0,i=[],l;a>o;)l=n[o++],(!iy||cy(t,l))&&fy(i,e?[l,t[l]]:t[l]);return i}},vy={entries:Ji(!0),values:Ji(!1)},dy=oe,py=vy.entries;dy({target:"Object",stat:!0},{entries:function(r){return py(r)}});var gy=TypeError,hy=9007199254740991,my=function(e){if(e>hy)throw gy("Maximum allowed index exceeded");return e},yy=oe,$y=R,by=ws,Sy=Q,Iy=Gr,xy=zr,Zi=my,el=Vs,wy=Cs,Oy=ro,Ey=D,ky=qa,pu=Ey("isConcatSpreadable"),Ty=ky>=51||!$y(function(){var e=[];return e[pu]=!1,e.concat()[0]!==e}),Py=Oy("concat"),Ry=function(e){if(!Sy(e))return!1;var r=e[pu];return r!==void 0?!!r:by(e)},Cy=!Ty||!Py;yy({target:"Array",proto:!0,arity:1,forced:Cy},{concat:function(r){var t=Iy(this),n=wy(t,0),a=0,o,i,l,g,p;for(o=-1,l=arguments.length;o<l;o++)if(p=o===-1?t:arguments[o],Ry(p))for(g=xy(p),Zi(a+g),i=0;i<g;i++,a++)i in p&&el(n,a,p[i]);else Zi(a+1),el(n,a++,p);return n.length=a,n}});var _y=q,Ay=function(){var e=_y(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},co=R,jy=N,fo=jy.RegExp,vo=co(function(){var e=fo("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Fy=vo||co(function(){return!fo("a","y").sticky}),Dy=vo||co(function(){var e=fo("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),gu={BROKEN_CARET:Dy,MISSED_STICKY:Fy,UNSUPPORTED_Y:vo},My=R,Ny=N,Ly=Ny.RegExp,By=My(function(){var e=Ly(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),qy=R,Gy=N,Uy=Gy.RegExp,zy=qy(function(){var e=Uy("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),ar=Y,Ht=_,Ky=Xe,Vy=Ay,Wy=gu,Hy=Lt.exports,Xy=Wt,Yy=Ur.get,Qy=By,Jy=zy,Zy=Hy("native-string-replace",String.prototype.replace),Pt=RegExp.prototype.exec,Ia=Pt,e$=Ht("".charAt),r$=Ht("".indexOf),t$=Ht("".replace),zn=Ht("".slice),xa=function(){var e=/a/,r=/b*/g;return ar(Pt,e,"a"),ar(Pt,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),hu=Wy.BROKEN_CARET,wa=/()??/.exec("")[1]!==void 0,n$=xa||wa||hu||Qy||Jy;n$&&(Ia=function(r){var t=this,n=Yy(t),a=Ky(r),o=n.raw,i,l,g,p,u,v,f;if(o)return o.lastIndex=t.lastIndex,i=ar(Ia,o,a),t.lastIndex=o.lastIndex,i;var s=n.groups,c=hu&&t.sticky,y=ar(Vy,t),h=t.source,d=0,m=a;if(c&&(y=t$(y,"y",""),r$(y,"g")===-1&&(y+="g"),m=zn(a,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&e$(a,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",m=" "+m,d++),l=new RegExp("^(?:"+h+")",y)),wa&&(l=new RegExp("^"+h+"$(?!\\s)",y)),xa&&(g=t.lastIndex),p=ar(Pt,c?l:t,m),c?p?(p.input=zn(p.input,d),p[0]=zn(p[0],d),p.index=t.lastIndex,t.lastIndex+=p[0].length):t.lastIndex=0:xa&&p&&(t.lastIndex=t.global?p.index+p[0].length:g),wa&&p&&p.length>1&&ar(Zy,p[0],l,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(p[u]=void 0)}),p&&s)for(p.groups=v=Xy(null),u=0;u<s.length;u++)f=s[u],v[f[0]]=p[f[1]];return p});var Xt=Ia,a$=oe,rl=Xt;a$({target:"RegExp",proto:!0,forced:/./.exec!==rl},{exec:rl});var o$=Dt,mu=Function.prototype,tl=mu.apply,nl=mu.call,yu=typeof Reflect=="object"&&Reflect.apply||(o$?nl.bind(tl):function(){return nl.apply(tl,arguments)}),al=_,ol=He,i$=Xt,il=R,$u=D,l$=gr,s$=$u("species"),Kn=RegExp.prototype,po=function(e,r,t,n){var a=$u(e),o=!il(function(){var p={};return p[a]=function(){return 7},""[e](p)!=7}),i=o&&!il(function(){var p=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[s$]=function(){return u},u.flags="",u[a]=/./[a]),u.exec=function(){return p=!0,null},u[a](""),!p});if(!o||!i||t){var l=al(/./[a]),g=r(a,""[e],function(p,u,v,f,s){var c=al(p),y=u.exec;return y===i$||y===Kn.exec?o&&!s?{done:!0,value:l(u,v,f)}:{done:!0,value:c(v,u,f)}:{done:!1}});ol(String.prototype,e,g[0]),ol(Kn,a,g[1])}n&&l$(Kn[a],"sham",!0)},u$=Q,c$=Ke,f$=D,v$=f$("match"),d$=function(e){var r;return u$(e)&&((r=e[v$])!==void 0?!!r:c$(e)=="RegExp")},p$=Rs,g$=Nt,h$=TypeError,m$=function(e){if(p$(e))return e;throw h$(g$(e)+" is not a constructor")},ll=q,y$=m$,$$=D,b$=$$("species"),S$=function(e,r){var t=ll(e).constructor,n;return t===void 0||(n=ll(t)[b$])==null?r:y$(n)},I$=nu.charAt,go=function(e,r,t){return r+(t?I$(e,r).length:1)},sl=Y,x$=q,w$=F,O$=Ke,E$=Xt,k$=TypeError,ho=function(e,r){var t=e.exec;if(w$(t)){var n=sl(t,e,r);return n!==null&&x$(n),n}if(O$(e)==="RegExp")return sl(E$,e,r);throw k$("RegExp#exec called on incompatible receiver")},T$=yu,Ir=Y,mo=_,P$=po,R$=d$,C$=q,ul=Ve,_$=S$,A$=go,j$=zt,Vn=Xe,F$=pr,cl=Ws,fl=ho,D$=Xt,M$=gu,N$=R,Je=M$.UNSUPPORTED_Y,vl=4294967295,L$=Math.min,bu=[].push,B$=mo(/./.exec),Ze=mo(bu),xr=mo("".slice),q$=!N$(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});P$("split",function(e,r,t){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(a,o){var i=Vn(ul(this)),l=o===void 0?vl:o>>>0;if(l===0)return[];if(a===void 0)return[i];if(!R$(a))return Ir(r,i,a,l);for(var g=[],p=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),u=0,v=new RegExp(a.source,p+"g"),f,s,c;(f=Ir(D$,v,i))&&(s=v.lastIndex,!(s>u&&(Ze(g,xr(i,u,f.index)),f.length>1&&f.index<i.length&&T$(bu,g,cl(f,1)),c=f[0].length,u=s,g.length>=l)));)v.lastIndex===f.index&&v.lastIndex++;return u===i.length?(c||!B$(v,""))&&Ze(g,""):Ze(g,xr(i,u)),g.length>l?cl(g,0,l):g}:"0".split(void 0,0).length?n=function(a,o){return a===void 0&&o===0?[]:Ir(r,this,a,o)}:n=r,[function(o,i){var l=ul(this),g=o==null?void 0:F$(o,e);return g?Ir(g,o,l,i):Ir(n,Vn(l),o,i)},function(a,o){var i=C$(this),l=Vn(a),g=t(n,i,l,o,n!==r);if(g.done)return g.value;var p=_$(i,RegExp),u=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Je?"g":"y"),f=new p(Je?"^(?:"+i.source+")":i,v),s=o===void 0?vl:o>>>0;if(s===0)return[];if(l.length===0)return fl(f,l)===null?[l]:[];for(var c=0,y=0,h=[];y<l.length;){f.lastIndex=Je?0:y;var d=fl(f,Je?xr(l,y):l),m;if(d===null||(m=L$(j$(f.lastIndex+(Je?y:0)),l.length))===c)y=A$(l,y,u);else{if(Ze(h,xr(l,c,y)),h.length===s)return h;for(var $=1;$<=d.length-1;$++)if(Ze(h,d[$]),h.length===s)return h;y=c=m}}return Ze(h,xr(l,c)),h}]},!q$,Je);var G$=z,U$=Bt.EXISTS,Su=_,z$=K.f,Iu=Function.prototype,K$=Su(Iu.toString),xu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,V$=Su(xu.exec),W$="name";G$&&!U$&&z$(Iu,W$,{configurable:!0,get:function(){try{return V$(xu,K$(this))[1]}catch{return""}}});var wu=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,H$=_,X$=Ve,Y$=Xe,Q$=wu,dl=H$("".replace),Rt="["+Q$+"]",J$=RegExp("^"+Rt+Rt+"*"),Z$=RegExp(Rt+Rt+"*$"),Wn=function(e){return function(r){var t=Y$(X$(r));return e&1&&(t=dl(t,J$,"")),e&2&&(t=dl(t,Z$,"")),t}},eb={start:Wn(1),end:Wn(2),trim:Wn(3)},rb=Bt.PROPER,tb=R,pl=wu,gl="\u200B\x85\u180E",nb=function(e){return tb(function(){return!!pl[e]()||gl[e]()!==gl||rb&&pl[e].name!==e})},ab=oe,ob=eb.trim,ib=nb;ab({target:"String",proto:!0,forced:ib("trim")},{trim:function(){return ob(this)}});function hl(e){var r=new Map,t=new Map;return e.forEach(function(n,a){lb(t,a,n)}),t.forEach(function(n,a){var o=fr(n,2),i=o[0],l=o[1],g=e.get(a)||0;g&&i+l<2||g&&i+l>3||(!g&&i+l==3?r.set(a,i>l?1:2):g&&r.set(a,g))}),r}function lb(e,r,t){var n=Ou(r),a=fr(n,2),o=a[0],i=a[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(g){e.has(g)||e.set(g,[0,0]);var p=e.get(g),u=fr(p,2),v=u[0],f=u[1];t===1?e.set(g,[v+1,f]):e.set(g,[v,f+1])}),e}function Ou(e){var r=e.split("|"),t=fr(r,2),n=t[0],a=t[1];return[+n,+a]}function Eu(e){var r=fr(e,2),t=r[0],n=r[1];return"".concat(t,"|").concat(n)}function ku(e,r){var t=Math.floor(e.clientY/r),n=Math.floor(e.clientX/r);return{row:t,col:n,shift:e.shiftKey}}function sb(e){return""}function ub(e){var r=e.map(function(t){var n=t.name,a=t.fauna,o=rs(a.entries());return{fauna:o,name:n}});localStorage.setItem("history",JSON.stringify(r))}function cb(){try{var e=JSON.parse(localStorage.getItem("history")||"null")||[],r=e.map(function(t){var n=t.fauna,a=t.name,o=new Map(n);return{fauna:o,name:a}});return r}catch(t){return console.error(t),[]}}function fb(){return{width:window.visualViewport.width,height:window.visualViewport.height}}function vb(e){var r=new Map;return e.split(`
`).forEach(function(t,n){t=t.trim();for(var a=0;a<t.length;a++)t[a]==="O"&&r.set(Eu([a,n]),1)}),r}var Tu="#5583e5",Pu="#79e555",Ru=[5,10,20,30,40],db=Ru[2],ml=fb();function pb(){var e=k(Ru,{name:"$options",sid:"jcy7nx"}),r=k(db,{name:"$cellSize",sid:"eeiscj"}),t=r.map(function(o){return{height:Math.ceil(ml.height/o),width:Math.ceil(ml.width/o)}}),n=w({name:"cellSizeChanged",sid:"-ub9olw"});r.on(n,function(o,i){return i});var a={$options:e,$cellSize:r,$fieldSize:t,cellSizeChanged:n};return a}function gb(){var e=k(!1,{name:"$isOn",sid:"byljm1"}),r=w({name:"changed",sid:"uvawwv"});e.on(r,function(n,a){return a});var t={$isOn:e,changed:r};return t}function hb(e,r){var t=k(null,{name:"$initFocus",sid:"-lgnzwk"}),n=k(null,{name:"$initHovered",sid:"-dfa5qi"}),a=w({name:"onMDown",sid:"w2mypy"}),o=w({name:"onMMove",sid:"pnirfa"}),i=w({name:"onMUp",sid:"-hkl9lf"}),l=w({name:"focusMoved",sid:"-mys4n4"});function g(){document.addEventListener("mousedown",a),document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}return P({and:[{source:r,clock:a,target:t}],or:{sid:"wed8ax"}}),P({and:[{source:e,clock:a,target:n}],or:{sid:"wex0wa"}}),P({and:[{source:{currentHovered:e,initFocus:t,initHovered:n},clock:o,filter:function(u){return!!u.initHovered&&!!u.initFocus&&!!u.currentHovered},fn:function(u){var v=u.currentHovered,f=u.initHovered,s=u.initFocus;return{col:s.col+(v.col-f.col),row:s.row+(v.row-f.row)}},target:l}],or:{sid:"wfgthn"}}),t.reset(i),n.reset(i),{focusMoved:l,initEvents:g}}var ne=pb(),Ct=gb(),_e=k(new Map,{name:"$fauna",sid:"12kukq"}),Yt=k({col:0,row:0},{name:"$focus",sid:"-5hzlos"}),Cu=w({name:"resetFocus",sid:"dj1sx0"}),Ar=k(1,{name:"$selectedColor",sid:"e4myg5"}),vt=w({name:"colorSelected",sid:"dhuxmf"});Ar.on(vt,function(e,r){return r});var _u=w({name:"toggleCell",sid:"-jamk2o"}),Au=w({name:"saveClicked",sid:"s57216"}),Qt=w({name:"resetFieldPressed",sid:"avsh8h"}),yo=k({row:0,col:0,shift:!1},{and:{updateFilter:function(r,t){return!(r.row===t.row&&r.col===t.col&&r.shift===t.shift)}},name:"$hoveredCell",sid:"vbbqm0"}),ju=hb(yo,Yt),Fu=w({name:"fieldMouseMove",sid:"-7x4hmo"}),mb=Ee({and:[Ct.$isOn,ne.$cellSize,function(e,r){return e?"elsa":r}],or:{name:"$fieldTilesStyle",sid:"-2r55s9"}}),Du=Ee({and:[ne.$fieldSize,_e,Yt,function(e,r,t){var n=e.width,a=e.height,o=[];return r.forEach(function(i,l){var g=Ou(l),p=fr(g,2),u=p[0],v=p[1],f=Math.ceil(u+t.col),s=Math.ceil(v+t.row);f>=0&&f<n&&s>=0&&s<a&&o.push({col:f,row:s,val:i})}),o}],or:{name:"$field",sid:"-s9rfl"}}),yb=Ee({and:[Du,ne.$cellSize,function(e,r){return e.map(function(t){var n=t.val,a=t.col,o=t.row;return{val:n,y:o*r+"px",x:a*r+"px"}})}],or:{name:"$viewField",sid:"8bwuy0"}}),yl=Ee({and:[yo,ne.$cellSize,function(e,r){var t=e.col,n=e.row;return{y:n*r+"px",x:t*r+"px"}}],or:{name:"$viewHoveredCell",sid:"mm3upx"}});_e.on(Qt,function(){return new Map});Yt.on(ju.focusMoved,function(e,r){return r}).reset(Cu);P({and:[{source:ne.$cellSize,clock:Fu,fn:function(r,t){return ku(t,r)},target:yo}],or:{sid:"c8275a"}});P({and:[{source:{fauna:_e,color:Ar,focus:Yt},clock:_u,fn:function(r,t){var n=r.color,a=r.fauna,o=r.focus,i=t.col,l=t.row,g=t.shift,p=new Map(a),u=i-o.col,v=l-o.row,f=Eu([u,v]);return g?p.set(f,n):p.get(f)===n?p.delete(f):p.set(f,n),p},target:_e}],or:{sid:"co08cr"}});function $b(e){E("select",function(){de({handler:{change:e.onChange}}),Da(e.options,function(r){var t=r.store;E("option",{attr:{value:t.map(function(n){return n.value}),selected:Ee({and:[t,e.value,function(n,a){return n.value===a}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(n){return n.label})})})})}function bb(e){E("label",{text:e.label,fn:function(){E("input",{attr:{type:"checkbox",checked:e.value},handler:{change:e.onChange.prepend(function(t){return t.target.checked})}})}})}const Sb="_history_18viy_1",Ib="_colorBtn_18viy_7",xb="_currentColor_18viy_14",wb="_arrowBtn_18viy_18",Re={history:Sb,colorBtn:Ib,currentColor:xb,arrowBtn:wb};function Ob(){bb({label:"Elsa",value:Ct.$isOn,onChange:Ct.changed}),E("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,n;E("button",{classList:(r={},ue(r,Re.colorBtn,!0),ue(r,Re.currentColor,Ar.map(function(a){return a===1})),r),style:{backgroundColor:Tu},handler:{click:vt.prepend(function(){return 1})}}),E("button",{classList:(t={},ue(t,Re.colorBtn,!0),ue(t,Re.currentColor,Ar.map(function(a){return a===2})),t),style:{backgroundColor:Pu},handler:{click:vt.prepend(function(){return 2})}}),E("button",{classList:(n={},ue(n,Re.colorBtn,!0),ue(n,Re.currentColor,Ar.map(function(a){return!a})),n),handler:{click:vt.prepend(function(){return 0})}})}})}var $o=_,Eb=Gr,kb=Math.floor,Hn=$o("".charAt),Tb=$o("".replace),Xn=$o("".slice),Pb=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Rb=/\$([$&'`]|\d{1,2})/g,Cb=function(e,r,t,n,a,o){var i=t+e.length,l=n.length,g=Rb;return a!==void 0&&(a=Eb(a),g=Pb),Tb(o,g,function(p,u){var v;switch(Hn(u,0)){case"$":return"$";case"&":return e;case"`":return Xn(r,0,t);case"'":return Xn(r,i);case"<":v=a[Xn(u,1,-1)];break;default:var f=+u;if(f===0)return p;if(f>l){var s=kb(f/10);return s===0?p:s<=l?n[s-1]===void 0?Hn(u,1):n[s-1]+Hn(u,1):p}v=n[f-1]}return v===void 0?"":v})},_b=yu,$l=Y,Jt=_,Ab=po,jb=R,Fb=q,Db=F,Mb=Ut,Nb=zt,er=Xe,Lb=Ve,Bb=go,qb=pr,Gb=Cb,Ub=ho,zb=D,Oa=zb("replace"),Kb=Math.max,Vb=Math.min,Wb=Jt([].concat),Yn=Jt([].push),bl=Jt("".indexOf),Sl=Jt("".slice),Hb=function(e){return e===void 0?e:String(e)},Xb=function(){return"a".replace(/./,"$0")==="$0"}(),Il=function(){return/./[Oa]?/./[Oa]("a","$0")==="":!1}(),Yb=!jb(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});Ab("replace",function(e,r,t){var n=Il?"$":"$0";return[function(o,i){var l=Lb(this),g=o==null?void 0:qb(o,Oa);return g?$l(g,o,l,i):$l(r,er(l),o,i)},function(a,o){var i=Fb(this),l=er(a);if(typeof o=="string"&&bl(o,n)===-1&&bl(o,"$<")===-1){var g=t(r,i,l,o);if(g.done)return g.value}var p=Db(o);p||(o=er(o));var u=i.global;if(u){var v=i.unicode;i.lastIndex=0}for(var f=[];;){var s=Ub(i,l);if(s===null||(Yn(f,s),!u))break;var c=er(s[0]);c===""&&(i.lastIndex=Bb(l,Nb(i.lastIndex),v))}for(var y="",h=0,d=0;d<f.length;d++){s=f[d];for(var m=er(s[0]),$=Kb(Vb(Mb(s.index),l.length),0),b=[],S=1;S<s.length;S++)Yn(b,Hb(s[S]));var I=s.groups;if(p){var x=Wb([m],b,$,l);I!==void 0&&Yn(x,I);var O=er(_b(o,void 0,x))}else O=Gb(m,l,$,b,I,o);$>=h&&(y+=Sl(l,h,$)+O,h=$+m.length)}return y+Sl(l,h)}]},!Yb||!Xb||Il);const Qb=""+new URL("heart-line-icon.a4369d33.svg",import.meta.url).href,Jb="_field_n4fvk_1",Zb="_cell_n4fvk_13",e1="_on1_n4fvk_21",r1="_on2_n4fvk_24",t1="_heartMode_n4fvk_28",rr={field:Jb,cell:Zb,on1:e1,on2:r1,heartMode:t1};function n1(e){var r=`
<svg viewBox='0 0 `.concat(e," ").concat(e,`' xmlns='http://www.w3.org/2000/svg'>
<line x1='0' y1='0' x2='0' y2='`).concat(e,`' stroke='#b4b6b8' />
<line x1='0' y1='0' x2='`).concat(e,`' y2='0' stroke='#b4b6b8' />
</svg>`);return"data:image/svg+xml;base64,"+btoa(r.replace(/\n/g,""))}function a1(){var e=w({name:"rawClicked",sid:"co1uzo"});P({and:[{source:ne.$cellSize,clock:e,fn:function(t,n){return ku(n,t)},target:_u}],or:{sid:"cevhdx"}}),E("div",{classList:[rr.field],styleVar:{cellSize:ne.$cellSize.map(function(r){return r+"px"}),color1:Tu,color2:Pu},style:{backgroundImage:mb.map(function(r){var t=r==="elsa"?Qb:n1(r);return'url("'.concat(t,'")')}),backgroundSize:ne.$cellSize.map(function(r){return"".concat(r,"px ").concat(r,"px")})},handler:{click:e,mousemove:Fu},fn:function(){Da(yb,function(t){var n,a=t.store;E("div",{style:{left:a.map(function(o){return o.x}),top:a.map(function(o){return o.y})},classList:(n={},ue(n,rr.heartMode,Ct.$isOn),ue(n,rr.cell,!0),ue(n,rr.on1,a.map(function(o){return o.val===1})),ue(n,rr.on2,a.map(function(o){return o.val===2})),n)})}),E("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:yl.map(function(t){return t.x}),top:yl.map(function(t){return t.y})},classList:[rr.cell]})}})}var o1=Y,i1=po,l1=q,s1=zt,Qn=Xe,u1=Ve,c1=pr,f1=go,xl=ho;i1("match",function(e,r,t){return[function(a){var o=u1(this),i=a==null?void 0:c1(a,e);return i?o1(i,a,o):new RegExp(a)[e](Qn(o))},function(n){var a=l1(this),o=Qn(n),i=t(r,a,o);if(i.done)return i.value;if(!a.global)return xl(a,o);var l=a.unicode;a.lastIndex=0;for(var g=[],p=0,u;(u=xl(a,o))!==null;){var v=Qn(u[0]);g[p]=v,v===""&&(a.lastIndex=f1(o,s1(a.lastIndex),l)),p++}return p===0?null:g}]});var v1=oe,d1=Vt.filter,p1=ro,g1=p1("filter");v1({target:"Array",proto:!0,forced:!g1},{filter:function(r){return d1(this,r,arguments.length>1?arguments[1]:void 0)}});var Zt=k(cb()||[],{name:"$history",sid:"8vj2mw"}),Mu=w({name:"addToHistory",sid:"-6p9jgl"}),Nu=w({name:"removeFromHistory",sid:"iwl8tq"}),en=w({name:"historySelected",sid:"bspsag"});Zt.on(Mu,function(e,r){var t,n=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",a=n.match(/(\d+)/),o=a&&+a[1]||0;return[].concat(rs(e),[{fauna:r,name:"save #".concat(o+1)}])}).on(Nu,function(e,r){});P({and:[{source:Zt,target:ka(function(e){ub(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var wl,Ol;function h1(){E("div",{classList:[Re.history],fn:function(){E("p",{text:"History: ",style:{margin:"0"}}),Da(Zt,function(r){var t=r.store,n=w({name:"rawClick",sid:"-69qia6"}),a=w({name:"rawRemoveClick",sid:"-9nj6fi"});P({and:[{clock:n,source:t.map(function(o){return o.name}),target:en}],or:{sid:"-pa1t75"}}),P({and:[{clock:a,source:t.map(function(o){return o.name}),target:Nu}],or:{sid:"-p7au8c"}}),E("div",function(){E("button",function(){de({handler:{click:n}}),xt(wl||(wl=Ot(["",""])),t.map(function(o){return o.name}))}),E("button",function(){de({handler:{click:a}}),xt(Ol||(Ol=Ot(["x"])))})})}),E("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:Au}})}})}function m1(){ju.initEvents(),E("button",{classList:[Re.arrowBtn],handler:{click:Cu},text:"reset focus"}),E("div",function(){de({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),$b({options:ne.$options.map(function(e){return e.map(function(r){return{label:"cell ".concat(r,"px"),value:String(r)}})}),value:ne.$cellSize.map(function(e){return String(e)}),onChange:ne.cellSizeChanged.prepend(function(e){return+e.target.value})})})}function y1(e){var{timeout:r,start:t,stop:n,leading:a=!1,trailing:o=!1}=e,i=w({name:"tick",sid:"uo9p3s"}),l=k(!1,{name:"$isRunning",sid:"-wxesi8"}),g=$1(r),p=l.map(h=>!h),u=w({name:"saveTimeout",sid:"as5clk"}),v=k(null,{name:"$timeoutId",sid:"-bh90bo"}).on(u,(h,d)=>d),f=w({name:"saveReject",sid:"-64swis"}),s=k(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(f,(h,d)=>d),c=ka(h=>new Promise((d,m)=>{var $=setTimeout(d,h);u($),f(m)}),{name:"timeoutFx",sid:"7lc3mj"}),y=Wu({and:{source:[v,s],effect:h=>{var[d,m]=h;m(),d&&clearTimeout(d)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return on({and:[{clock:t,source:g,filter:p,target:c}],or:{sid:"-w5qmwp"}}),a&&on({and:[{clock:t,filter:p,target:i}],or:{sid:"-vpslni"}}),P({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),on({and:[{clock:c.done,source:g,filter:l,target:c}],or:{sid:"-v73liy"}}),P({and:[{clock:c.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),n&&(o&&P({and:[{clock:n,target:i}],or:{sid:"-uanqf7"}}),l.on(n,()=>!1),P({and:[{clock:n,target:y}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function $1(e){if(B.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return k(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var bo=k(0,{name:"$stepCount",sid:"qcyfda"});k(0,{name:"$startFauna",sid:"871hb0"});var rn=w({name:"gameTick",sid:"3e0yvy"}),Lu=w({name:"makeNSteps",sid:"-su79h9"}),So=w({name:"startTimer",sid:"qpqggy"}),Bu=w({name:"stopTimer",sid:"o91ddu"}),qu=Ju({sid:"-9gtfjx",fn:function(){return y1({timeout:50,start:So,stop:Bu})},name:"timer",method:"interval"}),dt={start:So,stop:Bu,isRunning:qu.isRunning};P({and:[{clock:[qu.tick,So],target:rn}],or:{sid:"-pq1jks"}});bo.on(rn,function(e){return e+1}).on(Lu,function(e,r){return e+r});var El,kl;function b1(){E("p",function(){de({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),E("button",{text:"Step",handler:{click:rn}}),xt(El||(El=Ot([" timer: "]))),$c({source:dt.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){E("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:dt.stop}})},0:function(){E("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:dt.start}})}}}),xt(kl||(kl=Ot(["steps: ",""])),bo)})}var tn=k("",{name:"$exported",sid:"-eko3nz"}),Gu=w({name:"exportFieldChanged",sid:"-1z9j1h"}),S1=w({name:"exportClicked",sid:"vvb4un"}),Uu=w({name:"importClicked",sid:"-xhz735"});tn.on(Gu,function(e,r){return r});var I1=oe,x1=Vt.find,w1=Ds,Ea="find",zu=!0;Ea in[]&&Array(1)[Ea](function(){zu=!1});I1({target:"Array",proto:!0,forced:zu},{find:function(r){return x1(this,r,arguments.length>1?arguments[1]:void 0)}});w1(Ea);P({and:[{source:_e,clock:Au,target:Mu}],or:{sid:"-32a41b"}});P({and:[{source:Zt,clock:en,fn:function(r,t){var n=r.find(function(o){return o.name===t}).fauna,a=new Map(n);return a},target:_e}],or:{sid:"-qod2zb"}});P({and:[{source:tn,clock:Uu,fn:vb,target:_e}],or:{sid:"-q7bgl4"}});P({and:[{clock:[en,Qt],target:dt.stop}],or:{sid:"-q6rnzr"}});P({and:[{source:Du,clock:S1,fn:sb,target:tn}],or:{sid:"-q67vee"}});_e.on(rn,function(e){return hl(e)}).on(Lu,function(e,r){for(var t=e,n=1;n<=r;n++)t=hl(t);return t});bo.reset(en,Qt);function O1(){E("div",function(){m1(),a1(),E("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){E("h1",{text:"Game of Life"}),h1(),Ob(),b1()}}),E("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:Qt}}),E("div",function(){de({style:{position:"absolute",bottom:"50px",left:"20px"}}),E("button",{text:"Import",handler:{click:Uu}}),E("br",{}),E("textarea",{style:{fontSize:"8px",width:"100%",height:"100px",lineHeight:1},text:tn,handler:{change:Gu.prepend(function(e){return e.target.value})}})})})}mc(document.querySelector("#app"),O1);
