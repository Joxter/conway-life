const Fu=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};Fu();function Ct(e,r){for(let t in e)r(e[t],t)}function U(e,r){e.forEach(r)}function X(e,r){if(!e)throw Error(r)}function Wa(e,r){G={parent:G,value:e,template:N(e,"template")||cr(),sidRoot:N(e,"sidRoot")||G&&G.sidRoot};try{return r()}finally{G=ve(G)}}function Ee({node:e=[],from:r,source:t,parent:a=r||t,to:n,target:o,child:i=n||o,scope:l={},meta:g={},family:p={type:"regular"},regional:u}={}){let v=wr(a),f=wr(p.links),s=wr(p.owners),c=[];U(e,h=>h&&xe(c,h));let m={id:qu(),seq:c,next:wr(i),meta:g,scope:l,family:{type:p.type||"crosslink",links:f,owners:s}};return U(f,h=>xe(At(h),m)),U(s,h=>xe(jt(h),m)),U(v,h=>xe(h.next,m)),u&&G&&or(Tr(G),[m]),m}function P(e,r,t){let a=ce,n=null,o=_;if(e.target&&(r=e.params,t=e.defer,a="page"in e?e.page:a,e.stack&&(n=e.stack),o=Se(e)||o,e=e.target),o&&_&&o!==_&&(_=null),Array.isArray(e))for(let s=0;s<e.length;s++)Ae("pure",a,Y(e[s]),n,r[s],o);else Ae("pure",a,Y(e),n,r,o);if(t&&!Hr)return;let i,l,g,p,u,v,f={isRoot:Hr,currentPage:ce,scope:_,isWatch:nt,isPure:ot};Hr=0;e:for(;p=Vu();){let{idx:s,stack:c,type:m}=p;g=c.node,ce=u=c.page,_=Se(c),u?v=u.reg:_&&(v=_.reg);let h=!!u,d=!!_,y={fail:0,scope:g.scope};i=l=0;for(let b=s;b<g.seq.length&&!i;b++){let $=g.seq[b];if($.order){let{priority:S,barrierID:I}=$.order,x=I?u?`${u.fullID}_${I}`:I:0;if(b!==s||m!==S){I?na.has(x)||(na.add(x),Ya(b,c,S,I)):Ya(b,c,S);continue e}I&&na.delete(x)}switch($.type){case"mov":{let I,x=$.data;switch(x.from){case Me:I=Tr(c);break;case"a":case"b":I=c[x.from];break;case"value":I=x.store;break;case"store":if(v&&!v[x.store.id])if(h){let E=_l(u,x.store.id);c.page=u=E,E?v=E.reg:d?(lr(_,x.store,0,1,x.softRead),v=_.reg):v=void 0}else d&&lr(_,x.store,0,1,x.softRead);I=Pr(v&&v[x.store.id]||x.store)}switch(x.to){case Me:c.value=I;break;case"a":case"b":c[x.to]=I;break;case"store":Hu(u,_,g,x.target).current=I}break}case"compute":let S=$.data;if(S.fn){nt=N(g,"op")==="watch",ot=S.pure;let I=S.safe?(0,S.fn)(Tr(c),y.scope,c):Xu(y,S.fn,c);S.filter?l=!I:c.value=I,nt=f.isWatch,ot=f.isPure}}i=y.fail||l}if(!i){let b=Tr(c);U(g.next,S=>{Ae("child",u,S,c,b,Se(c))});let $=Se(c);if($){N(g,"needFxCounter")&&Ae("child",u,$.fxCount,c,b,$),N(g,"storeChange")&&Ae("child",u,$.storeChange,c,b,$),N(g,"warnSerialize")&&Ae("child",u,$.warnSerializeNode,c,b,$);let S=$.additionalLinks[g.id];S&&U(S,I=>{Ae("child",u,I,c,b,$)})}}}Hr=f.isRoot,ce=f.currentPage,_=Se(f)}function Il(e,r="combine"){let t=r+"(",a="",n=0;return Ct(e,o=>{n<25&&(o!=null&&(t+=a,t+=Le(o)?wn(o).fullName:o.toString()),n+=1,a=", ")}),t+")"}function xl(e,r){let t,a,n=e;if(r){let o=wn(r);e.length===0?(t=o.path,a=o.fullName):(t=o.path.concat([e]),a=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],a=e;return{shortName:n,fullName:a,path:t}}function Br(e,r){let t=r?e:e[0];Pl(t);let a=t.or,n=t.and;if(n){let o=r?n:n[0];if(pe(o)&&"and"in o){let i=Br(n,r);e=i[0],a={...a,...i[1]}}else e=n}return[e,a]}function re(e,...r){let t=cr();if(t){let a=t.handlers[e];if(a)return a(t,...r)}}function w(e,r){let t=(n,...o)=>(Be(!N(t,"derived"),"call of derived event","createEvent"),Be(!ot,"unit call from pure function","operators like sample"),ce?((i,l,g,p)=>{let u=ce,v=null;if(l)for(v=ce;v&&v.template!==l;)v=ve(v);Oo(v);let f=i.create(g,p);return Oo(u),f})(t,a,n,o):t.create(n,o)),a=cr();return Object.assign(t,{graphite:Ee({meta:Fl("event",t,e,r),regional:1}),create:n=>(P({target:t,params:n,scope:_}),n),watch:n=>Al(t,n),map:n=>oa(t,nr,n,[we()]),filter:n=>oa(t,"filter",n.fn?n:n.fn,[we(En,1)]),filterMap:n=>oa(t,"filterMap",n,[we(),fe(o=>!W(o),1)]),prepend(n){let o=w("* \u2192 "+t.shortName,{parent:ve(t)});return re("eventPrepend",Y(o)),ze(o,t,[we()],"prepend",n),jl(t,o),o}})}function T(e,r){let t=ir(e),a=w({named:"updates",derived:1});re("storeBase",t);let n=t.id,o={subscribers:new Map,updates:a,defaultState:e,stateRef:t,getState(){let v,f=t;if(ce){let s=ce;for(;s&&!s.reg[n];)s=ve(s);s&&(v=s)}return!v&&_&&(lr(_,t,1),v=_),v&&(f=v.reg[n]),Pr(f)},setState:v=>P({target:o,params:v,defer:1,scope:_}),reset:(...v)=>(U(v,f=>o.on(f,()=>o.defaultState)),o),on:(v,f)=>(yt(v,".on","first argument"),Be(!N(o,"derived"),".on in derived store","createStore"),U(Array.isArray(v)?v:[v],s=>{o.off(s),at(o).set(s,Cl(ko(s,o,"on",zu,f)))}),o),off(v){let f=at(o).get(v);return f&&(f(),at(o).delete(v)),o},map(v,f){let s,c;pe(v)&&(s=v,v=v.fn),Be(W(f),"second argument of store.map","updateFilter");let m=o.getState();cr()?c=null:W(m)||(c=v(m,f));let h=T(c,{name:`${o.shortName} \u2192 *`,derived:1,and:s}),d=ko(o,h,nr,Ha,v);return Xa(te(h),{type:nr,fn:v,from:t}),te(h).noInit=1,re("storeMap",t,d),h},watch(v,f){if(!f||!Le(v)){let s=Al(o,v);return re("storeWatch",t,v)||v(o.getState()),s}return X(ae(f),"second argument should be a function"),v.watch(s=>f(o.getState(),s))}},i=Fl("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=Ee({scope:{state:t,fn:l},node:[fe((v,f,s)=>(s.scope&&!s.scope.reg[t.id]&&(s.b=1),v)),qe(t),fe((v,f,{a:s,b:c})=>!W(v)&&(v!==s||c),1),l&&we(Ha,1),ee({from:Me,target:t})],child:a,meta:i,regional:1});let g=N(o,"derived"),p=N(o,"serialize")==="ignore",u=N(o,"sid");return u&&(p||De(o,"storeChange",1),t.sid=u),u||p||g||De(o,"warnSerialize",1),X(g||!W(e),"current state can't be undefined, use null instead"),or(o,[a]),o}function ke(...e){let r,t,a;[e,a]=Br(e);let n,o,i,l=e[e.length-1];if(ae(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let g=t[0];oe(g)||(n=g,o=1)}if(!o&&(n=t,r)){i=1;let g=r;r=p=>g(...p)}return X(pe(n),"shape should be an object"),Qu(Array.isArray(n),!i,n,a,r)}function Du(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function xn(e,r){let t=w(ae(e)?{handler:e}:e,r),a=Y(t);De(a,"op",t.kind="effect"),t.use=f=>(X(ae(f),".use argument should be a function"),p.scope.handler=f,t),t.use.getCurrent=()=>p.scope.handler;let n=t.finally=w({named:"finally",derived:1}),o=t.done=n.filterMap({named:"done",fn({status:f,params:s,result:c}){if(f==="done")return{params:s,result:c}}}),i=t.fail=n.filterMap({named:"fail",fn({status:f,params:s,error:c}){if(f==="fail")return{params:s,error:c}}}),l=t.doneData=o.map({named:"doneData",fn:({result:f})=>f}),g=t.failData=i.map({named:"failData",fn:({error:f})=>f}),p=Ee({scope:{handlerId:N(a,"sid"),handler:t.defaultConfig.handler||(()=>X(0,`no handler used in ${t.getType()}`))},node:[fe((f,s,c)=>{let m=s,h=m.handler;if(Se(c)){let d=Se(c).handlers[m.handlerId];d&&(h=d)}return f.handler=h,f},0,1),fe(({params:f,req:s,handler:c,args:m=[f]},h,d)=>{let y=mt(f,s,1,n,d),b=mt(f,s,0,n,d),[$,S]=Dl(c,b,m);$&&(pe(S)&&ae(S.then)?S.then(y,b):y(S))},0,1)],meta:{op:"fx",fx:"runner"}});a.scope.runner=p,xe(a.seq,fe((f,{runner:s},c)=>{let m=ve(c)?{params:f,req:{rs(h){},rj(h){}}}:f;return P({target:s,params:m,defer:1,scope:Se(c)}),m.params},0,1)),t.create=f=>{let s=Du(),c={params:f,req:s};if(_){if(!nt){let m=_;s.req.finally(()=>{Wu(m)}).catch(()=>{})}P({target:t,params:c,scope:_})}else P(t,c);return s.req};let u=t.inFlight=T(0,{serialize:"ignore"}).on(t,f=>f+1).on(n,f=>f-1).map({fn:f=>f,named:"inFlight"});De(n,"needFxCounter","dec"),De(t,"needFxCounter",1);let v=t.pending=u.map({fn:f=>f>0,named:"pending"});return or(t,[n,o,i,l,g,v,u]),t}function Nu(e){let r;[e,r]=Br(e,1);let{source:t,effect:a,mapParams:n}=e,o=xn(e,r);De(o,"attached",1);let i,{runner:l}=Y(o).scope,g=fe((u,v,f)=>{let s,{params:c,req:m,handler:h}=u,d=o.finally,y=mt(c,m,0,d,f),b=f.a,$=ht(h),S=1;if(n?[S,s]=Dl(n,y,[c,b]):s=t&&$?b:c,S){if(!$)return u.args=[b,s],1;P({target:h,params:{params:s,req:{rs:mt(c,m,1,d,f),rj:y}},page:f.page,defer:1})}},1,1);if(t){let u;oe(t)?(u=t,or(u,[o])):(u=ke(t),or(o,[u])),i=[qe(te(u)),g]}else i=[g];l.seq.splice(1,0,...i),o.use(a);let p=ve(a);return p&&(Object.assign(wn(o),xl(o.shortName,p)),o.defaultConfig.parent=p),jl(a,o,"effect"),o}function gt(e,r){yt(e,"merge","first argument");let t=w({name:Il(e,"merge"),derived:1,and:r});return ze(e,t,[],"merge"),t}function wl(e,r){let t=0;return U(Zu,a=>{a in e&&(X(e[a]!=null,Nl(r,a)),t=1)}),t}function A(...e){let r,t,a,n,[[o,i,l],g]=Br(e),p=1;return W(i)&&pe(o)&&wl(o,"sample")&&(i=o.clock,l=o.fn,p=!o.greedy,n=o.filter,r=o.target,t=o.name,a=o.sid,o=o.source),Ml("sample",i,o,n,r,l,t,g,p,1,0,a)}function ta(...e){let[[r,t],a]=Br(e);return t||(t=r,r=t.source),wl(t,"guard"),Ml("guard",t.clock,r,t.filter,t.target,null,t.name,a,!t.greedy,0,1)}function So(e,r,t){if(oe(e))return Be(0,"restore($store)"),e;if(Ol(e)||ht(e)){let n=ve(e),o=T(r,{parent:n,name:e.shortName,and:t});return ze(ht(e)?e.doneData:e,o),n&&n.hooks.store(o),o}let a=Array.isArray(e)?[]:{};return Ct(e,(n,o)=>a[o]=oe(n)?n:T(n,{name:o})),a}let Mu=typeof Symbol<"u"&&Symbol.observable||"@@observable",nr="map",Me="stack",Le=e=>(ae(e)||pe(e))&&"kind"in e;const qr=e=>r=>Le(r)&&r.kind===e;let oe=qr("store"),Ol=qr("event"),ht=qr("effect"),El=qr("domain"),Lu=qr("scope");var B={__proto__:null,unit:Le,store:oe,event:Ol,effect:ht,domain:El,scope:Lu};let aa=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},xe=(e,r)=>e.push(r),Be=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Y=e=>e.graphite||e,At=e=>e.family.owners,jt=e=>e.family.links,te=e=>e.stateRef,Tr=e=>e.value,at=e=>e.subscribers,ve=e=>e.parent,Se=e=>e.scope,N=(e,r)=>Y(e).meta[r],De=(e,r,t)=>Y(e).meta[r]=t,wn=e=>e.compositeName;const On=()=>{let e=0;return()=>""+ ++e};let Bu=On(),kl=On(),qu=On(),G=null,cr=()=>G&&G.template,Tl=e=>(e&&G&&G.sidRoot&&(e=`${G.sidRoot}|${e}`),e),Gu=({sid:e,name:r,loc:t,method:a,fn:n})=>Wa(Ee({meta:{sidRoot:Tl(e),name:r,loc:t,method:a}}),n),or=(e,r)=>{let t=Y(e);U(r,a=>{let n=Y(a);t.family.type!=="domain"&&(n.family.type="crosslink"),xe(At(n),t),xe(jt(t),n)})},wr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Y),pe=e=>typeof e=="object"&&e!==null,ae=e=>typeof e=="function",W=e=>e===void 0,Pl=e=>X(pe(e)||ae(e),"expect first argument be an object");const Io=(e,r,t,a)=>X(!(!pe(e)&&!ae(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${a}`);let yt=(e,r,t)=>{Array.isArray(e)?U(e,(a,n)=>Io(a,r,`${n} item of ${t}`,"")):Io(e,r,t," or array of units")},Uu=(e,r,t="target")=>U(wr(r),a=>Be(!N(a,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),Ha=(e,{fn:r},{a:t})=>r(e,t),zu=(e,{fn:r},{a:t})=>r(t,e),En=(e,{fn:r})=>r(e);const Rl=(e,r,t,a)=>{let n={id:kl(),type:e,data:r};return t&&(n.order={priority:t},a&&(n.order.barrierID=++Ku)),n};let Ku=0,ee=({from:e="store",store:r,target:t,to:a=t?"store":Me,batch:n,priority:o})=>Rl("mov",{from:e,store:r,to:a,target:t},o,n),Fr=({fn:e,batch:r,priority:t,safe:a=0,filter:n=0,pure:o=0})=>Rl("compute",{fn:e,safe:a,filter:n,pure:o},t,r),kn=({fn:e})=>Fr({fn:e,priority:"effect"}),fe=(e,r,t)=>Fr({fn:e,safe:1,filter:r,priority:t&&"effect"}),qe=(e,r,t)=>ee({store:e,to:r?Me:"a",priority:t&&"sampler",batch:1}),we=(e=En,r)=>Fr({fn:e,pure:1,filter:r}),xo={mov:ee,compute:Fr,filter:({fn:e,pure:r})=>Fr({fn:e,filter:1,pure:r}),run:kn},ir=e=>({id:kl(),current:e}),Pr=({current:e})=>e,Xa=(e,r)=>{e.before||(e.before=[]),xe(e.before,r)},er=null;const Tn=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||Qa(e.v.type)>Qa(r.v.type))&&(t=e,e=r,r=t),t=Tn(e.r,r),e.r=e.l,e.l=t,e},Pn=[];let wo=0;for(;wo<6;)xe(Pn,{first:null,last:null,size:0}),wo+=1;const Vu=()=>{for(let e=0;e<6;e++){let r=Pn[e];if(r.size>0){if(e===3||e===4){r.size-=1;let a=er.v;return er=Tn(er.l,er.r),a}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},Ae=(e,r,t,a,n,o)=>Ya(0,{a:null,b:null,node:t,parent:a,value:n,page:r,scope:o},e),Ya=(e,r,t,a=0)=>{let n=Qa(t),o=Pn[n],i={v:{idx:e,stack:r,type:t,id:a},l:null,r:null};n===3||n===4?er=Tn(er,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},Qa=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},na=new Set;let _,Hr=1,nt=0,ot=0,ce=null,Wu=e=>{_=e},Oo=e=>{ce=e};const _l=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=ve(e);if(e)return e}return null};let Hu=(e,r,t,a,n)=>{let o=_l(e,a.id);return o?o.reg[a.id]:r?(lr(r,a,n),r.reg[a.id]):a},lr=(e,r,t,a,n)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!n){let g=0,p=t||!r.noInit||a;U(r.before,u=>{switch(u.type){case nr:{let v=u.from;if(v||u.fn){v&&lr(e,v,t,a);let f=v&&o[v.id].current;p&&(l.current=u.fn?u.fn(f):f)}break}case"field":g||(g=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),lr(e,u.from,t,a),p&&(l.current[u.field]=o[o[u.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const Xu=(e,r,t)=>{try{return r(Tr(t),e.scope,t)}catch(a){console.error(a),e.fail=1}};let Ja=(e,r={})=>(pe(e)&&(Ja(e.or,r),Ct(e,(t,a)=>{W(t)||a==="or"||a==="and"||(r[a]=t)}),Ja(e.and,r)),r);const Eo=(e,r)=>{aa(e.next,r),aa(At(e),r),aa(jt(e),r)},Za=(e,r,t)=>{let a;e.next.length=0,e.seq.length=0,e.scope=null;let n=jt(e);for(;a=n.pop();)Eo(a,e),(r||t&&N(e,"op")!=="sample"||a.family.type==="crosslink")&&Za(a,r,N(a,"op")!=="on"&&t);for(n=At(e);a=n.pop();)Eo(a,e),t&&a.family.type==="crosslink"&&Za(a,r,N(a,"op")!=="on"&&t)},hr=e=>e.clear();let Yu=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),oe(e))hr(at(e));else if(El(e)){t=1;let a=e.history;hr(a.events),hr(a.effects),hr(a.stores),hr(a.domains)}Za(Y(e),!!r,t)},Cl=e=>{let r=()=>Yu(e);return r.unsubscribe=r,r},ze=(e,r,t,a,n)=>Ee({node:t,parent:e,child:r,scope:{fn:n},meta:{op:a},family:{owners:[e,r],links:r},regional:1}),Al=(e,r)=>(X(ae(r),".watch argument should be a function"),Cl(Ee({scope:{fn:r},node:[kn({fn:En})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),jl=(e,r,t="event")=>{ve(e)&&ve(e).hooks[t](r)},Fl=(e,r,t,a)=>{let n=e==="domain",o=Bu(),i=Ja({or:a,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:g=null,named:p=null}=i,u=p||i.name||(n?"":o),v=xl(u,l),f={op:r.kind=e,name:r.shortName=u,sid:r.sid=Tl(g),named:p,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=v,r.defaultConfig=i,r.thru=s=>(Be(0,"thru","js pipe"),s(r)),r.getType=()=>v.fullName,!n){r.subscribe=c=>(Pl(c),r.watch(ae(c)?c:m=>c.next&&c.next(m))),r[Mu]=()=>r;let s=cr();s&&(f.nativeTemplate=s)}return f};const oa=(e,r,t,a)=>{let n;pe(t)&&(n=t,t=t.fn);let o=w({name:`${e.shortName} \u2192 *`,derived:1,and:n});return ze(e,o,a,r,t),o},ko=(e,r,t,a,n)=>{let o=te(r),i=ee({store:o,to:"a",priority:"read"});t===nr&&(i.data.softRead=1);let l=[i,we(a)];return re("storeOnMap",o,l,oe(e)&&te(e)),ze(e,r,l,t,n)},Qu=(e,r,t,a,n)=>{let o=e?c=>c.slice():c=>({...c}),i=e?[]:{},l=o(i),g=ir(l),p=ir(1);g.type=e?"list":"shape",g.noInit=1,re("combineBase",g,p);let u=T(l,{name:Il(t),derived:1,and:a}),v=te(u);v.noInit=1,De(u,"isCombine",1);let f=qe(g);f.order={priority:"barrier"};let s=[fe((c,m,h)=>(h.scope&&!h.scope.reg[g.id]&&(h.c=1),c)),f,ee({store:p,to:"b"}),fe((c,{key:m},h)=>{if(h.c||c!==h.a[m])return r&&h.b&&(h.a=o(h.a)),h.a[m]=c,1},1),ee({from:"a",target:g}),ee({from:"value",store:0,target:p}),ee({from:"value",store:1,target:p,priority:"barrier",batch:1}),qe(g,1),n&&we()];return Ct(t,(c,m)=>{if(!oe(c))return X(!Le(c)&&!W(c),`combine expects a store in a field ${m}`),void(l[m]=i[m]=c);i[m]=c.defaultState,l[m]=c.getState();let h=ze(c,u,s,"combine",n);h.scope.key=m;let d=te(c);Xa(g,{type:"field",field:m,from:d}),re("combineField",d,h)}),u.defaultShape=t,Xa(v,{type:nr,from:g,fn:n}),cr()||(u.defaultState=n?v.current=n(l):i),u};let Dl=(e,r,t)=>{try{return[1,e(...t)]}catch(a){return r(a),[0,null]}},mt=(e,r,t,a,n)=>o=>P({target:[a,Ju],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:n.page,scope:Se(n)});const Ju=Ee({node:[kn({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),Zu=["source","clock","target"],Nl=(e,r)=>e+`: ${r} should be defined`;let Ml=(e,r,t,a,n,o,i,l,g,p,u,v)=>{let f=!!n;X(!W(t)||!W(r),Nl(e,"either source or clock"));let s=0;W(t)?s=1:Le(t)||(t=ke(t)),W(r)?r=t:(yt(r,e,"clock"),Array.isArray(r)&&(r=gt(r))),s&&(t=r),l||i||(i=t.shortName);let c="none";(u||a)&&(Le(a)?c="unit":(X(ae(a),"`filter` should be function or unit"),c="fn")),n?(yt(n,e,"target"),Uu(e,n)):c==="none"&&p&&oe(t)&&oe(r)?n=T(o?o(Pr(te(t)),Pr(te(r))):Pr(te(t)),{name:i,sid:v,or:l}):(n=w({name:i,derived:1,or:l}),re("sampleTarget",Y(n)));let m=ir(),h=[];if(c==="unit"){let[b,$]=To(a,n,r,m,e);h=[...ia($),...ia(b)]}let[d,y]=To(t,n,r,m,e);return or(t,[ze(r,n,[re("sampleSourceLoader"),ee({from:Me,target:m}),...ia(y),qe(d,1,g),...h,qe(m),c==="fn"&&we((b,$,{a:S})=>a(b,S),1),o&&we(Ha),re("sampleSourceUpward",f)],e,o)]),n};const ia=e=>[qe(e),fe((r,t,{a})=>a,1)],To=(e,r,t,a,n)=>{let o=oe(e),i=o?te(e):ir(),l=ir(o);return o||Ee({parent:e,node:[ee({from:Me,target:i}),ee({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:n},regional:1}),re("sampleSource",l,i,a),[i,l]};function it(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function Rr(e){var r,t;e.status="active",r=lt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function lt(e){return e.group.activeChilds[e.priority]}function Po(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&Rr(r)}function H(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(Rr(r),lt(r).first||it(r.group,r.priority)));var t,a,n,o;r.status==="active"&&(r.status="pending",lt(r).first||((n=r.group).queue[o=r.priority].last?(n.cursor[o].prev=n.queue[o].last,n.queue[o].last.cursor[o].next=n,n.queue[o].last=n):n.queue[o].first=n.queue[o].last=n),a=r,(t=lt(r)).last?(a.cursor.prev=t.last,t.last.cursor.next=a,t.last=a):t.first=t.last=a),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=Hl(r.group.queue.execQueue))}function ec(e){Fe("execQueue");let r,t,a=_e(),n=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(_e()-a>=1e3){n=1;break e}let o=!!e.props.first;for(o&&Fe("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(_e()-a>=1e3){n=1,se("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"props")}o&&se("props");let i=!!e.tree.first;for(i&&Fe("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(_e()-a>=1e3){n=1,se("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"tree")}i&&se("tree");let l=!!e.data.first;for(l&&Fe("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(_e()-a>=1e3){n=1,se("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"data")}l&&se("data")}if(se("execQueue"),n)e.rafID=Hl(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function _r({value:e,runOp:r,group:t,priority:a}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:a,group:t,cursor:{prev:null,next:null}}}function rc({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=ec.bind(null,r),r}function Dr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function tc({value:e,group:r,onInit:t,onChange:a}){let n=_r({value:e,group:r,runOp(i){o.status="A",a(i)},priority:"data"}),o={status:"IA",value:n.value,ops:{init:_r({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:n,terminate:_r({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return H(1,o.ops.init),o}function ac(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",H(1,e.ops.terminate);break;case"AA":e.status="AT",H(1,e.ops.terminate),H(e.value.active,e.ops.change);break;case"IA":e.status="T",H(0,e.ops.init)}}function nc(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",H(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",H(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function oc(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function Ll(e,r){for(let t=0;t<r.length;t++){let{type:a,field:n,value:o}=r[t];fc[a](e,n,o)}}function Ft(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function Bl(e,r,t){Ft(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function ql(e,r,t){Ft(t)?delete e.style[r]:e.style[r]=`${t}`}function Gl(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function Ul(e,r,t){Ft(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function zl(e,r,t){if(Ft(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function en(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function sr({fn:e,state:r={},defer:t=0,name:a="",draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g=0}){let p=k,u={id:++dc,name:a,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:vc,upward:xo.filter({fn(f,s,c){if(!c.page){if(!c.parent||!c.parent.page)return 1;c.page=c.parent.page}if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page upward"),0;let m=[c.page.template],h=[c.page];{let d=c.page.parent;for(;d;)h.push(d),m.push(d.template),d=d.parent}return c.node.next.forEach(d=>{let y=d.meta.nativeTemplate;if(y)if(m.includes(y)){let b=h[m.indexOf(y)];P({target:d,params:f,defer:1,page:b,stack:c,scope:c.scope})}else console.error("context drift",{stack:c,node:d});else P({target:d,params:f,defer:1,page:c.page,stack:c,scope:c.scope})}),0}}),loader:xo.filter({fn(f,s,c){if(c.parent){let m=c.scope?c.scope.graphite.id:null;if(c.page){if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page loader"),0;if(c.page.template===u)return 1;if(c.page.root.childSpawns[c.page.fullID][u.id])c.page.root.childSpawns[c.page.fullID][u.id].forEach(h=>{(!m||h.root.scope&&m===h.root.scope.graphite.id)&&P({params:f,target:c.node,page:h,defer:1,scope:c.scope})});else{let h=c.page.fullID,d=c.page.template.name==="rec";u.pages.forEach(y=>{if(!m||y.root.scope&&m===y.root.scope.graphite.id)if(y.fullID===h||y.fullID.startsWith(`${h}_`)){let b=1;if(d){let $=c.page.template.id,S=y.parent;for(;S&&S!==c.page;){if(S.template.id===$){b=0;break}S=S.parent}}b&&P({params:f,target:c.node,page:y,defer:1,scope:c.scope})}else h.startsWith(`${y.fullID}_`)&&P({params:f,target:c.node,page:c.page,defer:1,scope:c.scope})})}}else u.pages.forEach(h=>{(!m||h.root.scope&&m===h.root.scope.graphite.id)&&P({params:f,target:c.node,page:h,defer:1,scope:c.scope})});return 0}return 1}}),parent:p,node:null,api:null,trigger:{mount:w({named:"mount"})},draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g||!(!p||!p.isBlock)};p&&p.childTemplates.push(u);let v=Ee({meta:{template:u}});return u.node=v,k=u,t?u.deferredInit=()=>{let f=k;k=u,u.deferredInit=null;try{Wa(v,()=>{let s=So(r);u.api=e(s,u.trigger),u.nameMap=s})}finally{k=f}}:Wa(v,()=>{let f=So(r);u.api=e(f,u.trigger),u.nameMap=f}),k=p,u}function ic(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function Kl(e,r,t){let a=r;for(;a&&!Mr(a,e);)a=a.parent;return a?Mr(a,e):t?(t.getState(e),t.reg[e.id]):e}function la(e,r){Mr(r,e)||(r.reg[e.id]=Kl(e,r.parent,r.root.scope))}function Ro(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function bt(e,{values:r={},parentLeaf:t,mountNode:a,svgRoot:n,leafData:o,opGroup:i,domSubtree:l,hydration:g,root:p}){function u(h){if(h.before)for(let d=0;d<h.before.length;d++){let y=h.before[d];switch(y.type){case"map":{let b,$=y.from;if(!y.fn&&!$)break;$&&(la($,s),b=f[$.id].current),f[h.id].current=y.fn?y.fn(b):b;break}case"field":{let b=y.from;la(b,s),f[h.id].current[y.field]=f[b.id].current;break}case"closure":la(y.of,s)}}}function v(h,d,y){let b;d.stop=1;try{for(;d.i<h.length;)b=h[d.i],d.i++,b.fn(y[b.of.id]?y[b.of.id].current:Kl(b.of,s.parent,s.root.scope).current)}catch($){console.error($),d.stop=0}}let f={},s={draft:e.draft,svgRoot:n,data:o,parent:t,hydration:g,mountNode:a,root:p,id:++pc,fullID:"",reg:f,template:e};e.pages.push(s);let c=ar;ar=s,t&&Ro([s],e.id,p.childSpawns[t.fullID]),s.fullID=t?`${t.fullID}_${s.id}`:`${s.id}`,p.childSpawns[s.fullID]={},p.activeSpawns.add(s.fullID),p.leafOps[s.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let d=e.closure[h],y=d,b=s.parent;e:for(;b;){if(Mr(b,d)){y=Mr(b,d);break e}b=b.parent}!b&&p.scope&&(p.scope.getState(d),y=p.scope.reg[d.id]),f[d.id]=y}for(let h=0;h<e.plain.length;h++){let d=e.plain[h],y={id:d.id,current:ic(d,p.scope)};f[d.id]=y}for(let h in r){let d=e.nameMap[h].stateRef.id;f[d]={id:d,current:r[h]}}e.closure.forEach(u),e.plain.forEach(u);let m={i:0,stop:0};for(;!m.stop;)v(e.watch,m,f);if(t)for(let h in p.childSpawns[s.fullID])Ro(p.childSpawns[s.fullID][h],h,p.childSpawns[t.fullID]);if($e)$e.steps.push({target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope});else{let h;$e={parent:$e,steps:[{target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope}]};do for(;h=$e.steps.shift();)$e={parent:$e,steps:[]},P(h);while($e=$e.parent)}return ar=c,s}function $t(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function St(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=St(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=St(r);if(t)return t;r=r.left}return null}default:return null}}function It(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=St(r);if(t)return t;r=r.left}return It(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let a=r.child[t];if(!a)continue;let n=St(a);if(n)return n}switch(r.type){case"element":case"using":return null}return It(r)}default:return null}}function rn(e){let r=It(e);return r?r.value:null}function Nr(e,r){if(!e)throw Error(r)}function Gr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function xt(e){if(!k)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(k.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=k.draft.childCount,k.draft.childCount+=1,k.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${k.draft.type}`)}}function Ie(e,{parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o}){e.childTemplates.forEach(i=>{Rn({parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o,actor:i})})}function Rn({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:a,svgRoot:n,values:o}){let i;Nr(gc.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=a,{queue:g}=r.root.leafOps[r.fullID].group,p=Dr(g),u=r.root.leafOps[r.fullID].domSubtree,v=u;switch(l.type){case"route":{let s={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"route",block:s,ops:{},initialized:0,pendingInit:null};break}case"element":{let s;if(a.isBlock){let m,h,d=r;for(;d&&(!h||!m);){d.template.env&&(m=d.template.env);let{draft:y}=d;y.type==="element"&&(y.tag==="svg"?h="svg":y.tag==="foreignObject"&&(h="html")),d=d.parent}h||(h="html"),m&&(s=h==="svg"?m.document.createElementNS("http://www.w3.org/2000/svg",l.tag):m.document.createElement(l.tag),Ll(s,l.staticSeq))}else s=l.stencil.cloneNode();let c={type:"element",parent:e,child:[],value:s,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"element",block:c,ops:{visible:_r({value:0,priority:"tree",runOp(m){if(m){Vl(c);let h=i;h.needToCallNode&&(h.needToCallNode=0,P({target:Ot,params:{element:c.value,fns:l.node},page:f,scope:r.root.scope})),c.visible=1}else c.value.remove(),c.visible=0},group:u})},needToCallNode:l.node.length>0},v=Dr(g);break}case"list":{let s={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"list",draft:l,block:s,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let s={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec",block:s};break}case"recItem":{let s={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec item",block:s};break}case"block":{let s={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block",block:s};break}case"blockItem":{let s={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block item",block:s};break}default:console.warn(`unexpected draft type ${l.type}`)}let f=bt(a,{values:o,parentLeaf:r,mountNode:t,svgRoot:n||r.svgRoot,leafData:i,opGroup:p,domSubtree:v,hydration:r.hydration,root:r.root})}function Vl(e){let r=rn(e);r?r.after(e.value):$t(e).prepend(e.value),e.visible=1}function rr({mount:e,state:r,onMount:t,onState:a}){return{onMount:A({source:r,clock:e,fn:t,greedy:1}),onState:A({source:e,clock:r,fn:a,greedy:1})}}function Cr(e,r){for(let t in e)r(e[t],t)}function _o(e,r){if(!k)return;let t=k.draft;Nr(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)Nr(B.unit(r[l]),`handler for "${l}" should be event`);let{passive:a=0,capture:n=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:a,capture:n},map:r})}function de(e){Gr(k,"spec");let r=k.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let n=e.text,o=r.childCount;Array.isArray(n)?(r.text.push(...n.map((i,l)=>({index:l+o,value:i}))),r.childCount+=n.length):(r.text.push({index:o,value:n}),r.childCount+=1)}if(e.style){let n={};for(let o in e.style)n[oc(o)]=e.style[o];r.style.push(n)}var t,a;if(e.classList&&(t=e.classList,a=n=>r.classList.push(n),Array.isArray(t)?t.forEach(n=>{let o=typeof n=="string"?n:n.map(l=>l||""),i=typeof n=="string"?1:n.map(l=>l!==null);a({name:o,enabled:i})}):Cr(t,(n,o)=>{a({name:o,enabled:n})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let n=e.handler;typeof n.on=="object"?_o(n.config||{},n.on):_o(n)}e.\u0254&&de(e.\u0254)}function sa(e,{initCtx:r,runOp:t,hooks:{onMount:a,onState:n}}){let o=e.opsAmount++;a.watch(({value:i,leaf:l})=>{let g=r(i,l),p=_r({value:i,priority:"props",runOp(u){t(u,g)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=p}),n.watch(({value:i,leaf:l})=>{H(i,l.root.leafOps[l.fullID].group.ops[o])})}function Xr(e,r,t){e[r].forEach(a=>{Cr(a,(n,o)=>{switch(r){case"data":case"styleVar":t[r][o]=n;break;case"attr":t.attr[o==="xlink:href"?"href":o]=n;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=n:t.style[o]=n}})})}function Co(e,r,t){let a=e.data.block,n={type:"text",parent:a,visible:0,index:t,value:null};if(a.child[t]=n,e.hydration){let o=It(n);if(o)switch(o.type){case"text":n.value=e.root.env.document.createTextNode(r),o.value.after(n.value);break;case"element":n.value=o.value.nextSibling,en(n.value,r)}else{let i=$t(n);n.value=i.firstChild,en(n.value,r)}n.visible=1}else n.value=e.root.env.document.createTextNode(r),Vl(n);return n}function yr(e){let r=e.stateRef,t=k;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function O(e,r){let t,a=0,n=0;typeof r=="function"?(a=1,t=r):r&&(n=1,r.fn&&(a=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(a=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(a=1,t=r.\u0254.fn))),Gr(k,"h");let o,i=k.env,l=k.namespace,g=l,p="html";g=p=l==="svg"?"svg":"html",e==="svg"&&(p="svg",g="svg"),k.isBlock||(o=p==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let u=o,v={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:u,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(v.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),g="html"):e==="svg"?(v.attr.push({xmlns:"http://www.w3.org/2000/svg"}),g="svg"):e==="foreignObject"&&(g="foreignObject");let f=sr({name:"element",draft:v,isSvgRoot:e==="svg",namespace:g,fn(s,{mount:c}){let m=w({named:"domElementCreated"});a&&t(),n&&de(r),B.unit(v.visible)&&(v.seq.push({type:"visible",value:v.visible}),yr(v.visible));let h={attr:{},data:{},style:{},styleVar:{}};Xr(v,"attr",h),Xr(v,"data",h),Xr(v,"style",h),Xr(v,"styleVar",h),Cr(h,(d,y)=>{Cr(d,(b,$)=>{B.unit(b)?(v.seq.push({type:y,field:$,value:b}),yr(b)):v.staticSeq.push({type:y,field:$,value:b})})}),v.classList.forEach(d=>{if(B.unit(d.name)||B.unit(d.enabled)){let y=B.unit(d.name)?d.name:T(d.name),b=B.unit(d.enabled)?d.enabled:T(d.enabled);v.seq.push({type:"classList",field:y,value:b}),yr(y),yr(b)}else B.unit(d.name)||v.staticSeq.push({type:"classList",field:d.name,value:d.enabled})}),v.text.forEach(d=>{d.value!==null&&(B.unit(d.value)?(v.seq.push({type:"dynamicText",value:d.value,childIndex:d.index}),yr(d.value)):v.seq.push({type:"staticText",value:String(d.value),childIndex:d.index}))}),v.handler.forEach(d=>{Cr(d.map,(y,b)=>{v.seq.push({type:"handler",for:b,handler:y,options:d.options,domConfig:d.domConfig})})}),u&&Ll(u,v.staticSeq),v.seq.forEach(d=>{switch(d.type){case"visible":{let{onMount:y,onState:b}=rr({mount:c,state:d.value,onMount:($,S)=>({leaf:S,value:$,hydration:S.hydration}),onState:($,S)=>({leaf:$,value:S,hydration:0})});y.watch(({leaf:$,value:S,hydration:I})=>{let x=$.data,E=x.block;if(I&&(Po(S,x.ops.visible),S)){let j,L=rn(E);if(j=L?L.nextSibling:$t(E).firstChild,j.nodeName==="#text"){let ye=j;j=j.nextSibling,ye.remove()}E.value=j,E.visible=1}Ie(v,{parentBlockFragment:E,leaf:$,node:E.value,svgRoot:f.isSvgRoot?E.value:null}),S&&x.needToCallNode&&(x.needToCallNode=0,P({target:Ot,params:{element:x.block.value,fns:v.node},page:$,defer:1,scope:$.root.scope})),P({target:m,params:$,defer:1,page:$,scope:$.root.scope})}),gt([b,y]).watch(({leaf:$,value:S,hydration:I})=>{I||H(S,$.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let y=No[d.type],b=hc.some(({type:S,field:I})=>d.type===S&&d.field===I),$=rr({mount:m,state:d.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});b?gt([$.onState,$.onMount]).watch(({leaf:S,value:I})=>{y(Yr(S),d.field,I)}):sa(v,{initCtx(S,I){let x=Yr(I);return y(x,d.field,S),x},runOp(S,I){y(I,d.field,S)},hooks:$});break}case"classList":{let y=No.classList,b=T({prev:"",curr:d.field.getState()}).on(d.field,({curr:S},I)=>({prev:S,curr:I})),$=rr({mount:m,state:ke({name:b,enabled:d.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});sa(v,{initCtx(S,I){let x=Yr(I);return y(x,S.name.curr,S.enabled),x},runOp(S,I){S.name.prev!==S.name.curr&&y(I,S.name.prev,0),y(I,S.name.curr,S.enabled)},hooks:$});break}case"dynamicText":sa(v,{initCtx:(y,b)=>Co(b,y,d.childIndex),runOp(y,b){en(b.value,y)},hooks:rr({mount:m,state:d.value,onMount:(y,b)=>({leaf:b,value:String(y)}),onState:(y,b)=>({leaf:y,value:String(b)})})});break;case"staticText":m.watch(y=>{Co(y,d.value,d.childIndex)});break;case"handler":{let y=d.handler.graphite.meta.nativeTemplate||null;m.watch(b=>{let $=null;if(y){let S=0,I=b;for(;!S&&I;)I.template===y?(S=1,$=I):I=I.parent}else $=null;Yr(b).addEventListener(d.for,S=>{d.options.prevent&&S.preventDefault(),d.options.stop&&S.stopPropagation(),P({target:d.handler,params:S,page:$,scope:b.root.scope})},d.domConfig)});break}}}),c.watch(d=>{let y=d.data;if(!v.visible){let b=y.ops.visible,$=y.block;if(d.hydration){Po(1,b);let S,I=rn($);if(S=I?I.nextSibling:$t($).firstChild,S.nodeName==="#text"){let x=S;S=S.nextSibling,x.remove()}$.value=S,$.visible=1}Ie(v,{parentBlockFragment:$,leaf:d,node:$.value,svgRoot:f.isSvgRoot?$.value:null}),P({target:m,params:d,defer:1,page:d,scope:d.root.scope}),d.hydration?y.needToCallNode&&(y.needToCallNode=0,P({target:Ot,params:{element:y.block.value,fns:v.node},page:d,defer:1,scope:d.root.scope})):H(1,b)}})},env:i});xt(f)}function Ao(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function lc(e,r){let t,a,n,o,i,l;if(typeof r=="function")t=r,n=Ao(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,n=r.env?r.env:Ao(),o=r.hydrate,a=r.onComplete,i=r.onRoot,l=r.scope}Nr(e,"using() first argument is missing");let g={scope:l,env:n,activeSpawns:new Set,childSpawns:{},leafOps:{}},p=e.namespaceURI,u=e.tagName.toLowerCase(),v={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},f=sr({name:"using",draft:v,isSvgRoot:u==="svg",namespace:p==="http://www.w3.org/2000/svg"?"svg":u==="foreignobject"?"foreignObject":"html",fn(h,{mount:d}){t(),d.watch(An.using)},env:n}),s={type:"using",child:[],value:e},c=rc({onComplete:a}),m=bt(f,{parentLeaf:ar||null,mountNode:e,svgRoot:f.isSvgRoot?e:ar?ar.svgRoot:null,leafData:{type:"using",draft:v,element:e,block:s},opGroup:Dr(c),domSubtree:Dr(c),hydration:o,root:g});if(i&&i({template:f,leaf:m}),c.onDrain&&!c.rafID){let h=c.onDrain;c.onDrain=null,h()}}function tn(e,r){let t=e.root.childSpawns[e.fullID];for(let a in t){let n=t[a];for(let o=0;o<n.length;o++)r(n[o])}}function Wl(e,r){let t=a=>{let n=a.data;if(e&&n.type==="list"&&n.pendingUpdate){let o=n.pendingUpdate;n.pendingUpdate=null,P({target:a.template.api.pendingUpdate,params:o,defer:1,page:a,scope:a.root.scope})}if(e&&n.type==="route"){if(n.pendingInit){let o=n.pendingInit.value;n.pendingInit=null,P({target:a.template.api.pendingInit,params:o,defer:1,page:a,scope:a.root.scope})}else if(!n.block.visible)return}switch(n.type){case"element":H(e,n.ops.visible);break;case"route":case"list":case"list item":tn(a,t);break;default:console.log("unsupported type",n.type)}};tn(r,t)}function ua(e){e.root.activeSpawns.delete(e.fullID),tn(e,_n)}function ca(e){Ar(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Ar(e,e.template.pages)}function _n(e){let{data:r,root:t}=e;switch(r.type){case"element":Ar(e,t.childSpawns[e.parent.fullID][e.template.id]),function a(n){t.activeSpawns.delete(n.fullID);let o=t.childSpawns[n.fullID];delete t.childSpawns[n.fullID],delete t.leafOps[n.fullID],Ar(n,n.template.pages);for(let i in o)o[i].forEach(a)}(e),H(0,r.ops.visible);break;case"list":{let a=r.records;for(let n=0;n<a.length;n++){let o=a[n];o.instance&&_n(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),ca(e);break}case"list item":{let a=r.block;Ar(a,a.parent.child);let n=a.left,o=a.right;n&&(n.right=o,o||a.parent.lastChild!==a||(a.parent.lastChild=n)),o&&(o.left=n),n||o||a.parent.lastChild!==a||(a.parent.lastChild=null),a.left=null,a.right=null,ua(e),ca(e);break}case"route":ua(e),ca(e);break;case"block":case"block item":case"rec":case"rec item":ua(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Ar(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function sc(e,r){if(Array.isArray(r))return r.map(t=>e.map(a=>a[t]));if(typeof r=="object"&&r!==null){let t={};for(let a in r){let n=r[a];t[a]=e.map(typeof n=="function"?o=>n(o):o=>o[n])}return t}return e.map(t=>t[r])}function Cn(e,r){Gr(k,"list"),typeof r=="function"&&(B.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:a,source:n,fields:o=[]}=e,i=a!==void 0?typeof a=="function"?a:u=>u[a]:(u,v)=>v,l={type:"list",key:B.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:g,namespace:p}=k;xt(sr({name:"list",draft:l,isSvgRoot:0,namespace:p,fn(u,{mount:v}){let f=sr({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:p,fn({id:y,store:b},{mount:$}){t({store:b,key:y,fields:sc(b,o)});let S=w({named:"itemUpdater"});if(b.on(S,(I,x)=>x),l.itemVisible){let{onMount:I,onState:x}=rr({mount:$,state:l.itemVisible,onMount:(E,j)=>({visible:E,leaf:j}),onState:(E,j)=>({visible:j,leaf:E})});I.watch(({visible:E,leaf:j})=>{let L=j.data.block;L.visible=E,L.childInitialized=E,E&&Ie(l,{parentBlockFragment:L,leaf:j})}),x.watch(({visible:E,leaf:j})=>{let L=j.data.block;L.visible=E,L.childInitialized?Wl(E,j):E&&(L.childInitialized=1,Ie(l,{parentBlockFragment:L,leaf:j}))})}else $.watch(An.listItem);return{itemUpdater:S}},env:g}),s=T([]),c=n.map(y=>y),m=A({source:n,clock:v,fn:(y,b)=>({updates:y,leaf:b,hydration:b.hydration}),greedy:1}),h=w(),d=A({source:m,clock:[c,h],fn:({leaf:y},b)=>({updates:b,leaf:y,hydration:0}),greedy:1});return A({source:s,clock:[m,d],greedy:1,fn(y,{updates:b,leaf:$,hydration:S}){let I=$.data,x=$;for(;x;){if(x.data.type==="route"&&!x.data.block.visible)return void(I.pendingUpdate=b);x=x.parent}let E=I.block;Fe("list update ["+n.shortName+"]");let j=Array(b.length).fill(0),L=b.map(i),ye=[];for(let me=0;me<y.length;me++){let ie=y[me],Te=L.indexOf(ie.key);Te!==-1?(ye.push(ie),j[Te]=1,nc(b[Te],ie.asyncValue)):(ie.active=0,ie.instance&&_n(ie.instance),ac(ie.asyncValue))}for(let me=0;me<b.length;me++){if(j[me])continue;let ie=b[me],Te=L[me],ea=Dr($.root.leafOps[$.fullID].group.queue),Pe={type:"LF",parent:E,child:[],childInitialized:0,visible:0,left:null,right:null},le={type:"listItem",key:Te,index:Te,active:1,leafData:{type:"list item",block:Pe,listDraft:l},asyncValue:tc({value:ie,group:ea,onChange(Ce){le.instance&&P({target:le.instance.template.api.itemUpdater,params:Ce,defer:1,page:le.instance,scope:le.instance.root.scope})},onInit(Ce){le.active&&(S||(le.instance=bt(f,{values:{id:Te,store:Ce},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:le.leafData,opGroup:ea,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root})))}})},bo=ye.length;ye.push(le);let $o=bo>0?ye[bo-1].leafData:null;if(E.child.push(Pe),$o){let Ce=$o.block;Pe.left=Ce;let ra=Ce.right;ra?(ra.left=Pe,Pe.right=ra):E.lastChild=Pe,Ce.right=Pe}else E.lastChild=Pe;S&&(le.instance=bt(f,{values:{id:Te,store:ie},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:le.leafData,opGroup:ea,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root}))}return se("list update ["+n.shortName+"]"),ye.length===0&&(E.lastChild=null),I.records=ye,ye},target:s}),{pendingUpdate:h}},env:g}))}function jo({source:e,visible:r,fn:t}){Gr(k,"route");let{env:a,namespace:n}=k,o=sr({name:"route",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let g;if(B.store(r))g=ke({value:e,visible:r});else{let c=r;g=e.map(m=>({value:m,visible:c(m)}))}let p=sr({name:"route item",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:c},{mount:m}){let h=w({named:"itemUpdater"});c.on(h,(y,b)=>b),t({store:c});let d=A({source:m,clock:g,fn:(y,{visible:b,value:$})=>({leaf:y,visible:b,value:$}),greedy:1});m.watch(An.routeItem),d.watch(({leaf:y,visible:b,value:$})=>{if(y.data.block.visible=b,b&&P({target:h,params:$,defer:1,page:y,scope:y.root.scope}),b){let S=y.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}Wl(b,y)})}});xt(p);let{onMount:u,onState:v}=rr({mount:l,state:g,onMount:({visible:c,value:m},h)=>({leaf:h,visible:c,value:m}),onState:(c,{visible:m,value:h})=>({leaf:c,visible:m,value:h})}),f=w(),s=A({source:l,clock:f,greedy:1,fn:(c,m)=>({leaf:c,value:m,visible:1})});return gt([u,v,s]).watch(({leaf:c,visible:m,value:h})=>{let d=c.data;if(d.block.visible=m,m||d.initialized||!d.pendingInit){if(m&&!d.initialized){let y=c.parent;for(;y;){if(y.data.type==="route"&&!y.data.block.visible)return void(d.pendingInit={value:h});y=y.parent}}m&&!d.initialized&&(Rn({parentBlockFragment:d.block,leaf:c,actor:p,values:{store:h}}),d.initialized=1)}else d.pendingInit=null}),{pendingInit:f}}});xt(o)}function uc({source:e,cases:r,key:t}){let a;Gr(k,"variant"),Nr(B.unit(e),"variant({source}) should be unit"),a=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let n=0;for(let o in r)o!=="__"?jo({source:e,visible:i=>a(i)===o,fn:r[o]}):n=1;if(n){let o=Object.keys(r);jo({source:e,visible:i=>!o.includes(a(i)),fn:r.__})}}function cc(e,r){if(r.length===0)return e;let t=[e[0]];for(let a=0;a<r.length;a++)t.push(r[a],e[a+1]);return t}function wt(e,...r){Array.isArray(e)?de({text:cc(e,r)}):de({text:e})}let _e;_e=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let an=new Map;const Or=[],Fo=e=>{let r=an.get(e);r||(r={calls:0,time:0,label:e,childTime:0},an.set(e,r)),r.calls+=1,Or.push({bucket:r,pendingStart:_e()})},Do=e=>{let r=an.get(e),t=Or.pop().pendingStart,a=_e()-t;r.time+=a,Or.length>0&&(Or[Or.length-1].bucket.childTime+=a)};let Fe,se;typeof performance<"u"&&performance.mark?(Fe=e=>{performance.mark("\u2604\uFE0F "+e+" start"),Fo(e)},se=e=>{Do(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(Fe=e=>{Fo(e)},se=e=>{Do(e)});let Hl=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const fc={attr:zl,data:Ul,style:ql,styleVar:Bl,classList:Gl},be=(e,r)=>e.includes(r);let vc={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,a){var n,o;t.unshift(e.loader),t.push(e.upward),a&&(be(e.plain,a)||(be(e.closure,a)||e.closure.push(a),o={type:"closure",of:a},(n=r).before||(n.before=[]),n.before.push(o)))},storeMap(e,r,t){be(e.plain,r)||be(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,a){r.current?be(e.plain,t)||be(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),be(e.plain,a)||e.plain.push(a)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},dc=0,pc=0,k=null,ar=null;const Mr=(e,r)=>e.reg[r.id];let $e=null;const gc=["LF","using","element","recItem","rec","block","blockItem","route"];let Ot=w({named:"onMount"});Ot.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const hc=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],No={attr:zl,data:Ul,style:ql,styleVar:Bl,classList:Gl},Yr=e=>e.data.block.value;let An={using(e){let r=e.data;Ie(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,Ie(r,{parentBlockFragment:t.block,leaf:e})},block(e){Ie(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){Rn({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){Ie(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,Ie(r.listDraft,{parentBlockFragment:t,leaf:e})}};function ue(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Et(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function ur(e,r){return mc(e)||$c(e,r)||Yl(e,r)||Ic()}function Xl(e){return yc(e)||bc(e)||Yl(e)||Sc()}function yc(e){if(Array.isArray(e))return nn(e)}function mc(e){if(Array.isArray(e))return e}function bc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $c(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],n=!0,o=!1,i,l;try{for(t=t.call(e);!(n=(i=t.next()).done)&&(a.push(i.value),!(r&&a.length===r));n=!0);}catch(g){o=!0,l=g}finally{try{!n&&t.return!=null&&t.return()}finally{if(o)throw l}}return a}}function Yl(e,r){if(!!e){if(typeof e=="string")return nn(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nn(e,r)}}function nn(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Sc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ic(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr=function(e){return e&&e.Math==Math&&e},M=Qr(typeof globalThis=="object"&&globalThis)||Qr(typeof window=="object"&&window)||Qr(typeof self=="object"&&self)||Qr(typeof Mo=="object"&&Mo)||function(){return this}()||Function("return this")(),jn={},R=function(e){try{return!!e()}catch{return!0}},xc=R,z=!xc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),wc=R,Dt=!wc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Oc=Dt,Jr=Function.prototype.call,Q=Oc?Jr.bind(Jr):function(){return Jr.apply(Jr,arguments)},Fn={},Ql={}.propertyIsEnumerable,Jl=Object.getOwnPropertyDescriptor,Ec=Jl&&!Ql.call({1:2},1);Fn.f=Ec?function(r){var t=Jl(this,r);return!!t&&t.enumerable}:Ql;var Nt=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},Zl=Dt,es=Function.prototype,kc=es.bind,on=es.call,Tc=Zl&&kc.bind(on,on),C=Zl?function(e){return e&&Tc(e)}:function(e){return e&&function(){return on.apply(e,arguments)}},rs=C,Pc=rs({}.toString),Rc=rs("".slice),Ke=function(e){return Rc(Pc(e),8,-1)},_c=C,Cc=R,Ac=Ke,fa=Object,jc=_c("".split),ts=Cc(function(){return!fa("z").propertyIsEnumerable(0)})?function(e){return Ac(e)=="String"?jc(e,""):fa(e)}:fa,Fc=TypeError,fr=function(e){if(e==null)throw Fc("Can't call method on "+e);return e},Dc=ts,Nc=fr,Ve=function(e){return Dc(Nc(e))},F=function(e){return typeof e=="function"},Mc=F,J=function(e){return typeof e=="object"?e!==null:Mc(e)},va=M,Lc=F,Bc=function(e){return Lc(e)?e:void 0},vr=function(e,r){return arguments.length<2?Bc(va[e]):va[e]&&va[e][r]},qc=C,Dn=qc({}.isPrototypeOf),Gc=vr,Uc=Gc("navigator","userAgent")||"",as=M,da=Uc,Lo=as.process,Bo=as.Deno,qo=Lo&&Lo.versions||Bo&&Bo.version,Go=qo&&qo.v8,Z,kt;Go&&(Z=Go.split("."),kt=Z[0]>0&&Z[0]<4?1:+(Z[0]+Z[1]));!kt&&da&&(Z=da.match(/Edge\/(\d+)/),(!Z||Z[1]>=74)&&(Z=da.match(/Chrome\/(\d+)/),Z&&(kt=+Z[1])));var Nn=kt,Uo=Nn,zc=R,ns=!!Object.getOwnPropertySymbols&&!zc(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Uo&&Uo<41}),Kc=ns,os=Kc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Vc=vr,Wc=F,Hc=Dn,Xc=os,Yc=Object,is=Xc?function(e){return typeof e=="symbol"}:function(e){var r=Vc("Symbol");return Wc(r)&&Hc(r.prototype,Yc(e))},Qc=String,Mt=function(e){try{return Qc(e)}catch{return"Object"}},Jc=F,Zc=Mt,ef=TypeError,Mn=function(e){if(Jc(e))return e;throw ef(Zc(e)+" is not a function")},rf=Mn,dr=function(e,r){var t=e[r];return t==null?void 0:rf(t)},pa=Q,ga=F,ha=J,tf=TypeError,af=function(e,r){var t,a;if(r==="string"&&ga(t=e.toString)&&!ha(a=pa(t,e))||ga(t=e.valueOf)&&!ha(a=pa(t,e))||r!=="string"&&ga(t=e.toString)&&!ha(a=pa(t,e)))return a;throw tf("Can't convert object to primitive value")},Lt={exports:{}},zo=M,nf=Object.defineProperty,Ln=function(e,r){try{nf(zo,e,{value:r,configurable:!0,writable:!0})}catch{zo[e]=r}return r},of=M,lf=Ln,Ko="__core-js_shared__",sf=of[Ko]||lf(Ko,{}),Bn=sf,Vo=Bn;(Lt.exports=function(e,r){return Vo[e]||(Vo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var uf=fr,cf=Object,Ur=function(e){return cf(uf(e))},ff=C,vf=Ur,df=ff({}.hasOwnProperty),ge=Object.hasOwn||function(r,t){return df(vf(r),t)},pf=C,gf=0,hf=Math.random(),yf=pf(1 .toString),qn=function(e){return"Symbol("+(e===void 0?"":e)+")_"+yf(++gf+hf,36)},mf=M,bf=Lt.exports,Wo=ge,$f=qn,Ho=ns,ls=os,He=bf("wks"),Ne=mf.Symbol,Xo=Ne&&Ne.for,Sf=ls?Ne:Ne&&Ne.withoutSetter||$f,D=function(e){if(!Wo(He,e)||!(Ho||typeof He[e]=="string")){var r="Symbol."+e;Ho&&Wo(Ne,e)?He[e]=Ne[e]:ls&&Xo?He[e]=Xo(r):He[e]=Sf(r)}return He[e]},If=Q,Yo=J,Qo=is,xf=dr,wf=af,Of=D,Ef=TypeError,kf=Of("toPrimitive"),Tf=function(e,r){if(!Yo(e)||Qo(e))return e;var t=xf(e,kf),a;if(t){if(r===void 0&&(r="default"),a=If(t,e,r),!Yo(a)||Qo(a))return a;throw Ef("Can't convert object to primitive value")}return r===void 0&&(r="number"),wf(e,r)},Pf=Tf,Rf=is,Gn=function(e){var r=Pf(e,"string");return Rf(r)?r:r+""},_f=M,Jo=J,ln=_f.document,Cf=Jo(ln)&&Jo(ln.createElement),Un=function(e){return Cf?ln.createElement(e):{}},Af=z,jf=R,Ff=Un,ss=!Af&&!jf(function(){return Object.defineProperty(Ff("div"),"a",{get:function(){return 7}}).a!=7}),Df=z,Nf=Q,Mf=Fn,Lf=Nt,Bf=Ve,qf=Gn,Gf=ge,Uf=ss,Zo=Object.getOwnPropertyDescriptor;jn.f=Df?Zo:function(r,t){if(r=Bf(r),t=qf(t),Uf)try{return Zo(r,t)}catch{}if(Gf(r,t))return Lf(!Nf(Mf.f,r,t),r[t])};var K={},zf=z,Kf=R,us=zf&&Kf(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Vf=J,Wf=String,Hf=TypeError,q=function(e){if(Vf(e))return e;throw Hf(Wf(e)+" is not an object")},Xf=z,Yf=ss,Qf=us,Zr=q,ei=Gn,Jf=TypeError,ya=Object.defineProperty,Zf=Object.getOwnPropertyDescriptor,ma="enumerable",ba="configurable",$a="writable";K.f=Xf?Qf?function(r,t,a){if(Zr(r),t=ei(t),Zr(a),typeof r=="function"&&t==="prototype"&&"value"in a&&$a in a&&!a[$a]){var n=Zf(r,t);n&&n[$a]&&(r[t]=a.value,a={configurable:ba in a?a[ba]:n[ba],enumerable:ma in a?a[ma]:n[ma],writable:!1})}return ya(r,t,a)}:ya:function(r,t,a){if(Zr(r),t=ei(t),Zr(a),Yf)try{return ya(r,t,a)}catch{}if("get"in a||"set"in a)throw Jf("Accessors not supported");return"value"in a&&(r[t]=a.value),r};var ev=z,rv=K,tv=Nt,pr=ev?function(e,r,t){return rv.f(e,r,tv(1,t))}:function(e,r,t){return e[r]=t,e},cs={exports:{}},sn=z,av=ge,fs=Function.prototype,nv=sn&&Object.getOwnPropertyDescriptor,zn=av(fs,"name"),ov=zn&&function(){}.name==="something",iv=zn&&(!sn||sn&&nv(fs,"name").configurable),Kn={EXISTS:zn,PROPER:ov,CONFIGURABLE:iv},lv=C,sv=F,un=Bn,uv=lv(Function.toString);sv(un.inspectSource)||(un.inspectSource=function(e){return uv(e)});var Vn=un.inspectSource,cv=M,fv=F,vv=Vn,ri=cv.WeakMap,dv=fv(ri)&&/native code/.test(vv(ri)),pv=Lt.exports,gv=qn,ti=pv("keys"),Wn=function(e){return ti[e]||(ti[e]=gv(e))},Bt={},hv=dv,vs=M,Sa=C,yv=J,mv=pr,Ia=ge,xa=Bn,bv=Wn,$v=Bt,ai="Object already initialized",cn=vs.TypeError,Sv=vs.WeakMap,Tt,Lr,Pt,Iv=function(e){return Pt(e)?Lr(e):Tt(e,{})},xv=function(e){return function(r){var t;if(!yv(r)||(t=Lr(r)).type!==e)throw cn("Incompatible receiver, "+e+" required");return t}};if(hv||xa.state){var je=xa.state||(xa.state=new Sv),wv=Sa(je.get),ni=Sa(je.has),Ov=Sa(je.set);Tt=function(e,r){if(ni(je,e))throw new cn(ai);return r.facade=e,Ov(je,e,r),r},Lr=function(e){return wv(je,e)||{}},Pt=function(e){return ni(je,e)}}else{var Xe=bv("state");$v[Xe]=!0,Tt=function(e,r){if(Ia(e,Xe))throw new cn(ai);return r.facade=e,mv(e,Xe,r),r},Lr=function(e){return Ia(e,Xe)?e[Xe]:{}},Pt=function(e){return Ia(e,Xe)}}var zr={set:Tt,get:Lr,has:Pt,enforce:Iv,getterFor:xv},Ev=R,kv=F,et=ge,fn=z,Tv=Kn.CONFIGURABLE,Pv=Vn,ds=zr,Rv=ds.enforce,_v=ds.get,st=Object.defineProperty,Cv=fn&&!Ev(function(){return st(function(){},"length",{value:8}).length!==8}),Av=String(String).split("String"),jv=cs.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!et(e,"name")||Tv&&e.name!==r)&&(fn?st(e,"name",{value:r,configurable:!0}):e.name=r),Cv&&t&&et(t,"arity")&&e.length!==t.arity&&st(e,"length",{value:t.arity});try{t&&et(t,"constructor")&&t.constructor?fn&&st(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=Rv(e);return et(a,"source")||(a.source=Av.join(typeof r=="string"?r:"")),e};Function.prototype.toString=jv(function(){return kv(this)&&_v(this).source||Pv(this)},"toString");var Fv=F,Dv=K,Nv=cs.exports,Mv=Ln,We=function(e,r,t,a){a||(a={});var n=a.enumerable,o=a.name!==void 0?a.name:r;if(Fv(t)&&Nv(t,o,a),a.global)n?e[r]=t:Mv(r,t);else{try{a.unsafe?e[r]&&(n=!0):delete e[r]}catch{}n?e[r]=t:Dv.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e},qt={},Lv=Math.ceil,Bv=Math.floor,qv=Math.trunc||function(r){var t=+r;return(t>0?Bv:Lv)(t)},Gv=qv,Gt=function(e){var r=+e;return r!==r||r===0?0:Gv(r)},Uv=Gt,zv=Math.max,Kv=Math.min,ps=function(e,r){var t=Uv(e);return t<0?zv(t+r,0):Kv(t,r)},Vv=Gt,Wv=Math.min,Ut=function(e){return e>0?Wv(Vv(e),9007199254740991):0},Hv=Ut,Kr=function(e){return Hv(e.length)},Xv=Ve,Yv=ps,Qv=Kr,oi=function(e){return function(r,t,a){var n=Xv(r),o=Qv(n),i=Yv(a,o),l;if(e&&t!=t){for(;o>i;)if(l=n[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in n)&&n[i]===t)return e||i||0;return!e&&-1}},Jv={includes:oi(!0),indexOf:oi(!1)},Zv=C,wa=ge,ed=Ve,rd=Jv.indexOf,td=Bt,ii=Zv([].push),gs=function(e,r){var t=ed(e),a=0,n=[],o;for(o in t)!wa(td,o)&&wa(t,o)&&ii(n,o);for(;r.length>a;)wa(t,o=r[a++])&&(~rd(n,o)||ii(n,o));return n},Hn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ad=gs,nd=Hn,od=nd.concat("length","prototype");qt.f=Object.getOwnPropertyNames||function(r){return ad(r,od)};var hs={};hs.f=Object.getOwnPropertySymbols;var id=vr,ld=C,sd=qt,ud=hs,cd=q,fd=ld([].concat),vd=id("Reflect","ownKeys")||function(r){var t=sd.f(cd(r)),a=ud.f;return a?fd(t,a(r)):t},li=ge,dd=vd,pd=jn,gd=K,hd=function(e,r,t){for(var a=dd(r),n=gd.f,o=pd.f,i=0;i<a.length;i++){var l=a[i];!li(e,l)&&!(t&&li(t,l))&&n(e,l,o(r,l))}},yd=R,md=F,bd=/#|\.prototype\./,Vr=function(e,r){var t=Sd[$d(e)];return t==xd?!0:t==Id?!1:md(r)?yd(r):!!r},$d=Vr.normalize=function(e){return String(e).replace(bd,".").toLowerCase()},Sd=Vr.data={},Id=Vr.NATIVE="N",xd=Vr.POLYFILL="P",ys=Vr,Oa=M,wd=jn.f,Od=pr,Ed=We,kd=Ln,Td=hd,Pd=ys,he=function(e,r){var t=e.target,a=e.global,n=e.stat,o,i,l,g,p,u;if(a?i=Oa:n?i=Oa[t]||kd(t,{}):i=(Oa[t]||{}).prototype,i)for(l in r){if(p=r[l],e.dontCallGetSet?(u=wd(i,l),g=u&&u.value):g=i[l],o=Pd(a?l:t+(n?".":"#")+l,e.forced),!o&&g!==void 0){if(typeof p==typeof g)continue;Td(p,g)}(e.sham||g&&g.sham)&&Od(p,"sham",!0),Ed(i,l,p,e)}},si=C,Rd=Mn,_d=Dt,Cd=si(si.bind),Xn=function(e,r){return Rd(e),r===void 0?e:_d?Cd(e,r):function(){return e.apply(r,arguments)}},Ad=Ke,ms=Array.isArray||function(r){return Ad(r)=="Array"},jd=D,Fd=jd("toStringTag"),bs={};bs[Fd]="z";var Yn=String(bs)==="[object z]",Dd=Yn,Nd=F,ut=Ke,Md=D,Ld=Md("toStringTag"),Bd=Object,qd=ut(function(){return arguments}())=="Arguments",Gd=function(e,r){try{return e[r]}catch{}},zt=Dd?ut:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=Gd(r=Bd(e),Ld))=="string"?t:qd?ut(r):(a=ut(r))=="Object"&&Nd(r.callee)?"Arguments":a},Ud=C,zd=R,$s=F,Kd=zt,Vd=vr,Wd=Vn,Ss=function(){},Hd=[],Is=Vd("Reflect","construct"),Qn=/^\s*(?:class|function)\b/,Xd=Ud(Qn.exec),Yd=!Qn.exec(Ss),mr=function(r){if(!$s(r))return!1;try{return Is(Ss,Hd,r),!0}catch{return!1}},xs=function(r){if(!$s(r))return!1;switch(Kd(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Yd||!!Xd(Qn,Wd(r))}catch{return!0}};xs.sham=!0;var ws=!Is||zd(function(){var e;return mr(mr.call)||!mr(Object)||!mr(function(){e=!0})||e})?xs:mr,ui=ms,Qd=ws,Jd=J,Zd=D,ep=Zd("species"),ci=Array,rp=function(e){var r;return ui(e)&&(r=e.constructor,Qd(r)&&(r===ci||ui(r.prototype))?r=void 0:Jd(r)&&(r=r[ep],r===null&&(r=void 0))),r===void 0?ci:r},tp=rp,Os=function(e,r){return new(tp(e))(r===0?0:r)},ap=Xn,np=C,op=ts,ip=Ur,lp=Kr,sp=Os,fi=np([].push),Re=function(e){var r=e==1,t=e==2,a=e==3,n=e==4,o=e==6,i=e==7,l=e==5||o;return function(g,p,u,v){for(var f=ip(g),s=op(f),c=ap(p,u),m=lp(s),h=0,d=v||sp,y=r?d(g,m):t||i?d(g,0):void 0,b,$;m>h;h++)if((l||h in s)&&(b=s[h],$=c(b,h,f),e))if(r)y[h]=$;else if($)switch(e){case 3:return!0;case 5:return b;case 6:return h;case 2:fi(y,b)}else switch(e){case 4:return!1;case 7:fi(y,b)}return o?-1:a||n?n:y}},Kt={forEach:Re(0),map:Re(1),filter:Re(2),some:Re(3),every:Re(4),find:Re(5),findIndex:Re(6),filterReject:Re(7)},up=R,cp=D,fp=Nn,vp=cp("species"),Jn=function(e){return fp>=51||!up(function(){var r=[],t=r.constructor={};return t[vp]=function(){return{foo:1}},r[e](Boolean).foo!==1})},dp=he,pp=Kt.map,gp=Jn,hp=gp("map");dp({target:"Array",proto:!0,forced:!hp},{map:function(r){return pp(this,r,arguments.length>1?arguments[1]:void 0)}});var Es={},yp=gs,mp=Hn,ks=Object.keys||function(r){return yp(r,mp)},bp=z,$p=us,Sp=K,Ip=q,xp=Ve,wp=ks;Es.f=bp&&!$p?Object.defineProperties:function(r,t){Ip(r);for(var a=xp(t),n=wp(t),o=n.length,i=0,l;o>i;)Sp.f(r,l=n[i++],a[l]);return r};var Op=vr,Ep=Op("document","documentElement"),kp=q,Tp=Es,vi=Hn,Pp=Bt,Rp=Ep,_p=Un,Cp=Wn,di=">",pi="<",vn="prototype",dn="script",Ts=Cp("IE_PROTO"),Ea=function(){},Ps=function(e){return pi+dn+di+e+pi+"/"+dn+di},gi=function(e){e.write(Ps("")),e.close();var r=e.parentWindow.Object;return e=null,r},Ap=function(){var e=_p("iframe"),r="java"+dn+":",t;return e.style.display="none",Rp.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Ps("document.F=Object")),t.close(),t.F},rt,ct=function(){try{rt=new ActiveXObject("htmlfile")}catch{}ct=typeof document<"u"?document.domain&&rt?gi(rt):Ap():gi(rt);for(var e=vi.length;e--;)delete ct[vn][vi[e]];return ct()};Pp[Ts]=!0;var Vt=Object.create||function(r,t){var a;return r!==null?(Ea[vn]=kp(r),a=new Ea,Ea[vn]=null,a[Ts]=r):a=ct(),t===void 0?a:Tp.f(a,t)},jp=D,Fp=Vt,Dp=K.f,pn=jp("unscopables"),gn=Array.prototype;gn[pn]==null&&Dp(gn,pn,{configurable:!0,value:Fp(null)});var Rs=function(e){gn[pn][e]=!0},Wr={},Np=R,Mp=!Np(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Lp=ge,Bp=F,qp=Ur,Gp=Wn,Up=Mp,hi=Gp("IE_PROTO"),hn=Object,zp=hn.prototype,_s=Up?hn.getPrototypeOf:function(e){var r=qp(e);if(Lp(r,hi))return r[hi];var t=r.constructor;return Bp(t)&&r instanceof t?t.prototype:r instanceof hn?zp:null},Kp=R,Vp=F,yi=_s,Wp=We,Hp=D,yn=Hp("iterator"),Cs=!1,Ge,ka,Ta;[].keys&&(Ta=[].keys(),"next"in Ta?(ka=yi(yi(Ta)),ka!==Object.prototype&&(Ge=ka)):Cs=!0);var Xp=Ge==null||Kp(function(){var e={};return Ge[yn].call(e)!==e});Xp&&(Ge={});Vp(Ge[yn])||Wp(Ge,yn,function(){return this});var As={IteratorPrototype:Ge,BUGGY_SAFARI_ITERATORS:Cs},Yp=K.f,Qp=ge,Jp=D,mi=Jp("toStringTag"),Zn=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Qp(e,mi)&&Yp(e,mi,{configurable:!0,value:r})},Zp=As.IteratorPrototype,eg=Vt,rg=Nt,tg=Zn,ag=Wr,ng=function(){return this},og=function(e,r,t,a){var n=r+" Iterator";return e.prototype=eg(Zp,{next:rg(+!a,t)}),tg(e,n,!1),ag[n]=ng,e},ig=F,lg=String,sg=TypeError,ug=function(e){if(typeof e=="object"||ig(e))return e;throw sg("Can't set "+lg(e)+" as a prototype")},cg=C,fg=q,vg=ug,js=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=cg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(n,o){return fg(n),vg(o),e?t(n,o):n.__proto__=o,n}}():void 0),dg=he,pg=Q,Fs=Kn,gg=F,hg=og,bi=_s,$i=js,yg=Zn,mg=pr,Pa=We,bg=D,$g=Wr,Ds=As,Sg=Fs.PROPER,Ig=Fs.CONFIGURABLE,Si=Ds.IteratorPrototype,tt=Ds.BUGGY_SAFARI_ITERATORS,br=bg("iterator"),Ii="keys",$r="values",xi="entries",xg=function(){return this},eo=function(e,r,t,a,n,o,i){hg(t,r,a);var l=function(d){if(d===n&&f)return f;if(!tt&&d in u)return u[d];switch(d){case Ii:return function(){return new t(this,d)};case $r:return function(){return new t(this,d)};case xi:return function(){return new t(this,d)}}return function(){return new t(this)}},g=r+" Iterator",p=!1,u=e.prototype,v=u[br]||u["@@iterator"]||n&&u[n],f=!tt&&v||l(n),s=r=="Array"&&u.entries||v,c,m,h;if(s&&(c=bi(s.call(new e)),c!==Object.prototype&&c.next&&(bi(c)!==Si&&($i?$i(c,Si):gg(c[br])||Pa(c,br,xg)),yg(c,g,!0))),Sg&&n==$r&&v&&v.name!==$r&&(Ig?mg(u,"name",$r):(p=!0,f=function(){return pg(v,this)})),n)if(m={values:l($r),keys:o?f:l(Ii),entries:l(xi)},i)for(h in m)(tt||p||!(h in u))&&Pa(u,h,m[h]);else dg({target:r,proto:!0,forced:tt||p},m);return u[br]!==f&&Pa(u,br,f,{name:n}),$g[r]=f,m},wg=Ve,ro=Rs,wi=Wr,Ns=zr,Og=K.f,Eg=eo,kg=z,Ms="Array Iterator",Tg=Ns.set,Pg=Ns.getterFor(Ms),Rg=Eg(Array,"Array",function(e,r){Tg(this,{type:Ms,target:wg(e),index:0,kind:r})},function(){var e=Pg(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:a,done:!1}:t=="values"?{value:r[a],done:!1}:{value:[a,r[a]],done:!1}},"values"),Oi=wi.Arguments=wi.Array;ro("keys");ro("values");ro("entries");if(kg&&Oi.name!=="values")try{Og(Oi,"name",{value:"values"})}catch{}var to={exports:{}},Ls={},_g=Gn,Cg=K,Ag=Nt,Bs=function(e,r,t){var a=_g(r);a in e?Cg.f(e,a,Ag(0,t)):e[a]=t},Ei=ps,jg=Kr,Fg=Bs,Dg=Array,Ng=Math.max,qs=function(e,r,t){for(var a=jg(e),n=Ei(r,a),o=Ei(t===void 0?a:t,a),i=Dg(Ng(o-n,0)),l=0;n<o;n++,l++)Fg(i,l,e[n]);return i.length=l,i},Mg=Ke,Lg=Ve,Gs=qt.f,Bg=qs,Us=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qg=function(e){try{return Gs(e)}catch{return Bg(Us)}};Ls.f=function(r){return Us&&Mg(r)=="Window"?qg(r):Gs(Lg(r))};var Gg=R,Ug=Gg(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),zg=R,Kg=J,Vg=Ke,ki=Ug,ft=Object.isExtensible,Wg=zg(function(){ft(1)}),Hg=Wg||ki?function(r){return!Kg(r)||ki&&Vg(r)=="ArrayBuffer"?!1:ft?ft(r):!0}:ft,Xg=R,Yg=!Xg(function(){return Object.isExtensible(Object.preventExtensions({}))}),Qg=he,Jg=C,Zg=Bt,eh=J,ao=ge,rh=K.f,Ti=qt,th=Ls,no=Hg,ah=qn,nh=Yg,zs=!1,Oe=ah("meta"),oh=0,oo=function(e){rh(e,Oe,{value:{objectID:"O"+oh++,weakData:{}}})},ih=function(e,r){if(!eh(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!ao(e,Oe)){if(!no(e))return"F";if(!r)return"E";oo(e)}return e[Oe].objectID},lh=function(e,r){if(!ao(e,Oe)){if(!no(e))return!0;if(!r)return!1;oo(e)}return e[Oe].weakData},sh=function(e){return nh&&zs&&no(e)&&!ao(e,Oe)&&oo(e),e},uh=function(){ch.enable=function(){},zs=!0;var e=Ti.f,r=Jg([].splice),t={};t[Oe]=1,e(t).length&&(Ti.f=function(a){for(var n=e(a),o=0,i=n.length;o<i;o++)if(n[o]===Oe){r(n,o,1);break}return n},Qg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:th.f}))},ch=to.exports={enable:uh,fastKey:ih,getWeakData:lh,onFreeze:sh};Zg[Oe]=!0;var fh=D,vh=Wr,dh=fh("iterator"),ph=Array.prototype,gh=function(e){return e!==void 0&&(vh.Array===e||ph[dh]===e)},hh=zt,Pi=dr,yh=Wr,mh=D,bh=mh("iterator"),Ks=function(e){if(e!=null)return Pi(e,bh)||Pi(e,"@@iterator")||yh[hh(e)]},$h=Q,Sh=Mn,Ih=q,xh=Mt,wh=Ks,Oh=TypeError,Eh=function(e,r){var t=arguments.length<2?wh(e):r;if(Sh(t))return Ih($h(t,e));throw Oh(xh(e)+" is not iterable")},kh=Q,Ri=q,Th=dr,Ph=function(e,r,t){var a,n;Ri(e);try{if(a=Th(e,"return"),!a){if(r==="throw")throw t;return t}a=kh(a,e)}catch(o){n=!0,a=o}if(r==="throw")throw t;if(n)throw a;return Ri(a),t},Rh=Xn,_h=Q,Ch=q,Ah=Mt,jh=gh,Fh=Kr,_i=Dn,Dh=Eh,Nh=Ks,Ci=Ph,Mh=TypeError,vt=function(e,r){this.stopped=e,this.result=r},Ai=vt.prototype,Vs=function(e,r,t){var a=t&&t.that,n=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),g=Rh(r,a),p,u,v,f,s,c,m,h=function(y){return p&&Ci(p,"normal",y),new vt(!0,y)},d=function(y){return n?(Ch(y),l?g(y[0],y[1],h):g(y[0],y[1])):l?g(y,h):g(y)};if(o)p=e.iterator;else if(i)p=e;else{if(u=Nh(e),!u)throw Mh(Ah(e)+" is not iterable");if(jh(u)){for(v=0,f=Fh(e);f>v;v++)if(s=d(e[v]),s&&_i(Ai,s))return s;return new vt(!1)}p=Dh(e,u)}for(c=o?e.next:p.next;!(m=_h(c,p)).done;){try{s=d(m.value)}catch(y){Ci(p,"throw",y)}if(typeof s=="object"&&s&&_i(Ai,s))return s}return new vt(!1)},Lh=Dn,Bh=TypeError,Ws=function(e,r){if(Lh(r,e))return e;throw Bh("Incorrect invocation")},qh=D,Hs=qh("iterator"),Xs=!1;try{var Gh=0,ji={next:function(){return{done:!!Gh++}},return:function(){Xs=!0}};ji[Hs]=function(){return this},Array.from(ji,function(){throw 2})}catch{}var Uh=function(e,r){if(!r&&!Xs)return!1;var t=!1;try{var a={};a[Hs]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t},zh=F,Kh=J,Fi=js,Vh=function(e,r,t){var a,n;return Fi&&zh(a=r.constructor)&&a!==t&&Kh(n=a.prototype)&&n!==t.prototype&&Fi(e,n),e},Wh=he,Hh=M,Xh=C,Di=ys,Yh=We,Qh=to.exports,Jh=Vs,Zh=Ws,ey=F,Ra=J,_a=R,ry=Uh,ty=Zn,ay=Vh,ny=function(e,r,t){var a=e.indexOf("Map")!==-1,n=e.indexOf("Weak")!==-1,o=a?"set":"add",i=Hh[e],l=i&&i.prototype,g=i,p={},u=function(d){var y=Xh(l[d]);Yh(l,d,d=="add"?function($){return y(this,$===0?0:$),this}:d=="delete"?function(b){return n&&!Ra(b)?!1:y(this,b===0?0:b)}:d=="get"?function($){return n&&!Ra($)?void 0:y(this,$===0?0:$)}:d=="has"?function($){return n&&!Ra($)?!1:y(this,$===0?0:$)}:function($,S){return y(this,$===0?0:$,S),this})},v=Di(e,!ey(i)||!(n||l.forEach&&!_a(function(){new i().entries().next()})));if(v)g=t.getConstructor(r,e,a,o),Qh.enable();else if(Di(e,!0)){var f=new g,s=f[o](n?{}:-0,1)!=f,c=_a(function(){f.has(1)}),m=ry(function(d){new i(d)}),h=!n&&_a(function(){for(var d=new i,y=5;y--;)d[o](y,y);return!d.has(-0)});m||(g=r(function(d,y){Zh(d,l);var b=ay(new i,d,g);return y!=null&&Jh(y,b[o],{that:b,AS_ENTRIES:a}),b}),g.prototype=l,l.constructor=g),(c||h)&&(u("delete"),u("has"),a&&u("get")),(h||s)&&u(o),n&&l.clear&&delete l.clear}return p[e]=g,Wh({global:!0,constructor:!0,forced:g!=i},p),ty(g,e),n||t.setStrong(g,e,a),g},oy=We,iy=function(e,r,t){for(var a in r)oy(e,a,r[a],t);return e},ly=vr,sy=K,uy=D,cy=z,Ni=uy("species"),fy=function(e){var r=ly(e),t=sy.f;cy&&r&&!r[Ni]&&t(r,Ni,{configurable:!0,get:function(){return this}})},vy=K.f,dy=Vt,Mi=iy,py=Xn,gy=Ws,hy=Vs,yy=eo,my=fy,Sr=z,Li=to.exports.fastKey,Ys=zr,Bi=Ys.set,Ca=Ys.getterFor,by={getConstructor:function(e,r,t,a){var n=e(function(p,u){gy(p,o),Bi(p,{type:r,index:dy(null),first:void 0,last:void 0,size:0}),Sr||(p.size=0),u!=null&&hy(u,p[a],{that:p,AS_ENTRIES:t})}),o=n.prototype,i=Ca(r),l=function(p,u,v){var f=i(p),s=g(p,u),c,m;return s?s.value=v:(f.last=s={index:m=Li(u,!0),key:u,value:v,previous:c=f.last,next:void 0,removed:!1},f.first||(f.first=s),c&&(c.next=s),Sr?f.size++:p.size++,m!=="F"&&(f.index[m]=s)),p},g=function(p,u){var v=i(p),f=Li(u),s;if(f!=="F")return v.index[f];for(s=v.first;s;s=s.next)if(s.key==u)return s};return Mi(o,{clear:function(){for(var u=this,v=i(u),f=v.index,s=v.first;s;)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete f[s.index],s=s.next;v.first=v.last=void 0,Sr?v.size=0:u.size=0},delete:function(p){var u=this,v=i(u),f=g(u,p);if(f){var s=f.next,c=f.previous;delete v.index[f.index],f.removed=!0,c&&(c.next=s),s&&(s.previous=c),v.first==f&&(v.first=s),v.last==f&&(v.last=c),Sr?v.size--:u.size--}return!!f},forEach:function(u){for(var v=i(this),f=py(u,arguments.length>1?arguments[1]:void 0),s;s=s?s.next:v.first;)for(f(s.value,s.key,this);s&&s.removed;)s=s.previous},has:function(u){return!!g(this,u)}}),Mi(o,t?{get:function(u){var v=g(this,u);return v&&v.value},set:function(u,v){return l(this,u===0?0:u,v)}}:{add:function(u){return l(this,u=u===0?0:u,u)}}),Sr&&vy(o,"size",{get:function(){return i(this).size}}),n},setStrong:function(e,r,t){var a=r+" Iterator",n=Ca(r),o=Ca(a);yy(e,r,function(i,l){Bi(this,{type:a,target:i,state:n(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,g=i.last;g&&g.removed;)g=g.previous;return!i.target||!(i.last=g=g?g.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:g.key,done:!1}:l=="values"?{value:g.value,done:!1}:{value:[g.key,g.value],done:!1}},t?"entries":"values",!t,!0),my(r)}},$y=ny,Sy=by;$y("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Sy);var Iy=Yn,xy=zt,wy=Iy?{}.toString:function(){return"[object "+xy(this)+"]"},Oy=Yn,Ey=We,ky=wy;Oy||Ey(Object.prototype,"toString",ky,{unsafe:!0});var Ty=zt,Py=String,gr=function(e){if(Ty(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Py(e)},io=C,Ry=Gt,_y=gr,Cy=fr,Ay=io("".charAt),qi=io("".charCodeAt),jy=io("".slice),Gi=function(e){return function(r,t){var a=_y(Cy(r)),n=Ry(t),o=a.length,i,l;return n<0||n>=o?e?"":void 0:(i=qi(a,n),i<55296||i>56319||n+1===o||(l=qi(a,n+1))<56320||l>57343?e?Ay(a,n):i:e?jy(a,n,n+2):(i-55296<<10)+(l-56320)+65536)}},Qs={codeAt:Gi(!1),charAt:Gi(!0)},Fy=Qs.charAt,Dy=gr,Js=zr,Ny=eo,Zs="String Iterator",My=Js.set,Ly=Js.getterFor(Zs);Ny(String,"String",function(e){My(this,{type:Zs,string:Dy(e),index:0})},function(){var r=Ly(this),t=r.string,a=r.index,n;return a>=t.length?{value:void 0,done:!0}:(n=Fy(t,a),r.index+=n.length,{value:n,done:!1})});var eu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},By=Un,Aa=By("span").classList,Ui=Aa&&Aa.constructor&&Aa.constructor.prototype,ru=Ui===Object.prototype?void 0:Ui,zi=M,tu=eu,qy=ru,Er=Rg,ja=pr,au=D,Fa=au("iterator"),Ki=au("toStringTag"),Da=Er.values,nu=function(e,r){if(e){if(e[Fa]!==Da)try{ja(e,Fa,Da)}catch{e[Fa]=Da}if(e[Ki]||ja(e,Ki,r),tu[r]){for(var t in Er)if(e[t]!==Er[t])try{ja(e,t,Er[t])}catch{e[t]=Er[t]}}}};for(var Na in tu)nu(zi[Na]&&zi[Na].prototype,Na);nu(qy,"DOMTokenList");var Gy=R,Uy=function(e,r){var t=[][e];return!!t&&Gy(function(){t.call(null,r||function(){return 1},1)})},zy=Kt.forEach,Ky=Uy,Vy=Ky("forEach"),ou=Vy?[].forEach:function(r){return zy(this,r,arguments.length>1?arguments[1]:void 0)},Wy=he,Vi=ou;Wy({target:"Array",proto:!0,forced:[].forEach!=Vi},{forEach:Vi});var Wi=M,Hi=eu,Hy=ru,Ma=ou,Xy=pr,iu=function(e){if(e&&e.forEach!==Ma)try{Xy(e,"forEach",Ma)}catch{e.forEach=Ma}};for(var La in Hi)Hi[La]&&iu(Wi[La]&&Wi[La].prototype);iu(Hy);var Yy=z,lu=C,Qy=ks,Jy=Ve,Zy=Fn.f,em=lu(Zy),rm=lu([].push),Xi=function(e){return function(r){for(var t=Jy(r),a=Qy(t),n=a.length,o=0,i=[],l;n>o;)l=a[o++],(!Yy||em(t,l))&&rm(i,e?[l,t[l]]:t[l]);return i}},tm={entries:Xi(!0),values:Xi(!1)},am=he,nm=tm.entries;am({target:"Object",stat:!0},{entries:function(r){return nm(r)}});var om=TypeError,im=9007199254740991,lm=function(e){if(e>im)throw om("Maximum allowed index exceeded");return e},sm=he,um=R,cm=ms,fm=J,vm=Ur,dm=Kr,Yi=lm,Qi=Bs,pm=Os,gm=Jn,hm=D,ym=Nn,su=hm("isConcatSpreadable"),mm=ym>=51||!um(function(){var e=[];return e[su]=!1,e.concat()[0]!==e}),bm=gm("concat"),$m=function(e){if(!fm(e))return!1;var r=e[su];return r!==void 0?!!r:cm(e)},Sm=!mm||!bm;sm({target:"Array",proto:!0,arity:1,forced:Sm},{concat:function(r){var t=vm(this),a=pm(t,0),n=0,o,i,l,g,p;for(o=-1,l=arguments.length;o<l;o++)if(p=o===-1?t:arguments[o],$m(p))for(g=dm(p),Yi(n+g),i=0;i<g;i++,n++)i in p&&Qi(a,n,p[i]);else Yi(n+1),Qi(a,n++,p);return a.length=n,a}});var Im=q,xm=function(){var e=Im(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},lo=R,wm=M,so=wm.RegExp,uo=lo(function(){var e=so("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Om=uo||lo(function(){return!so("a","y").sticky}),Em=uo||lo(function(){var e=so("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),uu={BROKEN_CARET:Em,MISSED_STICKY:Om,UNSUPPORTED_Y:uo},km=R,Tm=M,Pm=Tm.RegExp,Rm=km(function(){var e=Pm(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),_m=R,Cm=M,Am=Cm.RegExp,jm=_m(function(){var e=Am("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),tr=Q,Wt=C,Fm=gr,Dm=xm,Nm=uu,Mm=Lt.exports,Lm=Vt,Bm=zr.get,qm=Rm,Gm=jm,Um=Mm("native-string-replace",String.prototype.replace),Rt=RegExp.prototype.exec,mn=Rt,zm=Wt("".charAt),Km=Wt("".indexOf),Vm=Wt("".replace),Ba=Wt("".slice),bn=function(){var e=/a/,r=/b*/g;return tr(Rt,e,"a"),tr(Rt,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),cu=Nm.BROKEN_CARET,$n=/()??/.exec("")[1]!==void 0,Wm=bn||$n||cu||qm||Gm;Wm&&(mn=function(r){var t=this,a=Bm(t),n=Fm(r),o=a.raw,i,l,g,p,u,v,f;if(o)return o.lastIndex=t.lastIndex,i=tr(mn,o,n),t.lastIndex=o.lastIndex,i;var s=a.groups,c=cu&&t.sticky,m=tr(Dm,t),h=t.source,d=0,y=n;if(c&&(m=Vm(m,"y",""),Km(m,"g")===-1&&(m+="g"),y=Ba(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&zm(n,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",y=" "+y,d++),l=new RegExp("^(?:"+h+")",m)),$n&&(l=new RegExp("^"+h+"$(?!\\s)",m)),bn&&(g=t.lastIndex),p=tr(Rt,c?l:t,y),c?p?(p.input=Ba(p.input,d),p[0]=Ba(p[0],d),p.index=t.lastIndex,t.lastIndex+=p[0].length):t.lastIndex=0:bn&&p&&(t.lastIndex=t.global?p.index+p[0].length:g),$n&&p&&p.length>1&&tr(Um,p[0],l,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(p[u]=void 0)}),p&&s)for(p.groups=v=Lm(null),u=0;u<s.length;u++)f=s[u],v[f[0]]=p[f[1]];return p});var Ht=mn,Hm=he,Ji=Ht;Hm({target:"RegExp",proto:!0,forced:/./.exec!==Ji},{exec:Ji});var Xm=Dt,fu=Function.prototype,Zi=fu.apply,el=fu.call,vu=typeof Reflect=="object"&&Reflect.apply||(Xm?el.bind(Zi):function(){return el.apply(Zi,arguments)}),rl=C,tl=We,Ym=Ht,al=R,du=D,Qm=pr,Jm=du("species"),qa=RegExp.prototype,co=function(e,r,t,a){var n=du(e),o=!al(function(){var p={};return p[n]=function(){return 7},""[e](p)!=7}),i=o&&!al(function(){var p=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[Jm]=function(){return u},u.flags="",u[n]=/./[n]),u.exec=function(){return p=!0,null},u[n](""),!p});if(!o||!i||t){var l=rl(/./[n]),g=r(n,""[e],function(p,u,v,f,s){var c=rl(p),m=u.exec;return m===Ym||m===qa.exec?o&&!s?{done:!0,value:l(u,v,f)}:{done:!0,value:c(v,u,f)}:{done:!1}});tl(String.prototype,e,g[0]),tl(qa,n,g[1])}a&&Qm(qa[n],"sham",!0)},Zm=J,eb=Ke,rb=D,tb=rb("match"),ab=function(e){var r;return Zm(e)&&((r=e[tb])!==void 0?!!r:eb(e)=="RegExp")},nb=ws,ob=Mt,ib=TypeError,lb=function(e){if(nb(e))return e;throw ib(ob(e)+" is not a constructor")},nl=q,sb=lb,ub=D,cb=ub("species"),fb=function(e,r){var t=nl(e).constructor,a;return t===void 0||(a=nl(t)[cb])==null?r:sb(a)},vb=Qs.charAt,fo=function(e,r,t){return r+(t?vb(e,r).length:1)},ol=Q,db=q,pb=F,gb=Ke,hb=Ht,yb=TypeError,vo=function(e,r){var t=e.exec;if(pb(t)){var a=ol(t,e,r);return a!==null&&db(a),a}if(gb(e)==="RegExp")return ol(hb,e,r);throw yb("RegExp#exec called on incompatible receiver")},mb=vu,Ir=Q,po=C,bb=co,$b=ab,Sb=q,il=fr,Ib=fb,xb=fo,wb=Ut,Ga=gr,Ob=dr,ll=qs,sl=vo,Eb=Ht,kb=uu,Tb=R,Ye=kb.UNSUPPORTED_Y,ul=4294967295,Pb=Math.min,pu=[].push,Rb=po(/./.exec),Qe=po(pu),xr=po("".slice),_b=!Tb(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});bb("split",function(e,r,t){var a;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?a=function(n,o){var i=Ga(il(this)),l=o===void 0?ul:o>>>0;if(l===0)return[];if(n===void 0)return[i];if(!$b(n))return Ir(r,i,n,l);for(var g=[],p=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),u=0,v=new RegExp(n.source,p+"g"),f,s,c;(f=Ir(Eb,v,i))&&(s=v.lastIndex,!(s>u&&(Qe(g,xr(i,u,f.index)),f.length>1&&f.index<i.length&&mb(pu,g,ll(f,1)),c=f[0].length,u=s,g.length>=l)));)v.lastIndex===f.index&&v.lastIndex++;return u===i.length?(c||!Rb(v,""))&&Qe(g,""):Qe(g,xr(i,u)),g.length>l?ll(g,0,l):g}:"0".split(void 0,0).length?a=function(n,o){return n===void 0&&o===0?[]:Ir(r,this,n,o)}:a=r,[function(o,i){var l=il(this),g=o==null?void 0:Ob(o,e);return g?Ir(g,o,l,i):Ir(a,Ga(l),o,i)},function(n,o){var i=Sb(this),l=Ga(n),g=t(a,i,l,o,a!==r);if(g.done)return g.value;var p=Ib(i,RegExp),u=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Ye?"g":"y"),f=new p(Ye?"^(?:"+i.source+")":i,v),s=o===void 0?ul:o>>>0;if(s===0)return[];if(l.length===0)return sl(f,l)===null?[l]:[];for(var c=0,m=0,h=[];m<l.length;){f.lastIndex=Ye?0:m;var d=sl(f,Ye?xr(l,m):l),y;if(d===null||(y=Pb(wb(f.lastIndex+(Ye?m:0)),l.length))===c)m=xb(l,m,u);else{if(Qe(h,xr(l,c,m)),h.length===s)return h;for(var b=1;b<=d.length-1;b++)if(Qe(h,d[b]),h.length===s)return h;m=c=y}}return Qe(h,xr(l,c)),h}]},!_b,Ye);var Cb=z,Ab=Kn.EXISTS,gu=C,jb=K.f,hu=Function.prototype,Fb=gu(hu.toString),yu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Db=gu(yu.exec),Nb="name";Cb&&!Ab&&jb(hu,Nb,{configurable:!0,get:function(){try{return Db(yu,Fb(this))[1]}catch{return""}}});function cl(e){var r=new Map,t=new Map;return e.forEach(function(a,n){Mb(t,n,a)}),t.forEach(function(a,n){var o=ur(a,2),i=o[0],l=o[1],g=e.get(n)||0;g&&i+l<2||g&&i+l>3||(!g&&i+l==3?r.set(n,i>l?1:2):g&&r.set(n,g))}),r}function Mb(e,r,t){var a=mu(r),n=ur(a,2),o=n[0],i=n[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(g){e.has(g)||e.set(g,[0,0]);var p=e.get(g),u=ur(p,2),v=u[0],f=u[1];t===1?e.set(g,[v+1,f]):e.set(g,[v,f+1])}),e}function mu(e){var r=e.split("|"),t=ur(r,2),a=t[0],n=t[1];return[+a,+n]}function Lb(e){var r=ur(e,2),t=r[0],a=r[1];return"".concat(t,"|").concat(a)}function bu(e,r){var t=Math.floor(e.clientY/r),a=Math.floor(e.clientX/r);return{row:t,col:a,shift:e.shiftKey}}function Bb(e){return""}function qb(e){var r=e.map(function(t){var a=t.name,n=t.fauna,o=Xl(n.entries());return{fauna:o,name:a}});localStorage.setItem("history",JSON.stringify(r))}function Gb(){try{var e=JSON.parse(localStorage.getItem("history")||"null")||[],r=e.map(function(t){var a=t.fauna,n=t.name,o=new Map(a);return{fauna:o,name:n}});return r}catch(t){return console.error(t),[]}}function Ub(){return{width:window.visualViewport.width,height:window.visualViewport.height}}var $u="#5583e5",Su="#79e555",Iu=[5,10,20,30,40],zb=Iu[2],fl=Ub();function Kb(){var e=T(Iu,{name:"$options",sid:"jcy7nx"}),r=T(zb,{name:"$cellSize",sid:"eeiscj"}),t=r.map(function(o){return{height:Math.ceil(fl.height/o),width:Math.ceil(fl.width/o)}}),a=w({name:"cellSizeChanged",sid:"-ub9olw"});r.on(a,function(o,i){return i});var n={$options:e,$cellSize:r,$fieldSize:t,cellSizeChanged:a};return n}function Vb(){var e=T(!0,{name:"$isOn",sid:"byljm1"}),r=w({name:"changed",sid:"uvawwv"});e.on(r,function(a,n){return n});var t={$isOn:e,changed:r};return t}var ne=Kb(),_t=Vb(),Ue=T(new Map,{name:"$fauna",sid:"12kukq"}),go=T({col:0,row:0},{name:"$focus",sid:"-5hzlos"}),kr=w({name:"moveFocus",sid:"-7a3fel"}),xu=w({name:"resetFocus",sid:"e03fb7"}),jr=T(1,{name:"$selectedColor",sid:"-wiiylh"}),dt=w({name:"colorSelected",sid:"dywk0m"});jr.on(dt,function(e,r){return r});var wu=w({name:"toggleCell",sid:"-itkxoh"}),Ou=w({name:"saveClicked",sid:"sm8ofd"}),Xt=w({name:"resetFieldPressed",sid:"bcu3mo"}),Eu=T({row:0,col:0,shift:!1},{and:{updateFilter:function(r,t){return!(r.row===t.row&&r.col===t.col&&r.shift===t.shift)}},name:"$hoveredCell",sid:"vsdd07"}),ku=w({name:"fieldMouseMove",sid:"-7x4hmo"}),Wb=ke({and:[_t.$isOn,ne.$cellSize,function(e,r){return e?"elsa":r}],or:{name:"$fieldTilesStyle",sid:"-2r55s9"}}),Tu=ke({and:[ne.$fieldSize,Ue,go,function(e,r,t){var a=e.width,n=e.height,o=[];return r.forEach(function(i,l){var g=mu(l),p=ur(g,2),u=p[0],v=p[1],f=Math.ceil(u+t.col),s=Math.ceil(v+t.row);f>=0&&f<a&&s>=0&&s<n&&o.push({col:f,row:s,val:i})}),o}],or:{name:"$field",sid:"-s9rfl"}}),Hb=ke({and:[Tu,ne.$cellSize,function(e,r){return e.map(function(t){var a=t.val,n=t.col,o=t.row;return{val:a,y:o*r+"px",x:n*r+"px"}})}],or:{name:"$viewField",sid:"8bwuy0"}}),vl=ke({and:[Eu,ne.$cellSize,function(e,r){var t=e.col,a=e.row;return{y:a*r+"px",x:t*r+"px"}}],or:{name:"$viewHoveredCell",sid:"mm3upx"}});Ue.on(Xt,function(){return new Map});go.on(kr,function(e,r){return{col:e.col+(r.col||0),row:e.row+(r.row||0)}}).reset(xu);A({and:[{source:ne.$cellSize,clock:ku,fn:function(r,t){return bu(t,r)},target:Eu}],or:{sid:"c9pkxd"}});A({and:[{source:{fauna:Ue,color:jr,focus:go},clock:wu,fn:function(r,t){var a=r.color,n=r.fauna,o=r.focus,i=t.col,l=t.row,g=t.shift,p=new Map(n),u=i-o.col,v=l-o.row,f=Lb([u,v]);return g?p.set(f,a):p.get(f)===a?p.delete(f):p.set(f,a),p},target:Ue}],or:{sid:"cpnm4u"}});function Xb(e){O("select",function(){de({handler:{change:e.onChange}}),Cn(e.options,function(r){var t=r.store;O("option",{attr:{value:t.map(function(a){return a.value}),selected:ke({and:[t,e.value,function(a,n){return a.value===n}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(a){return a.label})})})})}function Yb(e){O("label",{text:e.label,fn:function(){O("input",{attr:{type:"checkbox",checked:e.value},handler:{change:e.onChange.prepend(function(t){return t.target.checked})}})}})}const Qb="_history_iy2lc_1",Jb="_colorBtn_iy2lc_7",Zb="_currentColor_iy2lc_14",e$="_arrowBtn_iy2lc_18",V={history:Qb,colorBtn:Jb,currentColor:Zb,arrowBtn:e$};function r$(){Yb({label:"Elsa",value:_t.$isOn,onChange:_t.changed}),O("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,a;O("button",{classList:(r={},ue(r,V.colorBtn,!0),ue(r,V.currentColor,jr.map(function(n){return n===1})),r),style:{backgroundColor:$u},handler:{click:dt.prepend(function(){return 1})}}),O("button",{classList:(t={},ue(t,V.colorBtn,!0),ue(t,V.currentColor,jr.map(function(n){return n===2})),t),style:{backgroundColor:Su},handler:{click:dt.prepend(function(){return 2})}}),O("button",{classList:(a={},ue(a,V.colorBtn,!0),ue(a,V.currentColor,jr.map(function(n){return!n})),a),handler:{click:dt.prepend(function(){return 0})}})}})}var ho=C,t$=Ur,a$=Math.floor,Ua=ho("".charAt),n$=ho("".replace),za=ho("".slice),o$=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i$=/\$([$&'`]|\d{1,2})/g,l$=function(e,r,t,a,n,o){var i=t+e.length,l=a.length,g=i$;return n!==void 0&&(n=t$(n),g=o$),n$(o,g,function(p,u){var v;switch(Ua(u,0)){case"$":return"$";case"&":return e;case"`":return za(r,0,t);case"'":return za(r,i);case"<":v=n[za(u,1,-1)];break;default:var f=+u;if(f===0)return p;if(f>l){var s=a$(f/10);return s===0?p:s<=l?a[s-1]===void 0?Ua(u,1):a[s-1]+Ua(u,1):p}v=a[f-1]}return v===void 0?"":v})},s$=vu,dl=Q,Yt=C,u$=co,c$=R,f$=q,v$=F,d$=Gt,p$=Ut,Je=gr,g$=fr,h$=fo,y$=dr,m$=l$,b$=vo,$$=D,Sn=$$("replace"),S$=Math.max,I$=Math.min,x$=Yt([].concat),Ka=Yt([].push),pl=Yt("".indexOf),gl=Yt("".slice),w$=function(e){return e===void 0?e:String(e)},O$=function(){return"a".replace(/./,"$0")==="$0"}(),hl=function(){return/./[Sn]?/./[Sn]("a","$0")==="":!1}(),E$=!c$(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});u$("replace",function(e,r,t){var a=hl?"$":"$0";return[function(o,i){var l=g$(this),g=o==null?void 0:y$(o,Sn);return g?dl(g,o,l,i):dl(r,Je(l),o,i)},function(n,o){var i=f$(this),l=Je(n);if(typeof o=="string"&&pl(o,a)===-1&&pl(o,"$<")===-1){var g=t(r,i,l,o);if(g.done)return g.value}var p=v$(o);p||(o=Je(o));var u=i.global;if(u){var v=i.unicode;i.lastIndex=0}for(var f=[];;){var s=b$(i,l);if(s===null||(Ka(f,s),!u))break;var c=Je(s[0]);c===""&&(i.lastIndex=h$(l,p$(i.lastIndex),v))}for(var m="",h=0,d=0;d<f.length;d++){s=f[d];for(var y=Je(s[0]),b=S$(I$(d$(s.index),l.length),0),$=[],S=1;S<s.length;S++)Ka($,w$(s[S]));var I=s.groups;if(p){var x=x$([y],$,b,l);I!==void 0&&Ka(x,I);var E=Je(s$(o,void 0,x))}else E=m$(y,l,b,$,I,o);b>=h&&(m+=gl(l,h,b)+E,h=b+y.length)}return m+gl(l,h)}]},!E$||!O$||hl);const k$=""+new URL("heart-line-icon.a4369d33.svg",import.meta.url).href,T$="_field_n4fvk_1",P$="_cell_n4fvk_13",R$="_on1_n4fvk_21",_$="_on2_n4fvk_24",C$="_heartMode_n4fvk_28",Ze={field:T$,cell:P$,on1:R$,on2:_$,heartMode:C$};function A$(e){var r=`
<svg viewBox='0 0 `.concat(e," ").concat(e,`' xmlns='http://www.w3.org/2000/svg'>
<line x1='0' y1='0' x2='0' y2='`).concat(e,`' stroke='#b4b6b8' />
<line x1='0' y1='0' x2='`).concat(e,`' y2='0' stroke='#b4b6b8' />
</svg>`);return"data:image/svg+xml;base64,"+btoa(r.replace(/\n/g,""))}function j$(){var e=w({name:"rawClicked",sid:"co1uzo"});A({and:[{source:ne.$cellSize,clock:e,fn:function(t,a){return bu(a,t)},target:wu}],or:{sid:"cevhdx"}}),O("div",{classList:[Ze.field],styleVar:{cellSize:ne.$cellSize.map(function(r){return r+"px"}),color1:$u,color2:Su},style:{backgroundImage:Wb.map(function(r){var t=r==="elsa"?k$:A$(r);return'url("'.concat(t,'")')}),backgroundSize:ne.$cellSize.map(function(r){return"".concat(r,"px ").concat(r,"px")})},handler:{click:e,mousemove:ku},fn:function(){Cn(Hb,function(t){var a,n=t.store;O("div",{style:{left:n.map(function(o){return o.x}),top:n.map(function(o){return o.y})},classList:(a={},ue(a,Ze.heartMode,_t.$isOn),ue(a,Ze.cell,!0),ue(a,Ze.on1,n.map(function(o){return o.val===1})),ue(a,Ze.on2,n.map(function(o){return o.val===2})),a)})}),O("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:vl.map(function(t){return t.x}),top:vl.map(function(t){return t.y})},classList:[Ze.cell]})}})}var F$=Q,D$=co,N$=q,M$=Ut,Va=gr,L$=fr,B$=dr,q$=fo,yl=vo;D$("match",function(e,r,t){return[function(n){var o=L$(this),i=n==null?void 0:B$(n,e);return i?F$(i,n,o):new RegExp(n)[e](Va(o))},function(a){var n=N$(this),o=Va(a),i=t(r,n,o);if(i.done)return i.value;if(!n.global)return yl(n,o);var l=n.unicode;n.lastIndex=0;for(var g=[],p=0,u;(u=yl(n,o))!==null;){var v=Va(u[0]);g[p]=v,v===""&&(n.lastIndex=q$(o,M$(n.lastIndex),l)),p++}return p===0?null:g}]});var G$=he,U$=Kt.filter,z$=Jn,K$=z$("filter");G$({target:"Array",proto:!0,forced:!K$},{filter:function(r){return U$(this,r,arguments.length>1?arguments[1]:void 0)}});var Qt=T(Gb()||[],{name:"$history",sid:"8vj2mw"}),Pu=w({name:"addToHistory",sid:"-6p9jgl"}),Ru=w({name:"removeFromHistory",sid:"iwl8tq"}),Jt=w({name:"historySelected",sid:"bspsag"});Qt.on(Pu,function(e,r){var t,a=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",n=a.match(/(\d+)/),o=n&&+n[1]||0;return[].concat(Xl(e),[{fauna:r,name:"save #".concat(o+1)}])}).on(Ru,function(e,r){});A({and:[{source:Qt,target:xn(function(e){qb(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var ml,bl;function V$(){O("div",{classList:[V.history],fn:function(){O("p",{text:"History: ",style:{margin:"0"}}),Cn(Qt,function(r){var t=r.store,a=w({name:"rawClick",sid:"-69qia6"}),n=w({name:"rawRemoveClick",sid:"-9nj6fi"});A({and:[{clock:a,source:t.map(function(o){return o.name}),target:Jt}],or:{sid:"-pa1t75"}}),A({and:[{clock:n,source:t.map(function(o){return o.name}),target:Ru}],or:{sid:"-p7au8c"}}),O("div",function(){O("button",function(){de({handler:{click:a}}),wt(ml||(ml=Et(["",""])),t.map(function(o){return o.name}))}),O("button",function(){de({handler:{click:n}}),wt(bl||(bl=Et(["x"])))})})}),O("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:Ou}})}})}const W$=""+new URL("redo-arrow-icon.c268a7f7.svg",import.meta.url).href;function H$(){var e=kr.prepend(function(){return{col:5}}),r=kr.prepend(function(){return{col:-5}}),t=kr.prepend(function(){return{row:5}}),a=kr.prepend(function(){return{row:-5}});O("div",function(){de({style:{display:"grid",gridTemplateColumns:"30px 30px 30px",gridTemplateRows:"30px 30px 30px",gap:"8px",position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",zIndex:1}}),O("div",{}),O("button",{text:"^",classList:[V.arrowBtn],style:{transform:"rotate(90deg)"},handler:{click:t}}),O("div",{}),O("button",{text:"<-",classList:[V.arrowBtn],style:{transform:"rotate(0deg)"},handler:{click:e}}),O("button",{classList:[V.arrowBtn],style:{backgroundImage:'url("'.concat(W$,'")')},handler:{click:xu}}),O("button",{text:"->",classList:[V.arrowBtn],style:{transform:"rotate(180deg)"},handler:{click:r}}),O("div",{}),O("button",{text:"v",classList:[V.arrowBtn],style:{transform:"rotate(270deg)"},handler:{click:a}})}),O("div",function(){de({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),Xb({options:ne.$options.map(function(n){return n.map(function(o){return{label:"cell ".concat(o,"px"),value:String(o)}})}),value:ne.$cellSize.map(function(n){return String(n)}),onChange:ne.cellSizeChanged.prepend(function(n){return+n.target.value})})})}function X$(e){var{timeout:r,start:t,stop:a,leading:n=!1,trailing:o=!1}=e,i=w({name:"tick",sid:"uo9p3s"}),l=T(!1,{name:"$isRunning",sid:"-wxesi8"}),g=Y$(r),p=l.map(h=>!h),u=w({name:"saveTimeout",sid:"as5clk"}),v=T(null,{name:"$timeoutId",sid:"-bh90bo"}).on(u,(h,d)=>d),f=w({name:"saveReject",sid:"-64swis"}),s=T(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(f,(h,d)=>d),c=xn(h=>new Promise((d,y)=>{var b=setTimeout(d,h);u(b),f(y)}),{name:"timeoutFx",sid:"7lc3mj"}),m=Nu({and:{source:[v,s],effect:h=>{var[d,y]=h;y(),d&&clearTimeout(d)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return ta({and:[{clock:t,source:g,filter:p,target:c}],or:{sid:"-w5qmwp"}}),n&&ta({and:[{clock:t,filter:p,target:i}],or:{sid:"-vpslni"}}),A({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),ta({and:[{clock:c.done,source:g,filter:l,target:c}],or:{sid:"-v73liy"}}),A({and:[{clock:c.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),a&&(o&&A({and:[{clock:a,target:i}],or:{sid:"-uanqf7"}}),l.on(a,()=>!1),A({and:[{clock:a,target:m}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function Y$(e){if(B.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return T(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var yo=T(0,{name:"$stepCount",sid:"qcyfda"});T(0,{name:"$startFauna",sid:"871hb0"});var Zt=w({name:"gameTick",sid:"3e0yvy"}),_u=w({name:"makeNSteps",sid:"-su79h9"}),mo=w({name:"startTimer",sid:"qpqggy"}),Cu=w({name:"stopTimer",sid:"o91ddu"}),Au=Gu({sid:"-9gtfjx",fn:function(){return X$({timeout:50,start:mo,stop:Cu})},name:"timer",method:"interval"}),pt={start:mo,stop:Cu,isRunning:Au.isRunning};A({and:[{clock:[Au.tick,mo],target:Zt}],or:{sid:"-pq1jks"}});yo.on(Zt,function(e){return e+1}).on(_u,function(e,r){return e+r});var $l,Sl;function Q$(){O("p",function(){de({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),O("button",{text:"Step",handler:{click:Zt}}),wt($l||($l=Et([" timer: "]))),uc({source:pt.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){O("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:pt.stop}})},0:function(){O("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:pt.start}})}}}),wt(Sl||(Sl=Et(["steps: ",""])),yo)})}var J$=he,Z$=Kt.find,e1=Rs,In="find",ju=!0;In in[]&&Array(1)[In](function(){ju=!1});J$({target:"Array",proto:!0,forced:ju},{find:function(r){return Z$(this,r,arguments.length>1?arguments[1]:void 0)}});e1(In);var r1=T("",{name:"$exported",sid:"-eko3nz"}),t1=w({name:"exportClicked",sid:"ve9igg"});A({and:[{source:Ue,clock:Ou,target:Pu}],or:{sid:"-32a41b"}});A({and:[{source:Qt,clock:Jt,fn:function(r,t){var a=r.find(function(o){return o.name===t}).fauna,n=new Map(a);return n},target:Ue}],or:{sid:"-qod2zb"}});A({and:[{clock:[Jt,Xt],target:pt.stop}],or:{sid:"-q7bgl4"}});A({and:[{source:Tu,clock:t1,fn:Bb,target:r1}],or:{sid:"-q6rnzr"}});Ue.on(Zt,function(e){return cl(e)}).on(_u,function(e,r){for(var t=e,a=1;a<=r;a++)t=cl(t);return t});yo.reset(Jt,Xt);function a1(){O("div",function(){H$(),j$(),O("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){O("h1",{text:"Game of Life"}),V$(),r$(),Q$()}}),O("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:Xt}})})}lc(document.querySelector("#app"),a1);
