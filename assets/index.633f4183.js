const xu=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};xu();function Tt(e,r){for(let t in e)r(e[t],t)}function z(e,r){e.forEach(r)}function X(e,r){if(!e)throw Error(r)}function Ma(e,r){G={parent:G,value:e,template:M(e,"template")||sr(),sidRoot:M(e,"sidRoot")||G&&G.sidRoot};try{return r()}finally{G=ve(G)}}function ke({node:e=[],from:r,source:t,parent:a=r||t,to:n,target:o,child:i=n||o,scope:l={},meta:g={},family:d={type:"regular"},regional:c}={}){let f=br(a),v=br(d.links),u=br(d.owners),s=[];z(e,h=>h&&we(s,h));let y={id:Ru(),seq:s,next:br(i),meta:g,scope:l,family:{type:d.type||"crosslink",links:v,owners:u}};return z(v,h=>we(Pt(h),y)),z(u,h=>we(Rt(h),y)),z(f,h=>we(h.next,y)),c&&G&&ar(wr(G),[y]),y}function P(e,r,t){let a=ce,n=null,o=R;if(e.target&&(r=e.params,t=e.defer,a="page"in e?e.page:a,e.stack&&(n=e.stack),o=Se(e)||o,e=e.target),o&&R&&o!==R&&(R=null),Array.isArray(e))for(let u=0;u<e.length;u++)Ae("pure",a,Y(e[u]),n,r[u],o);else Ae("pure",a,Y(e),n,r,o);if(t&&!Vr)return;let i,l,g,d,c,f,v={isRoot:Vr,currentPage:ce,scope:R,isWatch:rt,isPure:tt};Vr=0;e:for(;d=Fu();){let{idx:u,stack:s,type:y}=d;g=s.node,ce=c=s.page,R=Se(s),c?f=c.reg:R&&(f=R.reg);let h=!!c,p=!!R,m={fail:0,scope:g.scope};i=l=0;for(let b=u;b<g.seq.length&&!i;b++){let $=g.seq[b];if($.order){let{priority:S,barrierID:I}=$.order,w=I?c?`${c.fullID}_${I}`:I:0;if(b!==u||y!==S){I?Jt.has(w)||(Jt.add(w),qa(b,s,S,I)):qa(b,s,S);continue e}I&&Jt.delete(w)}switch($.type){case"mov":{let I,w=$.data;switch(w.from){case Me:I=wr(s);break;case"a":case"b":I=s[w.from];break;case"value":I=w.store;break;case"store":if(f&&!f[w.store.id])if(h){let k=hl(c,w.store.id);s.page=c=k,k?f=k.reg:p?(or(R,w.store,0,1,w.softRead),f=R.reg):f=void 0}else p&&or(R,w.store,0,1,w.softRead);I=xr(f&&f[w.store.id]||w.store)}switch(w.to){case Me:s.value=I;break;case"a":case"b":s[w.to]=I;break;case"store":Nu(c,R,g,w.target).current=I}break}case"compute":let S=$.data;if(S.fn){rt=M(g,"op")==="watch",tt=S.pure;let I=S.safe?(0,S.fn)(wr(s),m.scope,s):Mu(m,S.fn,s);S.filter?l=!I:s.value=I,rt=v.isWatch,tt=v.isPure}}i=m.fail||l}if(!i){let b=wr(s);z(g.next,S=>{Ae("child",c,S,s,b,Se(s))});let $=Se(s);if($){M(g,"needFxCounter")&&Ae("child",c,$.fxCount,s,b,$),M(g,"storeChange")&&Ae("child",c,$.storeChange,s,b,$),M(g,"warnSerialize")&&Ae("child",c,$.warnSerializeNode,s,b,$);let S=$.additionalLinks[g.id];S&&z(S,I=>{Ae("child",c,I,s,b,$)})}}}Vr=v.isRoot,ce=v.currentPage,R=Se(v)}function ll(e,r="combine"){let t=r+"(",a="",n=0;return Tt(e,o=>{n<25&&(o!=null&&(t+=a,t+=Le(o)?pn(o).fullName:o.toString()),n+=1,a=", ")}),t+")"}function sl(e,r){let t,a,n=e;if(r){let o=pn(r);e.length===0?(t=o.path,a=o.fullName):(t=o.path.concat([e]),a=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],a=e;return{shortName:n,fullName:a,path:t}}function Fr(e,r){let t=r?e:e[0];pl(t);let a=t.or,n=t.and;if(n){let o=r?n:n[0];if(pe(o)&&"and"in o){let i=Fr(n,r);e=i[0],a={...a,...i[1]}}else e=n}return[e,a]}function ee(e,...r){let t=sr();if(t){let a=t.handlers[e];if(a)return a(t,...r)}}function x(e,r){let t=(n,...o)=>(Be(!M(t,"derived"),"call of derived event","createEvent"),Be(!tt,"unit call from pure function","operators like sample"),ce?((i,l,g,d)=>{let c=ce,f=null;if(l)for(f=ce;f&&f.template!==l;)f=ve(f);po(f);let v=i.create(g,d);return po(c),v})(t,a,n,o):t.create(n,o)),a=sr();return Object.assign(t,{graphite:ke({meta:$l("event",t,e,r),regional:1}),create:n=>(P({target:t,params:n,scope:R}),n),watch:n=>yl(t,n),map:n=>Zt(t,tr,n,[xe()]),filter:n=>Zt(t,"filter",n.fn?n:n.fn,[xe(hn,1)]),filterMap:n=>Zt(t,"filterMap",n,[xe(),fe(o=>!W(o),1)]),prepend(n){let o=x("* \u2192 "+t.shortName,{parent:ve(t)});return ee("eventPrepend",Y(o)),Ue(o,t,[xe()],"prepend",n),bl(t,o),o}})}function T(e,r){let t=nr(e),a=x({named:"updates",derived:1});ee("storeBase",t);let n=t.id,o={subscribers:new Map,updates:a,defaultState:e,stateRef:t,getState(){let f,v=t;if(ce){let u=ce;for(;u&&!u.reg[n];)u=ve(u);u&&(f=u)}return!f&&R&&(or(R,t,1),f=R),f&&(v=f.reg[n]),xr(v)},setState:f=>P({target:o,params:f,defer:1,scope:R}),reset:(...f)=>(z(f,v=>o.on(v,()=>o.defaultState)),o),on:(f,v)=>(pt(f,".on","first argument"),Be(!M(o,"derived"),".on in derived store","createStore"),z(Array.isArray(f)?f:[f],u=>{o.off(u),et(o).set(u,ml(ho(u,o,"on",Au,v)))}),o),off(f){let v=et(o).get(f);return v&&(v(),et(o).delete(f)),o},map(f,v){let u,s;pe(f)&&(u=f,f=f.fn),Be(W(v),"second argument of store.map","updateFilter");let y=o.getState();sr()?s=null:W(y)||(s=f(y,v));let h=T(s,{name:`${o.shortName} \u2192 *`,derived:1,and:u}),p=ho(o,h,tr,La,f);return Ba(re(h),{type:tr,fn:f,from:t}),re(h).noInit=1,ee("storeMap",t,p),h},watch(f,v){if(!v||!Le(f)){let u=yl(o,f);return ee("storeWatch",t,f)||f(o.getState()),u}return X(te(v),"second argument should be a function"),f.watch(u=>v(o.getState(),u))}},i=$l("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=ke({scope:{state:t,fn:l},node:[fe((f,v,u)=>(u.scope&&!u.scope.reg[t.id]&&(u.b=1),f)),qe(t),fe((f,v,{a:u,b:s})=>!W(f)&&(f!==u||s),1),l&&xe(La,1),Z({from:Me,target:t})],child:a,meta:i,regional:1});let g=M(o,"derived"),d=M(o,"serialize")==="ignore",c=M(o,"sid");return c&&(d||De(o,"storeChange",1),t.sid=c),c||d||g||De(o,"warnSerialize",1),X(g||!W(e),"current state can't be undefined, use null instead"),ar(o,[a]),o}function Ce(...e){let r,t,a;[e,a]=Fr(e);let n,o,i,l=e[e.length-1];if(te(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let g=t[0];ae(g)||(n=g,o=1)}if(!o&&(n=t,r)){i=1;let g=r;r=d=>g(...d)}return X(pe(n),"shape should be an object"),Bu(Array.isArray(n),!i,n,a,r)}function Ou(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function dn(e,r){let t=x(te(e)?{handler:e}:e,r),a=Y(t);De(a,"op",t.kind="effect"),t.use=v=>(X(te(v),".use argument should be a function"),d.scope.handler=v,t),t.use.getCurrent=()=>d.scope.handler;let n=t.finally=x({named:"finally",derived:1}),o=t.done=n.filterMap({named:"done",fn({status:v,params:u,result:s}){if(v==="done")return{params:u,result:s}}}),i=t.fail=n.filterMap({named:"fail",fn({status:v,params:u,error:s}){if(v==="fail")return{params:u,error:s}}}),l=t.doneData=o.map({named:"doneData",fn:({result:v})=>v}),g=t.failData=i.map({named:"failData",fn:({error:v})=>v}),d=ke({scope:{handlerId:M(a,"sid"),handler:t.defaultConfig.handler||(()=>X(0,`no handler used in ${t.getType()}`))},node:[fe((v,u,s)=>{let y=u,h=y.handler;if(Se(s)){let p=Se(s).handlers[y.handlerId];p&&(h=p)}return v.handler=h,v},0,1),fe(({params:v,req:u,handler:s,args:y=[v]},h,p)=>{let m=gt(v,u,1,n,p),b=gt(v,u,0,n,p),[$,S]=Sl(s,b,y);$&&(pe(S)&&te(S.then)?S.then(m,b):m(S))},0,1)],meta:{op:"fx",fx:"runner"}});a.scope.runner=d,we(a.seq,fe((v,{runner:u},s)=>{let y=ve(s)?{params:v,req:{rs(h){},rj(h){}}}:v;return P({target:u,params:y,defer:1,scope:Se(s)}),y.params},0,1)),t.create=v=>{let u=Ou(),s={params:v,req:u};if(R){if(!rt){let y=R;u.req.finally(()=>{Du(y)}).catch(()=>{})}P({target:t,params:s,scope:R})}else P(t,s);return u.req};let c=t.inFlight=T(0,{serialize:"ignore"}).on(t,v=>v+1).on(n,v=>v-1).map({fn:v=>v,named:"inFlight"});De(n,"needFxCounter","dec"),De(t,"needFxCounter",1);let f=t.pending=c.map({fn:v=>v>0,named:"pending"});return ar(t,[n,o,i,l,g,f,c]),t}function ku(e){let r;[e,r]=Fr(e,1);let{source:t,effect:a,mapParams:n}=e,o=dn(e,r);De(o,"attached",1);let i,{runner:l}=Y(o).scope,g=fe((c,f,v)=>{let u,{params:s,req:y,handler:h}=c,p=o.finally,m=gt(s,y,0,p,v),b=v.a,$=dt(h),S=1;if(n?[S,u]=Sl(n,m,[s,b]):u=t&&$?b:s,S){if(!$)return c.args=[b,u],1;P({target:h,params:{params:u,req:{rs:gt(s,y,1,p,v),rj:m}},page:v.page,defer:1})}},1,1);if(t){let c;ae(t)?(c=t,ar(c,[o])):(c=Ce(t),ar(o,[c])),i=[qe(re(c)),g]}else i=[g];l.seq.splice(1,0,...i),o.use(a);let d=ve(a);return d&&(Object.assign(pn(o),sl(o.shortName,d)),o.defaultConfig.parent=d),bl(a,o,"effect"),o}function vt(e,r){pt(e,"merge","first argument");let t=x({name:ll(e,"merge"),derived:1,and:r});return Ue(e,t,[],"merge"),t}function ul(e,r){let t=0;return z(Gu,a=>{a in e&&(X(e[a]!=null,Il(r,a)),t=1)}),t}function _(...e){let r,t,a,n,[[o,i,l],g]=Fr(e),d=1;return W(i)&&pe(o)&&ul(o,"sample")&&(i=o.clock,l=o.fn,d=!o.greedy,n=o.filter,r=o.target,t=o.name,a=o.sid,o=o.source),wl("sample",i,o,n,r,l,t,g,d,1,0,a)}function Yt(...e){let[[r,t],a]=Fr(e);return t||(t=r,r=t.source),ul(t,"guard"),wl("guard",t.clock,r,t.filter,t.target,null,t.name,a,!t.greedy,0,1)}function uo(e,r,t){if(ae(e))return Be(0,"restore($store)"),e;if(cl(e)||dt(e)){let n=ve(e),o=T(r,{parent:n,name:e.shortName,and:t});return Ue(dt(e)?e.doneData:e,o),n&&n.hooks.store(o),o}let a=Array.isArray(e)?[]:{};return Tt(e,(n,o)=>a[o]=ae(n)?n:T(n,{name:o})),a}let Eu=typeof Symbol<"u"&&Symbol.observable||"@@observable",tr="map",Me="stack",Le=e=>(te(e)||pe(e))&&"kind"in e;const Dr=e=>r=>Le(r)&&r.kind===e;let ae=Dr("store"),cl=Dr("event"),dt=Dr("effect"),fl=Dr("domain"),Tu=Dr("scope");var q={__proto__:null,unit:Le,store:ae,event:cl,effect:dt,domain:fl,scope:Tu};let Qt=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},we=(e,r)=>e.push(r),Be=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Y=e=>e.graphite||e,Pt=e=>e.family.owners,Rt=e=>e.family.links,re=e=>e.stateRef,wr=e=>e.value,et=e=>e.subscribers,ve=e=>e.parent,Se=e=>e.scope,M=(e,r)=>Y(e).meta[r],De=(e,r,t)=>Y(e).meta[r]=t,pn=e=>e.compositeName;const gn=()=>{let e=0;return()=>""+ ++e};let Pu=gn(),vl=gn(),Ru=gn(),G=null,sr=()=>G&&G.template,dl=e=>(e&&G&&G.sidRoot&&(e=`${G.sidRoot}|${e}`),e),Cu=({sid:e,name:r,loc:t,method:a,fn:n})=>Ma(ke({meta:{sidRoot:dl(e),name:r,loc:t,method:a}}),n),ar=(e,r)=>{let t=Y(e);z(r,a=>{let n=Y(a);t.family.type!=="domain"&&(n.family.type="crosslink"),we(Pt(n),t),we(Rt(t),n)})},br=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Y),pe=e=>typeof e=="object"&&e!==null,te=e=>typeof e=="function",W=e=>e===void 0,pl=e=>X(pe(e)||te(e),"expect first argument be an object");const co=(e,r,t,a)=>X(!(!pe(e)&&!te(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${a}`);let pt=(e,r,t)=>{Array.isArray(e)?z(e,(a,n)=>co(a,r,`${n} item of ${t}`,"")):co(e,r,t," or array of units")},_u=(e,r,t="target")=>z(br(r),a=>Be(!M(a,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),La=(e,{fn:r},{a:t})=>r(e,t),Au=(e,{fn:r},{a:t})=>r(t,e),hn=(e,{fn:r})=>r(e);const gl=(e,r,t,a)=>{let n={id:vl(),type:e,data:r};return t&&(n.order={priority:t},a&&(n.order.barrierID=++ju)),n};let ju=0,Z=({from:e="store",store:r,target:t,to:a=t?"store":Me,batch:n,priority:o})=>gl("mov",{from:e,store:r,to:a,target:t},o,n),Rr=({fn:e,batch:r,priority:t,safe:a=0,filter:n=0,pure:o=0})=>gl("compute",{fn:e,safe:a,filter:n,pure:o},t,r),mn=({fn:e})=>Rr({fn:e,priority:"effect"}),fe=(e,r,t)=>Rr({fn:e,safe:1,filter:r,priority:t&&"effect"}),qe=(e,r,t)=>Z({store:e,to:r?Me:"a",priority:t&&"sampler",batch:1}),xe=(e=hn,r)=>Rr({fn:e,pure:1,filter:r}),fo={mov:Z,compute:Rr,filter:({fn:e,pure:r})=>Rr({fn:e,filter:1,pure:r}),run:mn},nr=e=>({id:vl(),current:e}),xr=({current:e})=>e,Ba=(e,r)=>{e.before||(e.before=[]),we(e.before,r)},Je=null;const yn=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||Ga(e.v.type)>Ga(r.v.type))&&(t=e,e=r,r=t),t=yn(e.r,r),e.r=e.l,e.l=t,e},bn=[];let vo=0;for(;vo<6;)we(bn,{first:null,last:null,size:0}),vo+=1;const Fu=()=>{for(let e=0;e<6;e++){let r=bn[e];if(r.size>0){if(e===3||e===4){r.size-=1;let a=Je.v;return Je=yn(Je.l,Je.r),a}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},Ae=(e,r,t,a,n,o)=>qa(0,{a:null,b:null,node:t,parent:a,value:n,page:r,scope:o},e),qa=(e,r,t,a=0)=>{let n=Ga(t),o=bn[n],i={v:{idx:e,stack:r,type:t,id:a},l:null,r:null};n===3||n===4?Je=yn(Je,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},Ga=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},Jt=new Set;let R,Vr=1,rt=0,tt=0,ce=null,Du=e=>{R=e},po=e=>{ce=e};const hl=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=ve(e);if(e)return e}return null};let Nu=(e,r,t,a,n)=>{let o=hl(e,a.id);return o?o.reg[a.id]:r?(or(r,a,n),r.reg[a.id]):a},or=(e,r,t,a,n)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!n){let g=0,d=t||!r.noInit||a;z(r.before,c=>{switch(c.type){case tr:{let f=c.from;if(f||c.fn){f&&or(e,f,t,a);let v=f&&o[f.id].current;d&&(l.current=c.fn?c.fn(v):v)}break}case"field":g||(g=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),or(e,c.from,t,a),d&&(l.current[c.field]=o[o[c.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const Mu=(e,r,t)=>{try{return r(wr(t),e.scope,t)}catch(a){console.error(a),e.fail=1}};let za=(e,r={})=>(pe(e)&&(za(e.or,r),Tt(e,(t,a)=>{W(t)||a==="or"||a==="and"||(r[a]=t)}),za(e.and,r)),r);const go=(e,r)=>{Qt(e.next,r),Qt(Pt(e),r),Qt(Rt(e),r)},Ua=(e,r,t)=>{let a;e.next.length=0,e.seq.length=0,e.scope=null;let n=Rt(e);for(;a=n.pop();)go(a,e),(r||t&&M(e,"op")!=="sample"||a.family.type==="crosslink")&&Ua(a,r,M(a,"op")!=="on"&&t);for(n=Pt(e);a=n.pop();)go(a,e),t&&a.family.type==="crosslink"&&Ua(a,r,M(a,"op")!=="on"&&t)},fr=e=>e.clear();let Lu=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),ae(e))fr(et(e));else if(fl(e)){t=1;let a=e.history;fr(a.events),fr(a.effects),fr(a.stores),fr(a.domains)}Ua(Y(e),!!r,t)},ml=e=>{let r=()=>Lu(e);return r.unsubscribe=r,r},Ue=(e,r,t,a,n)=>ke({node:t,parent:e,child:r,scope:{fn:n},meta:{op:a},family:{owners:[e,r],links:r},regional:1}),yl=(e,r)=>(X(te(r),".watch argument should be a function"),ml(ke({scope:{fn:r},node:[mn({fn:hn})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),bl=(e,r,t="event")=>{ve(e)&&ve(e).hooks[t](r)},$l=(e,r,t,a)=>{let n=e==="domain",o=Pu(),i=za({or:a,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:g=null,named:d=null}=i,c=d||i.name||(n?"":o),f=sl(c,l),v={op:r.kind=e,name:r.shortName=c,sid:r.sid=dl(g),named:d,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=f,r.defaultConfig=i,r.thru=u=>(Be(0,"thru","js pipe"),u(r)),r.getType=()=>f.fullName,!n){r.subscribe=s=>(pl(s),r.watch(te(s)?s:y=>s.next&&s.next(y))),r[Eu]=()=>r;let u=sr();u&&(v.nativeTemplate=u)}return v};const Zt=(e,r,t,a)=>{let n;pe(t)&&(n=t,t=t.fn);let o=x({name:`${e.shortName} \u2192 *`,derived:1,and:n});return Ue(e,o,a,r,t),o},ho=(e,r,t,a,n)=>{let o=re(r),i=Z({store:o,to:"a",priority:"read"});t===tr&&(i.data.softRead=1);let l=[i,xe(a)];return ee("storeOnMap",o,l,ae(e)&&re(e)),Ue(e,r,l,t,n)},Bu=(e,r,t,a,n)=>{let o=e?s=>s.slice():s=>({...s}),i=e?[]:{},l=o(i),g=nr(l),d=nr(1);g.type=e?"list":"shape",g.noInit=1,ee("combineBase",g,d);let c=T(l,{name:ll(t),derived:1,and:a}),f=re(c);f.noInit=1,De(c,"isCombine",1);let v=qe(g);v.order={priority:"barrier"};let u=[fe((s,y,h)=>(h.scope&&!h.scope.reg[g.id]&&(h.c=1),s)),v,Z({store:d,to:"b"}),fe((s,{key:y},h)=>{if(h.c||s!==h.a[y])return r&&h.b&&(h.a=o(h.a)),h.a[y]=s,1},1),Z({from:"a",target:g}),Z({from:"value",store:0,target:d}),Z({from:"value",store:1,target:d,priority:"barrier",batch:1}),qe(g,1),n&&xe()];return Tt(t,(s,y)=>{if(!ae(s))return X(!Le(s)&&!W(s),`combine expects a store in a field ${y}`),void(l[y]=i[y]=s);i[y]=s.defaultState,l[y]=s.getState();let h=Ue(s,c,u,"combine",n);h.scope.key=y;let p=re(s);Ba(g,{type:"field",field:y,from:p}),ee("combineField",p,h)}),c.defaultShape=t,Ba(f,{type:tr,from:g,fn:n}),sr()||(c.defaultState=n?f.current=n(l):i),c};let Sl=(e,r,t)=>{try{return[1,e(...t)]}catch(a){return r(a),[0,null]}},gt=(e,r,t,a,n)=>o=>P({target:[a,qu],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:n.page,scope:Se(n)});const qu=ke({node:[mn({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),Gu=["source","clock","target"],Il=(e,r)=>e+`: ${r} should be defined`;let wl=(e,r,t,a,n,o,i,l,g,d,c,f)=>{let v=!!n;X(!W(t)||!W(r),Il(e,"either source or clock"));let u=0;W(t)?u=1:Le(t)||(t=Ce(t)),W(r)?r=t:(pt(r,e,"clock"),Array.isArray(r)&&(r=vt(r))),u&&(t=r),l||i||(i=t.shortName);let s="none";(c||a)&&(Le(a)?s="unit":(X(te(a),"`filter` should be function or unit"),s="fn")),n?(pt(n,e,"target"),_u(e,n)):s==="none"&&d&&ae(t)&&ae(r)?n=T(o?o(xr(re(t)),xr(re(r))):xr(re(t)),{name:i,sid:f,or:l}):(n=x({name:i,derived:1,or:l}),ee("sampleTarget",Y(n)));let y=nr(),h=[];if(s==="unit"){let[b,$]=mo(a,n,r,y,e);h=[...ea($),...ea(b)]}let[p,m]=mo(t,n,r,y,e);return ar(t,[Ue(r,n,[ee("sampleSourceLoader"),Z({from:Me,target:y}),...ea(m),qe(p,1,g),...h,qe(y),s==="fn"&&xe((b,$,{a:S})=>a(b,S),1),o&&xe(La),ee("sampleSourceUpward",v)],e,o)]),n};const ea=e=>[qe(e),fe((r,t,{a})=>a,1)],mo=(e,r,t,a,n)=>{let o=ae(e),i=o?re(e):nr(),l=nr(o);return o||ke({parent:e,node:[Z({from:Me,target:i}),Z({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:n},regional:1}),ee("sampleSource",l,i,a),[i,l]};function at(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function Or(e){var r,t;e.status="active",r=nt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function nt(e){return e.group.activeChilds[e.priority]}function yo(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&Or(r)}function H(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(Or(r),nt(r).first||at(r.group,r.priority)));var t,a,n,o;r.status==="active"&&(r.status="pending",nt(r).first||((n=r.group).queue[o=r.priority].last?(n.cursor[o].prev=n.queue[o].last,n.queue[o].last.cursor[o].next=n,n.queue[o].last=n):n.queue[o].first=n.queue[o].last=n),a=r,(t=nt(r)).last?(a.cursor.prev=t.last,t.last.cursor.next=a,t.last=a):t.first=t.last=a),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=Al(r.group.queue.execQueue))}function zu(e){Fe("execQueue");let r,t,a=Re(),n=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(Re()-a>=1e3){n=1;break e}let o=!!e.props.first;for(o&&Fe("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(Re()-a>=1e3){n=1,le("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Or(t)}at(r,"props")}o&&le("props");let i=!!e.tree.first;for(i&&Fe("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(Re()-a>=1e3){n=1,le("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Or(t)}at(r,"tree")}i&&le("tree");let l=!!e.data.first;for(l&&Fe("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(Re()-a>=1e3){n=1,le("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Or(t)}at(r,"data")}l&&le("data")}if(le("execQueue"),n)e.rafID=Al(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function kr({value:e,runOp:r,group:t,priority:a}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:a,group:t,cursor:{prev:null,next:null}}}function Uu({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=zu.bind(null,r),r}function Cr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function Vu({value:e,group:r,onInit:t,onChange:a}){let n=kr({value:e,group:r,runOp(i){o.status="A",a(i)},priority:"data"}),o={status:"IA",value:n.value,ops:{init:kr({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:n,terminate:kr({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return H(1,o.ops.init),o}function Ku(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",H(1,e.ops.terminate);break;case"AA":e.status="AT",H(1,e.ops.terminate),H(e.value.active,e.ops.change);break;case"IA":e.status="T",H(0,e.ops.init)}}function Wu(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",H(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",H(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function Hu(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function xl(e,r){for(let t=0;t<r.length;t++){let{type:a,field:n,value:o}=r[t];ec[a](e,n,o)}}function Ct(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function Ol(e,r,t){Ct(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function kl(e,r,t){Ct(t)?delete e.style[r]:e.style[r]=`${t}`}function El(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function Tl(e,r,t){Ct(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function Pl(e,r,t){if(Ct(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function Va(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function ir({fn:e,state:r={},defer:t=0,name:a="",draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g=0}){let d=E,c={id:++tc,name:a,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:rc,upward:fo.filter({fn(v,u,s){if(!s.page){if(!s.parent||!s.parent.page)return 1;s.page=s.parent.page}if(!s.page.root.activeSpawns.has(s.page.fullID))return console.count("inactive page upward"),0;let y=[s.page.template],h=[s.page];{let p=s.page.parent;for(;p;)h.push(p),y.push(p.template),p=p.parent}return s.node.next.forEach(p=>{let m=p.meta.nativeTemplate;if(m)if(y.includes(m)){let b=h[y.indexOf(m)];P({target:p,params:v,defer:1,page:b,stack:s,scope:s.scope})}else console.error("context drift",{stack:s,node:p});else P({target:p,params:v,defer:1,page:s.page,stack:s,scope:s.scope})}),0}}),loader:fo.filter({fn(v,u,s){if(s.parent){let y=s.scope?s.scope.graphite.id:null;if(s.page){if(!s.page.root.activeSpawns.has(s.page.fullID))return console.count("inactive page loader"),0;if(s.page.template===c)return 1;if(s.page.root.childSpawns[s.page.fullID][c.id])s.page.root.childSpawns[s.page.fullID][c.id].forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&P({params:v,target:s.node,page:h,defer:1,scope:s.scope})});else{let h=s.page.fullID,p=s.page.template.name==="rec";c.pages.forEach(m=>{if(!y||m.root.scope&&y===m.root.scope.graphite.id)if(m.fullID===h||m.fullID.startsWith(`${h}_`)){let b=1;if(p){let $=s.page.template.id,S=m.parent;for(;S&&S!==s.page;){if(S.template.id===$){b=0;break}S=S.parent}}b&&P({params:v,target:s.node,page:m,defer:1,scope:s.scope})}else h.startsWith(`${m.fullID}_`)&&P({params:v,target:s.node,page:s.page,defer:1,scope:s.scope})})}}else c.pages.forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&P({params:v,target:s.node,page:h,defer:1,scope:s.scope})});return 0}return 1}}),parent:d,node:null,api:null,trigger:{mount:x({named:"mount"})},draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g||!(!d||!d.isBlock)};d&&d.childTemplates.push(c);let f=ke({meta:{template:c}});return c.node=f,E=c,t?c.deferredInit=()=>{let v=E;E=c,c.deferredInit=null;try{Ma(f,()=>{let u=uo(r);c.api=e(u,c.trigger),c.nameMap=u})}finally{E=v}}:Ma(f,()=>{let v=uo(r);c.api=e(v,c.trigger),c.nameMap=v}),E=d,c}function Xu(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function Rl(e,r,t){let a=r;for(;a&&!Ar(a,e);)a=a.parent;return a?Ar(a,e):t?(t.getState(e),t.reg[e.id]):e}function ra(e,r){Ar(r,e)||(r.reg[e.id]=Rl(e,r.parent,r.root.scope))}function bo(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function ht(e,{values:r={},parentLeaf:t,mountNode:a,svgRoot:n,leafData:o,opGroup:i,domSubtree:l,hydration:g,root:d}){function c(h){if(h.before)for(let p=0;p<h.before.length;p++){let m=h.before[p];switch(m.type){case"map":{let b,$=m.from;if(!m.fn&&!$)break;$&&(ra($,u),b=v[$.id].current),v[h.id].current=m.fn?m.fn(b):b;break}case"field":{let b=m.from;ra(b,u),v[h.id].current[m.field]=v[b.id].current;break}case"closure":ra(m.of,u)}}}function f(h,p,m){let b;p.stop=1;try{for(;p.i<h.length;)b=h[p.i],p.i++,b.fn(m[b.of.id]?m[b.of.id].current:Rl(b.of,u.parent,u.root.scope).current)}catch($){console.error($),p.stop=0}}let v={},u={draft:e.draft,svgRoot:n,data:o,parent:t,hydration:g,mountNode:a,root:d,id:++ac,fullID:"",reg:v,template:e};e.pages.push(u);let s=rr;rr=u,t&&bo([u],e.id,d.childSpawns[t.fullID]),u.fullID=t?`${t.fullID}_${u.id}`:`${u.id}`,d.childSpawns[u.fullID]={},d.activeSpawns.add(u.fullID),d.leafOps[u.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let p=e.closure[h],m=p,b=u.parent;e:for(;b;){if(Ar(b,p)){m=Ar(b,p);break e}b=b.parent}!b&&d.scope&&(d.scope.getState(p),m=d.scope.reg[p.id]),v[p.id]=m}for(let h=0;h<e.plain.length;h++){let p=e.plain[h],m={id:p.id,current:Xu(p,d.scope)};v[p.id]=m}for(let h in r){let p=e.nameMap[h].stateRef.id;v[p]={id:p,current:r[h]}}e.closure.forEach(c),e.plain.forEach(c);let y={i:0,stop:0};for(;!y.stop;)f(e.watch,y,v);if(t)for(let h in d.childSpawns[u.fullID])bo(d.childSpawns[u.fullID][h],h,d.childSpawns[t.fullID]);if($e)$e.steps.push({target:e.trigger.mount,params:u,defer:1,page:u,scope:d.scope});else{let h;$e={parent:$e,steps:[{target:e.trigger.mount,params:u,defer:1,page:u,scope:d.scope}]};do for(;h=$e.steps.shift();)$e={parent:$e,steps:[]},P(h);while($e=$e.parent)}return rr=s,u}function mt(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function yt(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=yt(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=yt(r);if(t)return t;r=r.left}return null}default:return null}}function bt(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=yt(r);if(t)return t;r=r.left}return bt(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let a=r.child[t];if(!a)continue;let n=yt(a);if(n)return n}switch(r.type){case"element":case"using":return null}return bt(r)}default:return null}}function Ka(e){let r=bt(e);return r?r.value:null}function _r(e,r){if(!e)throw Error(r)}function Nr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function $t(e){if(!E)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(E.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=E.draft.childCount,E.draft.childCount+=1,E.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${E.draft.type}`)}}function Ie(e,{parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o}){e.childTemplates.forEach(i=>{$n({parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o,actor:i})})}function $n({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:a,svgRoot:n,values:o}){let i;_r(nc.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=a,{queue:g}=r.root.leafOps[r.fullID].group,d=Cr(g),c=r.root.leafOps[r.fullID].domSubtree,f=c;switch(l.type){case"route":{let u={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"route",block:u,ops:{},initialized:0,pendingInit:null};break}case"element":{let u;if(a.isBlock){let y,h,p=r;for(;p&&(!h||!y);){p.template.env&&(y=p.template.env);let{draft:m}=p;m.type==="element"&&(m.tag==="svg"?h="svg":m.tag==="foreignObject"&&(h="html")),p=p.parent}h||(h="html"),y&&(u=h==="svg"?y.document.createElementNS("http://www.w3.org/2000/svg",l.tag):y.document.createElement(l.tag),xl(u,l.staticSeq))}else u=l.stencil.cloneNode();let s={type:"element",parent:e,child:[],value:u,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"element",block:s,ops:{visible:kr({value:0,priority:"tree",runOp(y){if(y){Cl(s);let h=i;h.needToCallNode&&(h.needToCallNode=0,P({target:It,params:{element:s.value,fns:l.node},page:v,scope:r.root.scope})),s.visible=1}else s.value.remove(),s.visible=0},group:c})},needToCallNode:l.node.length>0},f=Cr(g);break}case"list":{let u={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"list",draft:l,block:u,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let u={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec",block:u};break}case"recItem":{let u={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"rec item",block:u};break}case"block":{let u={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block",block:u};break}case"blockItem":{let u={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=u,i={type:"block item",block:u};break}default:console.warn(`unexpected draft type ${l.type}`)}let v=ht(a,{values:o,parentLeaf:r,mountNode:t,svgRoot:n||r.svgRoot,leafData:i,opGroup:d,domSubtree:f,hydration:r.hydration,root:r.root})}function Cl(e){let r=Ka(e);r?r.after(e.value):mt(e).prepend(e.value),e.visible=1}function Ze({mount:e,state:r,onMount:t,onState:a}){return{onMount:_({source:r,clock:e,fn:t,greedy:1}),onState:_({source:e,clock:r,fn:a,greedy:1})}}function Er(e,r){for(let t in e)r(e[t],t)}function $o(e,r){if(!E)return;let t=E.draft;_r(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)_r(q.unit(r[l]),`handler for "${l}" should be event`);let{passive:a=0,capture:n=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:a,capture:n},map:r})}function de(e){Nr(E,"spec");let r=E.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let n=e.text,o=r.childCount;Array.isArray(n)?(r.text.push(...n.map((i,l)=>({index:l+o,value:i}))),r.childCount+=n.length):(r.text.push({index:o,value:n}),r.childCount+=1)}if(e.style){let n={};for(let o in e.style)n[Hu(o)]=e.style[o];r.style.push(n)}var t,a;if(e.classList&&(t=e.classList,a=n=>r.classList.push(n),Array.isArray(t)?t.forEach(n=>{let o=typeof n=="string"?n:n.map(l=>l||""),i=typeof n=="string"?1:n.map(l=>l!==null);a({name:o,enabled:i})}):Er(t,(n,o)=>{a({name:o,enabled:n})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let n=e.handler;typeof n.on=="object"?$o(n.config||{},n.on):$o(n)}e.\u0254&&de(e.\u0254)}function ta(e,{initCtx:r,runOp:t,hooks:{onMount:a,onState:n}}){let o=e.opsAmount++;a.watch(({value:i,leaf:l})=>{let g=r(i,l),d=kr({value:i,priority:"props",runOp(c){t(c,g)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=d}),n.watch(({value:i,leaf:l})=>{H(i,l.root.leafOps[l.fullID].group.ops[o])})}function Kr(e,r,t){e[r].forEach(a=>{Er(a,(n,o)=>{switch(r){case"data":case"styleVar":t[r][o]=n;break;case"attr":t.attr[o==="xlink:href"?"href":o]=n;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=n:t.style[o]=n}})})}function So(e,r,t){let a=e.data.block,n={type:"text",parent:a,visible:0,index:t,value:null};if(a.child[t]=n,e.hydration){let o=bt(n);if(o)switch(o.type){case"text":n.value=e.root.env.document.createTextNode(r),o.value.after(n.value);break;case"element":n.value=o.value.nextSibling,Va(n.value,r)}else{let i=mt(n);n.value=i.firstChild,Va(n.value,r)}n.visible=1}else n.value=e.root.env.document.createTextNode(r),Cl(n);return n}function vr(e){let r=e.stateRef,t=E;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function O(e,r){let t,a=0,n=0;typeof r=="function"?(a=1,t=r):r&&(n=1,r.fn&&(a=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(a=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(a=1,t=r.\u0254.fn))),Nr(E,"h");let o,i=E.env,l=E.namespace,g=l,d="html";g=d=l==="svg"?"svg":"html",e==="svg"&&(d="svg",g="svg"),E.isBlock||(o=d==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let c=o,f={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:c,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(f.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),g="html"):e==="svg"?(f.attr.push({xmlns:"http://www.w3.org/2000/svg"}),g="svg"):e==="foreignObject"&&(g="foreignObject");let v=ir({name:"element",draft:f,isSvgRoot:e==="svg",namespace:g,fn(u,{mount:s}){let y=x({named:"domElementCreated"});a&&t(),n&&de(r),q.unit(f.visible)&&(f.seq.push({type:"visible",value:f.visible}),vr(f.visible));let h={attr:{},data:{},style:{},styleVar:{}};Kr(f,"attr",h),Kr(f,"data",h),Kr(f,"style",h),Kr(f,"styleVar",h),Er(h,(p,m)=>{Er(p,(b,$)=>{q.unit(b)?(f.seq.push({type:m,field:$,value:b}),vr(b)):f.staticSeq.push({type:m,field:$,value:b})})}),f.classList.forEach(p=>{if(q.unit(p.name)||q.unit(p.enabled)){let m=q.unit(p.name)?p.name:T(p.name),b=q.unit(p.enabled)?p.enabled:T(p.enabled);f.seq.push({type:"classList",field:m,value:b}),vr(m),vr(b)}else q.unit(p.name)||f.staticSeq.push({type:"classList",field:p.name,value:p.enabled})}),f.text.forEach(p=>{p.value!==null&&(q.unit(p.value)?(f.seq.push({type:"dynamicText",value:p.value,childIndex:p.index}),vr(p.value)):f.seq.push({type:"staticText",value:String(p.value),childIndex:p.index}))}),f.handler.forEach(p=>{Er(p.map,(m,b)=>{f.seq.push({type:"handler",for:b,handler:m,options:p.options,domConfig:p.domConfig})})}),c&&xl(c,f.staticSeq),f.seq.forEach(p=>{switch(p.type){case"visible":{let{onMount:m,onState:b}=Ze({mount:s,state:p.value,onMount:($,S)=>({leaf:S,value:$,hydration:S.hydration}),onState:($,S)=>({leaf:$,value:S,hydration:0})});m.watch(({leaf:$,value:S,hydration:I})=>{let w=$.data,k=w.block;if(I&&(yo(S,w.ops.visible),S)){let j,B=Ka(k);if(j=B?B.nextSibling:mt(k).firstChild,j.nodeName==="#text"){let me=j;j=j.nextSibling,me.remove()}k.value=j,k.visible=1}Ie(f,{parentBlockFragment:k,leaf:$,node:k.value,svgRoot:v.isSvgRoot?k.value:null}),S&&w.needToCallNode&&(w.needToCallNode=0,P({target:It,params:{element:w.block.value,fns:f.node},page:$,defer:1,scope:$.root.scope})),P({target:y,params:$,defer:1,page:$,scope:$.root.scope})}),vt([b,m]).watch(({leaf:$,value:S,hydration:I})=>{I||H(S,$.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let m=ko[p.type],b=oc.some(({type:S,field:I})=>p.type===S&&p.field===I),$=Ze({mount:y,state:p.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});b?vt([$.onState,$.onMount]).watch(({leaf:S,value:I})=>{m(Wr(S),p.field,I)}):ta(f,{initCtx(S,I){let w=Wr(I);return m(w,p.field,S),w},runOp(S,I){m(I,p.field,S)},hooks:$});break}case"classList":{let m=ko.classList,b=T({prev:"",curr:p.field.getState()}).on(p.field,({curr:S},I)=>({prev:S,curr:I})),$=Ze({mount:y,state:Ce({name:b,enabled:p.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});ta(f,{initCtx(S,I){let w=Wr(I);return m(w,S.name.curr,S.enabled),w},runOp(S,I){S.name.prev!==S.name.curr&&m(I,S.name.prev,0),m(I,S.name.curr,S.enabled)},hooks:$});break}case"dynamicText":ta(f,{initCtx:(m,b)=>So(b,m,p.childIndex),runOp(m,b){Va(b.value,m)},hooks:Ze({mount:y,state:p.value,onMount:(m,b)=>({leaf:b,value:String(m)}),onState:(m,b)=>({leaf:m,value:String(b)})})});break;case"staticText":y.watch(m=>{So(m,p.value,p.childIndex)});break;case"handler":{let m=p.handler.graphite.meta.nativeTemplate||null;y.watch(b=>{let $=null;if(m){let S=0,I=b;for(;!S&&I;)I.template===m?(S=1,$=I):I=I.parent}else $=null;Wr(b).addEventListener(p.for,S=>{p.options.prevent&&S.preventDefault(),p.options.stop&&S.stopPropagation(),P({target:p.handler,params:S,page:$,scope:b.root.scope})},p.domConfig)});break}}}),s.watch(p=>{let m=p.data;if(!f.visible){let b=m.ops.visible,$=m.block;if(p.hydration){yo(1,b);let S,I=Ka($);if(S=I?I.nextSibling:mt($).firstChild,S.nodeName==="#text"){let w=S;S=S.nextSibling,w.remove()}$.value=S,$.visible=1}Ie(f,{parentBlockFragment:$,leaf:p,node:$.value,svgRoot:v.isSvgRoot?$.value:null}),P({target:y,params:p,defer:1,page:p,scope:p.root.scope}),p.hydration?m.needToCallNode&&(m.needToCallNode=0,P({target:It,params:{element:m.block.value,fns:f.node},page:p,defer:1,scope:p.root.scope})):H(1,b)}})},env:i});$t(v)}function Io(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function Yu(e,r){let t,a,n,o,i,l;if(typeof r=="function")t=r,n=Io(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,n=r.env?r.env:Io(),o=r.hydrate,a=r.onComplete,i=r.onRoot,l=r.scope}_r(e,"using() first argument is missing");let g={scope:l,env:n,activeSpawns:new Set,childSpawns:{},leafOps:{}},d=e.namespaceURI,c=e.tagName.toLowerCase(),f={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},v=ir({name:"using",draft:f,isSvgRoot:c==="svg",namespace:d==="http://www.w3.org/2000/svg"?"svg":c==="foreignobject"?"foreignObject":"html",fn(h,{mount:p}){t(),p.watch(wn.using)},env:n}),u={type:"using",child:[],value:e},s=Uu({onComplete:a}),y=ht(v,{parentLeaf:rr||null,mountNode:e,svgRoot:v.isSvgRoot?e:rr?rr.svgRoot:null,leafData:{type:"using",draft:f,element:e,block:u},opGroup:Cr(s),domSubtree:Cr(s),hydration:o,root:g});if(i&&i({template:v,leaf:y}),s.onDrain&&!s.rafID){let h=s.onDrain;s.onDrain=null,h()}}function Wa(e,r){let t=e.root.childSpawns[e.fullID];for(let a in t){let n=t[a];for(let o=0;o<n.length;o++)r(n[o])}}function _l(e,r){let t=a=>{let n=a.data;if(e&&n.type==="list"&&n.pendingUpdate){let o=n.pendingUpdate;n.pendingUpdate=null,P({target:a.template.api.pendingUpdate,params:o,defer:1,page:a,scope:a.root.scope})}if(e&&n.type==="route"){if(n.pendingInit){let o=n.pendingInit.value;n.pendingInit=null,P({target:a.template.api.pendingInit,params:o,defer:1,page:a,scope:a.root.scope})}else if(!n.block.visible)return}switch(n.type){case"element":H(e,n.ops.visible);break;case"route":case"list":case"list item":Wa(a,t);break;default:console.log("unsupported type",n.type)}};Wa(r,t)}function aa(e){e.root.activeSpawns.delete(e.fullID),Wa(e,Sn)}function na(e){Tr(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Tr(e,e.template.pages)}function Sn(e){let{data:r,root:t}=e;switch(r.type){case"element":Tr(e,t.childSpawns[e.parent.fullID][e.template.id]),function a(n){t.activeSpawns.delete(n.fullID);let o=t.childSpawns[n.fullID];delete t.childSpawns[n.fullID],delete t.leafOps[n.fullID],Tr(n,n.template.pages);for(let i in o)o[i].forEach(a)}(e),H(0,r.ops.visible);break;case"list":{let a=r.records;for(let n=0;n<a.length;n++){let o=a[n];o.instance&&Sn(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),na(e);break}case"list item":{let a=r.block;Tr(a,a.parent.child);let n=a.left,o=a.right;n&&(n.right=o,o||a.parent.lastChild!==a||(a.parent.lastChild=n)),o&&(o.left=n),n||o||a.parent.lastChild!==a||(a.parent.lastChild=null),a.left=null,a.right=null,aa(e),na(e);break}case"route":aa(e),na(e);break;case"block":case"block item":case"rec":case"rec item":aa(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Tr(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function Qu(e,r){if(Array.isArray(r))return r.map(t=>e.map(a=>a[t]));if(typeof r=="object"&&r!==null){let t={};for(let a in r){let n=r[a];t[a]=e.map(typeof n=="function"?o=>n(o):o=>o[n])}return t}return e.map(t=>t[r])}function In(e,r){Nr(E,"list"),typeof r=="function"&&(q.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:a,source:n,fields:o=[]}=e,i=a!==void 0?typeof a=="function"?a:c=>c[a]:(c,f)=>f,l={type:"list",key:q.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:g,namespace:d}=E;$t(ir({name:"list",draft:l,isSvgRoot:0,namespace:d,fn(c,{mount:f}){let v=ir({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:d,fn({id:m,store:b},{mount:$}){t({store:b,key:m,fields:Qu(b,o)});let S=x({named:"itemUpdater"});if(b.on(S,(I,w)=>w),l.itemVisible){let{onMount:I,onState:w}=Ze({mount:$,state:l.itemVisible,onMount:(k,j)=>({visible:k,leaf:j}),onState:(k,j)=>({visible:j,leaf:k})});I.watch(({visible:k,leaf:j})=>{let B=j.data.block;B.visible=k,B.childInitialized=k,k&&Ie(l,{parentBlockFragment:B,leaf:j})}),w.watch(({visible:k,leaf:j})=>{let B=j.data.block;B.visible=k,B.childInitialized?_l(k,j):k&&(B.childInitialized=1,Ie(l,{parentBlockFragment:B,leaf:j}))})}else $.watch(wn.listItem);return{itemUpdater:S}},env:g}),u=T([]),s=n.map(m=>m),y=_({source:n,clock:f,fn:(m,b)=>({updates:m,leaf:b,hydration:b.hydration}),greedy:1}),h=x(),p=_({source:y,clock:[s,h],fn:({leaf:m},b)=>({updates:b,leaf:m,hydration:0}),greedy:1});return _({source:u,clock:[y,p],greedy:1,fn(m,{updates:b,leaf:$,hydration:S}){let I=$.data,w=$;for(;w;){if(w.data.type==="route"&&!w.data.block.visible)return void(I.pendingUpdate=b);w=w.parent}let k=I.block;Fe("list update ["+n.shortName+"]");let j=Array(b.length).fill(0),B=b.map(i),me=[];for(let ye=0;ye<m.length;ye++){let oe=m[ye],Ee=B.indexOf(oe.key);Ee!==-1?(me.push(oe),j[Ee]=1,Wu(b[Ee],oe.asyncValue)):(oe.active=0,oe.instance&&Sn(oe.instance),Ku(oe.asyncValue))}for(let ye=0;ye<b.length;ye++){if(j[ye])continue;let oe=b[ye],Ee=B[ye],Ht=Cr($.root.leafOps[$.fullID].group.queue),Te={type:"LF",parent:k,child:[],childInitialized:0,visible:0,left:null,right:null},ie={type:"listItem",key:Ee,index:Ee,active:1,leafData:{type:"list item",block:Te,listDraft:l},asyncValue:Vu({value:oe,group:Ht,onChange(_e){ie.instance&&P({target:ie.instance.template.api.itemUpdater,params:_e,defer:1,page:ie.instance,scope:ie.instance.root.scope})},onInit(_e){ie.active&&(S||(ie.instance=ht(v,{values:{id:Ee,store:_e},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ie.leafData,opGroup:Ht,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root})))}})},lo=me.length;me.push(ie);let so=lo>0?me[lo-1].leafData:null;if(k.child.push(Te),so){let _e=so.block;Te.left=_e;let Xt=_e.right;Xt?(Xt.left=Te,Te.right=Xt):k.lastChild=Te,_e.right=Te}else k.lastChild=Te;S&&(ie.instance=ht(v,{values:{id:Ee,store:oe},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:ie.leafData,opGroup:Ht,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root}))}return le("list update ["+n.shortName+"]"),me.length===0&&(k.lastChild=null),I.records=me,me},target:u}),{pendingUpdate:h}},env:g}))}function wo({source:e,visible:r,fn:t}){Nr(E,"route");let{env:a,namespace:n}=E,o=ir({name:"route",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let g;if(q.store(r))g=Ce({value:e,visible:r});else{let s=r;g=e.map(y=>({value:y,visible:s(y)}))}let d=ir({name:"route item",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:s},{mount:y}){let h=x({named:"itemUpdater"});s.on(h,(m,b)=>b),t({store:s});let p=_({source:y,clock:g,fn:(m,{visible:b,value:$})=>({leaf:m,visible:b,value:$}),greedy:1});y.watch(wn.routeItem),p.watch(({leaf:m,visible:b,value:$})=>{if(m.data.block.visible=b,b&&P({target:h,params:$,defer:1,page:m,scope:m.root.scope}),b){let S=m.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}_l(b,m)})}});$t(d);let{onMount:c,onState:f}=Ze({mount:l,state:g,onMount:({visible:s,value:y},h)=>({leaf:h,visible:s,value:y}),onState:(s,{visible:y,value:h})=>({leaf:s,visible:y,value:h})}),v=x(),u=_({source:l,clock:v,greedy:1,fn:(s,y)=>({leaf:s,value:y,visible:1})});return vt([c,f,u]).watch(({leaf:s,visible:y,value:h})=>{let p=s.data;if(p.block.visible=y,y||p.initialized||!p.pendingInit){if(y&&!p.initialized){let m=s.parent;for(;m;){if(m.data.type==="route"&&!m.data.block.visible)return void(p.pendingInit={value:h});m=m.parent}}y&&!p.initialized&&($n({parentBlockFragment:p.block,leaf:s,actor:d,values:{store:h}}),p.initialized=1)}else p.pendingInit=null}),{pendingInit:v}}});$t(o)}function Ju({source:e,cases:r,key:t}){let a;Nr(E,"variant"),_r(q.unit(e),"variant({source}) should be unit"),a=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let n=0;for(let o in r)o!=="__"?wo({source:e,visible:i=>a(i)===o,fn:r[o]}):n=1;if(n){let o=Object.keys(r);wo({source:e,visible:i=>!o.includes(a(i)),fn:r.__})}}function Zu(e,r){if(r.length===0)return e;let t=[e[0]];for(let a=0;a<r.length;a++)t.push(r[a],e[a+1]);return t}function St(e,...r){Array.isArray(e)?de({text:Zu(e,r)}):de({text:e})}let Re;Re=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let Ha=new Map;const $r=[],xo=e=>{let r=Ha.get(e);r||(r={calls:0,time:0,label:e,childTime:0},Ha.set(e,r)),r.calls+=1,$r.push({bucket:r,pendingStart:Re()})},Oo=e=>{let r=Ha.get(e),t=$r.pop().pendingStart,a=Re()-t;r.time+=a,$r.length>0&&($r[$r.length-1].bucket.childTime+=a)};let Fe,le;typeof performance<"u"&&performance.mark?(Fe=e=>{performance.mark("\u2604\uFE0F "+e+" start"),xo(e)},le=e=>{Oo(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(Fe=e=>{xo(e)},le=e=>{Oo(e)});let Al=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const ec={attr:Pl,data:Tl,style:kl,styleVar:Ol,classList:El},be=(e,r)=>e.includes(r);let rc={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,a){var n,o;t.unshift(e.loader),t.push(e.upward),a&&(be(e.plain,a)||(be(e.closure,a)||e.closure.push(a),o={type:"closure",of:a},(n=r).before||(n.before=[]),n.before.push(o)))},storeMap(e,r,t){be(e.plain,r)||be(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,a){r.current?be(e.plain,t)||be(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),be(e.plain,a)||e.plain.push(a)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},tc=0,ac=0,E=null,rr=null;const Ar=(e,r)=>e.reg[r.id];let $e=null;const nc=["LF","using","element","recItem","rec","block","blockItem","route"];let It=x({named:"onMount"});It.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const oc=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],ko={attr:Pl,data:Tl,style:kl,styleVar:Ol,classList:El},Wr=e=>e.data.block.value;let wn={using(e){let r=e.data;Ie(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,Ie(r,{parentBlockFragment:t.block,leaf:e})},block(e){Ie(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){$n({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){Ie(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,Ie(r.listDraft,{parentBlockFragment:t,leaf:e})}};function se(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function wt(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function lr(e,r){return lc(e)||uc(e,r)||Fl(e,r)||fc()}function jl(e){return ic(e)||sc(e)||Fl(e)||cc()}function ic(e){if(Array.isArray(e))return Xa(e)}function lc(e){if(Array.isArray(e))return e}function sc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uc(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],n=!0,o=!1,i,l;try{for(t=t.call(e);!(n=(i=t.next()).done)&&(a.push(i.value),!(r&&a.length===r));n=!0);}catch(g){o=!0,l=g}finally{try{!n&&t.return!=null&&t.return()}finally{if(o)throw l}}return a}}function Fl(e,r){if(!!e){if(typeof e=="string")return Xa(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xa(e,r)}}function Xa(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function cc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hr=function(e){return e&&e.Math==Math&&e},L=Hr(typeof globalThis=="object"&&globalThis)||Hr(typeof window=="object"&&window)||Hr(typeof self=="object"&&self)||Hr(typeof Eo=="object"&&Eo)||function(){return this}()||Function("return this")(),xn={},C=function(e){try{return!!e()}catch{return!0}},vc=C,U=!vc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),dc=C,_t=!dc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),pc=_t,Xr=Function.prototype.call,ne=pc?Xr.bind(Xr):function(){return Xr.apply(Xr,arguments)},On={},Dl={}.propertyIsEnumerable,Nl=Object.getOwnPropertyDescriptor,gc=Nl&&!Dl.call({1:2},1);On.f=gc?function(r){var t=Nl(this,r);return!!t&&t.enumerable}:Dl;var At=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},Ml=_t,Ll=Function.prototype,hc=Ll.bind,Ya=Ll.call,mc=Ml&&hc.bind(Ya,Ya),A=Ml?function(e){return e&&mc(e)}:function(e){return e&&function(){return Ya.apply(e,arguments)}},Bl=A,yc=Bl({}.toString),bc=Bl("".slice),Ve=function(e){return bc(yc(e),8,-1)},$c=A,Sc=C,Ic=Ve,oa=Object,wc=$c("".split),ql=Sc(function(){return!oa("z").propertyIsEnumerable(0)})?function(e){return Ic(e)=="String"?wc(e,""):oa(e)}:oa,xc=TypeError,Mr=function(e){if(e==null)throw xc("Can't call method on "+e);return e},Oc=ql,kc=Mr,Ke=function(e){return Oc(kc(e))},F=function(e){return typeof e=="function"},Ec=F,Q=function(e){return typeof e=="object"?e!==null:Ec(e)},ia=L,Tc=F,Pc=function(e){return Tc(e)?e:void 0},ur=function(e,r){return arguments.length<2?Pc(ia[e]):ia[e]&&ia[e][r]},Rc=A,kn=Rc({}.isPrototypeOf),Cc=ur,_c=Cc("navigator","userAgent")||"",Gl=L,la=_c,To=Gl.process,Po=Gl.Deno,Ro=To&&To.versions||Po&&Po.version,Co=Ro&&Ro.v8,J,xt;Co&&(J=Co.split("."),xt=J[0]>0&&J[0]<4?1:+(J[0]+J[1]));!xt&&la&&(J=la.match(/Edge\/(\d+)/),(!J||J[1]>=74)&&(J=la.match(/Chrome\/(\d+)/),J&&(xt=+J[1])));var En=xt,_o=En,Ac=C,zl=!!Object.getOwnPropertySymbols&&!Ac(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_o&&_o<41}),jc=zl,Ul=jc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Fc=ur,Dc=F,Nc=kn,Mc=Ul,Lc=Object,Vl=Mc?function(e){return typeof e=="symbol"}:function(e){var r=Fc("Symbol");return Dc(r)&&Nc(r.prototype,Lc(e))},Bc=String,jt=function(e){try{return Bc(e)}catch{return"Object"}},qc=F,Gc=jt,zc=TypeError,Tn=function(e){if(qc(e))return e;throw zc(Gc(e)+" is not a function")},Uc=Tn,Lr=function(e,r){var t=e[r];return t==null?void 0:Uc(t)},sa=ne,ua=F,ca=Q,Vc=TypeError,Kc=function(e,r){var t,a;if(r==="string"&&ua(t=e.toString)&&!ca(a=sa(t,e))||ua(t=e.valueOf)&&!ca(a=sa(t,e))||r!=="string"&&ua(t=e.toString)&&!ca(a=sa(t,e)))return a;throw Vc("Can't convert object to primitive value")},Ft={exports:{}},Ao=L,Wc=Object.defineProperty,Pn=function(e,r){try{Wc(Ao,e,{value:r,configurable:!0,writable:!0})}catch{Ao[e]=r}return r},Hc=L,Xc=Pn,jo="__core-js_shared__",Yc=Hc[jo]||Xc(jo,{}),Rn=Yc,Fo=Rn;(Ft.exports=function(e,r){return Fo[e]||(Fo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Qc=Mr,Jc=Object,Dt=function(e){return Jc(Qc(e))},Zc=A,ef=Dt,rf=Zc({}.hasOwnProperty),ge=Object.hasOwn||function(r,t){return rf(ef(r),t)},tf=A,af=0,nf=Math.random(),of=tf(1 .toString),Cn=function(e){return"Symbol("+(e===void 0?"":e)+")_"+of(++af+nf,36)},lf=L,sf=Ft.exports,Do=ge,uf=Cn,No=zl,Kl=Ul,He=sf("wks"),Ne=lf.Symbol,Mo=Ne&&Ne.for,cf=Kl?Ne:Ne&&Ne.withoutSetter||uf,N=function(e){if(!Do(He,e)||!(No||typeof He[e]=="string")){var r="Symbol."+e;No&&Do(Ne,e)?He[e]=Ne[e]:Kl&&Mo?He[e]=Mo(r):He[e]=cf(r)}return He[e]},ff=ne,Lo=Q,Bo=Vl,vf=Lr,df=Kc,pf=N,gf=TypeError,hf=pf("toPrimitive"),mf=function(e,r){if(!Lo(e)||Bo(e))return e;var t=vf(e,hf),a;if(t){if(r===void 0&&(r="default"),a=ff(t,e,r),!Lo(a)||Bo(a))return a;throw gf("Can't convert object to primitive value")}return r===void 0&&(r="number"),df(e,r)},yf=mf,bf=Vl,_n=function(e){var r=yf(e,"string");return bf(r)?r:r+""},$f=L,qo=Q,Qa=$f.document,Sf=qo(Qa)&&qo(Qa.createElement),An=function(e){return Sf?Qa.createElement(e):{}},If=U,wf=C,xf=An,Wl=!If&&!wf(function(){return Object.defineProperty(xf("div"),"a",{get:function(){return 7}}).a!=7}),Of=U,kf=ne,Ef=On,Tf=At,Pf=Ke,Rf=_n,Cf=ge,_f=Wl,Go=Object.getOwnPropertyDescriptor;xn.f=Of?Go:function(r,t){if(r=Pf(r),t=Rf(t),_f)try{return Go(r,t)}catch{}if(Cf(r,t))return Tf(!kf(Ef.f,r,t),r[t])};var V={},Af=U,jf=C,Hl=Af&&jf(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Ff=Q,Df=String,Nf=TypeError,K=function(e){if(Ff(e))return e;throw Nf(Df(e)+" is not an object")},Mf=U,Lf=Wl,Bf=Hl,Yr=K,zo=_n,qf=TypeError,fa=Object.defineProperty,Gf=Object.getOwnPropertyDescriptor,va="enumerable",da="configurable",pa="writable";V.f=Mf?Bf?function(r,t,a){if(Yr(r),t=zo(t),Yr(a),typeof r=="function"&&t==="prototype"&&"value"in a&&pa in a&&!a[pa]){var n=Gf(r,t);n&&n[pa]&&(r[t]=a.value,a={configurable:da in a?a[da]:n[da],enumerable:va in a?a[va]:n[va],writable:!1})}return fa(r,t,a)}:fa:function(r,t,a){if(Yr(r),t=zo(t),Yr(a),Lf)try{return fa(r,t,a)}catch{}if("get"in a||"set"in a)throw qf("Accessors not supported");return"value"in a&&(r[t]=a.value),r};var zf=U,Uf=V,Vf=At,cr=zf?function(e,r,t){return Uf.f(e,r,Vf(1,t))}:function(e,r,t){return e[r]=t,e},Xl={exports:{}},Ja=U,Kf=ge,Yl=Function.prototype,Wf=Ja&&Object.getOwnPropertyDescriptor,jn=Kf(Yl,"name"),Hf=jn&&function(){}.name==="something",Xf=jn&&(!Ja||Ja&&Wf(Yl,"name").configurable),Fn={EXISTS:jn,PROPER:Hf,CONFIGURABLE:Xf},Yf=A,Qf=F,Za=Rn,Jf=Yf(Function.toString);Qf(Za.inspectSource)||(Za.inspectSource=function(e){return Jf(e)});var Dn=Za.inspectSource,Zf=L,ev=F,rv=Dn,Uo=Zf.WeakMap,tv=ev(Uo)&&/native code/.test(rv(Uo)),av=Ft.exports,nv=Cn,Vo=av("keys"),Nn=function(e){return Vo[e]||(Vo[e]=nv(e))},Nt={},ov=tv,Ql=L,ga=A,iv=Q,lv=cr,ha=ge,ma=Rn,sv=Nn,uv=Nt,Ko="Object already initialized",en=Ql.TypeError,cv=Ql.WeakMap,Ot,jr,kt,fv=function(e){return kt(e)?jr(e):Ot(e,{})},vv=function(e){return function(r){var t;if(!iv(r)||(t=jr(r)).type!==e)throw en("Incompatible receiver, "+e+" required");return t}};if(ov||ma.state){var je=ma.state||(ma.state=new cv),dv=ga(je.get),Wo=ga(je.has),pv=ga(je.set);Ot=function(e,r){if(Wo(je,e))throw new en(Ko);return r.facade=e,pv(je,e,r),r},jr=function(e){return dv(je,e)||{}},kt=function(e){return Wo(je,e)}}else{var Xe=sv("state");uv[Xe]=!0,Ot=function(e,r){if(ha(e,Xe))throw new en(Ko);return r.facade=e,lv(e,Xe,r),r},jr=function(e){return ha(e,Xe)?e[Xe]:{}},kt=function(e){return ha(e,Xe)}}var Br={set:Ot,get:jr,has:kt,enforce:fv,getterFor:vv},gv=C,hv=F,Qr=ge,rn=U,mv=Fn.CONFIGURABLE,yv=Dn,Jl=Br,bv=Jl.enforce,$v=Jl.get,ot=Object.defineProperty,Sv=rn&&!gv(function(){return ot(function(){},"length",{value:8}).length!==8}),Iv=String(String).split("String"),wv=Xl.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Qr(e,"name")||mv&&e.name!==r)&&(rn?ot(e,"name",{value:r,configurable:!0}):e.name=r),Sv&&t&&Qr(t,"arity")&&e.length!==t.arity&&ot(e,"length",{value:t.arity});try{t&&Qr(t,"constructor")&&t.constructor?rn&&ot(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=bv(e);return Qr(a,"source")||(a.source=Iv.join(typeof r=="string"?r:"")),e};Function.prototype.toString=wv(function(){return hv(this)&&$v(this).source||yv(this)},"toString");var xv=F,Ov=V,kv=Xl.exports,Ev=Pn,We=function(e,r,t,a){a||(a={});var n=a.enumerable,o=a.name!==void 0?a.name:r;if(xv(t)&&kv(t,o,a),a.global)n?e[r]=t:Ev(r,t);else{try{a.unsafe?e[r]&&(n=!0):delete e[r]}catch{}n?e[r]=t:Ov.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e},Mt={},Tv=Math.ceil,Pv=Math.floor,Rv=Math.trunc||function(r){var t=+r;return(t>0?Pv:Tv)(t)},Cv=Rv,Mn=function(e){var r=+e;return r!==r||r===0?0:Cv(r)},_v=Mn,Av=Math.max,jv=Math.min,Zl=function(e,r){var t=_v(e);return t<0?Av(t+r,0):jv(t,r)},Fv=Mn,Dv=Math.min,Ln=function(e){return e>0?Dv(Fv(e),9007199254740991):0},Nv=Ln,qr=function(e){return Nv(e.length)},Mv=Ke,Lv=Zl,Bv=qr,Ho=function(e){return function(r,t,a){var n=Mv(r),o=Bv(n),i=Lv(a,o),l;if(e&&t!=t){for(;o>i;)if(l=n[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in n)&&n[i]===t)return e||i||0;return!e&&-1}},qv={includes:Ho(!0),indexOf:Ho(!1)},Gv=A,ya=ge,zv=Ke,Uv=qv.indexOf,Vv=Nt,Xo=Gv([].push),es=function(e,r){var t=zv(e),a=0,n=[],o;for(o in t)!ya(Vv,o)&&ya(t,o)&&Xo(n,o);for(;r.length>a;)ya(t,o=r[a++])&&(~Uv(n,o)||Xo(n,o));return n},Bn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Kv=es,Wv=Bn,Hv=Wv.concat("length","prototype");Mt.f=Object.getOwnPropertyNames||function(r){return Kv(r,Hv)};var rs={};rs.f=Object.getOwnPropertySymbols;var Xv=ur,Yv=A,Qv=Mt,Jv=rs,Zv=K,ed=Yv([].concat),rd=Xv("Reflect","ownKeys")||function(r){var t=Qv.f(Zv(r)),a=Jv.f;return a?ed(t,a(r)):t},Yo=ge,td=rd,ad=xn,nd=V,od=function(e,r,t){for(var a=td(r),n=nd.f,o=ad.f,i=0;i<a.length;i++){var l=a[i];!Yo(e,l)&&!(t&&Yo(t,l))&&n(e,l,o(r,l))}},id=C,ld=F,sd=/#|\.prototype\./,Gr=function(e,r){var t=cd[ud(e)];return t==vd?!0:t==fd?!1:ld(r)?id(r):!!r},ud=Gr.normalize=function(e){return String(e).replace(sd,".").toLowerCase()},cd=Gr.data={},fd=Gr.NATIVE="N",vd=Gr.POLYFILL="P",ts=Gr,ba=L,dd=xn.f,pd=cr,gd=We,hd=Pn,md=od,yd=ts,he=function(e,r){var t=e.target,a=e.global,n=e.stat,o,i,l,g,d,c;if(a?i=ba:n?i=ba[t]||hd(t,{}):i=(ba[t]||{}).prototype,i)for(l in r){if(d=r[l],e.dontCallGetSet?(c=dd(i,l),g=c&&c.value):g=i[l],o=yd(a?l:t+(n?".":"#")+l,e.forced),!o&&g!==void 0){if(typeof d==typeof g)continue;md(d,g)}(e.sham||g&&g.sham)&&pd(d,"sham",!0),gd(i,l,d,e)}},Qo=A,bd=Tn,$d=_t,Sd=Qo(Qo.bind),qn=function(e,r){return bd(e),r===void 0?e:$d?Sd(e,r):function(){return e.apply(r,arguments)}},Id=Ve,as=Array.isArray||function(r){return Id(r)=="Array"},wd=N,xd=wd("toStringTag"),ns={};ns[xd]="z";var Gn=String(ns)==="[object z]",Od=Gn,kd=F,it=Ve,Ed=N,Td=Ed("toStringTag"),Pd=Object,Rd=it(function(){return arguments}())=="Arguments",Cd=function(e,r){try{return e[r]}catch{}},Lt=Od?it:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=Cd(r=Pd(e),Td))=="string"?t:Rd?it(r):(a=it(r))=="Object"&&kd(r.callee)?"Arguments":a},_d=A,Ad=C,os=F,jd=Lt,Fd=ur,Dd=Dn,is=function(){},Nd=[],ls=Fd("Reflect","construct"),zn=/^\s*(?:class|function)\b/,Md=_d(zn.exec),Ld=!zn.exec(is),dr=function(r){if(!os(r))return!1;try{return ls(is,Nd,r),!0}catch{return!1}},ss=function(r){if(!os(r))return!1;switch(jd(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ld||!!Md(zn,Dd(r))}catch{return!0}};ss.sham=!0;var us=!ls||Ad(function(){var e;return dr(dr.call)||!dr(Object)||!dr(function(){e=!0})||e})?ss:dr,Jo=as,Bd=us,qd=Q,Gd=N,zd=Gd("species"),Zo=Array,Ud=function(e){var r;return Jo(e)&&(r=e.constructor,Bd(r)&&(r===Zo||Jo(r.prototype))?r=void 0:qd(r)&&(r=r[zd],r===null&&(r=void 0))),r===void 0?Zo:r},Vd=Ud,cs=function(e,r){return new(Vd(e))(r===0?0:r)},Kd=qn,Wd=A,Hd=ql,Xd=Dt,Yd=qr,Qd=cs,ei=Wd([].push),Pe=function(e){var r=e==1,t=e==2,a=e==3,n=e==4,o=e==6,i=e==7,l=e==5||o;return function(g,d,c,f){for(var v=Xd(g),u=Hd(v),s=Kd(d,c),y=Yd(u),h=0,p=f||Qd,m=r?p(g,y):t||i?p(g,0):void 0,b,$;y>h;h++)if((l||h in u)&&(b=u[h],$=s(b,h,v),e))if(r)m[h]=$;else if($)switch(e){case 3:return!0;case 5:return b;case 6:return h;case 2:ei(m,b)}else switch(e){case 4:return!1;case 7:ei(m,b)}return o?-1:a||n?n:m}},Bt={forEach:Pe(0),map:Pe(1),filter:Pe(2),some:Pe(3),every:Pe(4),find:Pe(5),findIndex:Pe(6),filterReject:Pe(7)},Jd=C,Zd=N,ep=En,rp=Zd("species"),Un=function(e){return ep>=51||!Jd(function(){var r=[],t=r.constructor={};return t[rp]=function(){return{foo:1}},r[e](Boolean).foo!==1})},tp=he,ap=Bt.map,np=Un,op=np("map");tp({target:"Array",proto:!0,forced:!op},{map:function(r){return ap(this,r,arguments.length>1?arguments[1]:void 0)}});var fs={},ip=es,lp=Bn,vs=Object.keys||function(r){return ip(r,lp)},sp=U,up=Hl,cp=V,fp=K,vp=Ke,dp=vs;fs.f=sp&&!up?Object.defineProperties:function(r,t){fp(r);for(var a=vp(t),n=dp(t),o=n.length,i=0,l;o>i;)cp.f(r,l=n[i++],a[l]);return r};var pp=ur,gp=pp("document","documentElement"),hp=K,mp=fs,ri=Bn,yp=Nt,bp=gp,$p=An,Sp=Nn,ti=">",ai="<",tn="prototype",an="script",ds=Sp("IE_PROTO"),$a=function(){},ps=function(e){return ai+an+ti+e+ai+"/"+an+ti},ni=function(e){e.write(ps("")),e.close();var r=e.parentWindow.Object;return e=null,r},Ip=function(){var e=$p("iframe"),r="java"+an+":",t;return e.style.display="none",bp.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(ps("document.F=Object")),t.close(),t.F},Jr,lt=function(){try{Jr=new ActiveXObject("htmlfile")}catch{}lt=typeof document<"u"?document.domain&&Jr?ni(Jr):Ip():ni(Jr);for(var e=ri.length;e--;)delete lt[tn][ri[e]];return lt()};yp[ds]=!0;var qt=Object.create||function(r,t){var a;return r!==null?($a[tn]=hp(r),a=new $a,$a[tn]=null,a[ds]=r):a=lt(),t===void 0?a:mp.f(a,t)},wp=N,xp=qt,Op=V.f,nn=wp("unscopables"),on=Array.prototype;on[nn]==null&&Op(on,nn,{configurable:!0,value:xp(null)});var gs=function(e){on[nn][e]=!0},zr={},kp=C,Ep=!kp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Tp=ge,Pp=F,Rp=Dt,Cp=Nn,_p=Ep,oi=Cp("IE_PROTO"),ln=Object,Ap=ln.prototype,hs=_p?ln.getPrototypeOf:function(e){var r=Rp(e);if(Tp(r,oi))return r[oi];var t=r.constructor;return Pp(t)&&r instanceof t?t.prototype:r instanceof ln?Ap:null},jp=C,Fp=F,ii=hs,Dp=We,Np=N,sn=Np("iterator"),ms=!1,Ge,Sa,Ia;[].keys&&(Ia=[].keys(),"next"in Ia?(Sa=ii(ii(Ia)),Sa!==Object.prototype&&(Ge=Sa)):ms=!0);var Mp=Ge==null||jp(function(){var e={};return Ge[sn].call(e)!==e});Mp&&(Ge={});Fp(Ge[sn])||Dp(Ge,sn,function(){return this});var ys={IteratorPrototype:Ge,BUGGY_SAFARI_ITERATORS:ms},Lp=V.f,Bp=ge,qp=N,li=qp("toStringTag"),Vn=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Bp(e,li)&&Lp(e,li,{configurable:!0,value:r})},Gp=ys.IteratorPrototype,zp=qt,Up=At,Vp=Vn,Kp=zr,Wp=function(){return this},Hp=function(e,r,t,a){var n=r+" Iterator";return e.prototype=zp(Gp,{next:Up(+!a,t)}),Vp(e,n,!1),Kp[n]=Wp,e},Xp=F,Yp=String,Qp=TypeError,Jp=function(e){if(typeof e=="object"||Xp(e))return e;throw Qp("Can't set "+Yp(e)+" as a prototype")},Zp=A,eg=K,rg=Jp,bs=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=Zp(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(n,o){return eg(n),rg(o),e?t(n,o):n.__proto__=o,n}}():void 0),tg=he,ag=ne,$s=Fn,ng=F,og=Hp,si=hs,ui=bs,ig=Vn,lg=cr,wa=We,sg=N,ug=zr,Ss=ys,cg=$s.PROPER,fg=$s.CONFIGURABLE,ci=Ss.IteratorPrototype,Zr=Ss.BUGGY_SAFARI_ITERATORS,pr=sg("iterator"),fi="keys",gr="values",vi="entries",vg=function(){return this},Kn=function(e,r,t,a,n,o,i){og(t,r,a);var l=function(p){if(p===n&&v)return v;if(!Zr&&p in c)return c[p];switch(p){case fi:return function(){return new t(this,p)};case gr:return function(){return new t(this,p)};case vi:return function(){return new t(this,p)}}return function(){return new t(this)}},g=r+" Iterator",d=!1,c=e.prototype,f=c[pr]||c["@@iterator"]||n&&c[n],v=!Zr&&f||l(n),u=r=="Array"&&c.entries||f,s,y,h;if(u&&(s=si(u.call(new e)),s!==Object.prototype&&s.next&&(si(s)!==ci&&(ui?ui(s,ci):ng(s[pr])||wa(s,pr,vg)),ig(s,g,!0))),cg&&n==gr&&f&&f.name!==gr&&(fg?lg(c,"name",gr):(d=!0,v=function(){return ag(f,this)})),n)if(y={values:l(gr),keys:o?v:l(fi),entries:l(vi)},i)for(h in y)(Zr||d||!(h in c))&&wa(c,h,y[h]);else tg({target:r,proto:!0,forced:Zr||d},y);return c[pr]!==v&&wa(c,pr,v,{name:n}),ug[r]=v,y},dg=Ke,Wn=gs,di=zr,Is=Br,pg=V.f,gg=Kn,hg=U,ws="Array Iterator",mg=Is.set,yg=Is.getterFor(ws),bg=gg(Array,"Array",function(e,r){mg(this,{type:ws,target:dg(e),index:0,kind:r})},function(){var e=yg(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:a,done:!1}:t=="values"?{value:r[a],done:!1}:{value:[a,r[a]],done:!1}},"values"),pi=di.Arguments=di.Array;Wn("keys");Wn("values");Wn("entries");if(hg&&pi.name!=="values")try{pg(pi,"name",{value:"values"})}catch{}var Hn={exports:{}},xs={},$g=_n,Sg=V,Ig=At,Os=function(e,r,t){var a=$g(r);a in e?Sg.f(e,a,Ig(0,t)):e[a]=t},gi=Zl,wg=qr,xg=Os,Og=Array,kg=Math.max,ks=function(e,r,t){for(var a=wg(e),n=gi(r,a),o=gi(t===void 0?a:t,a),i=Og(kg(o-n,0)),l=0;n<o;n++,l++)xg(i,l,e[n]);return i.length=l,i},Eg=Ve,Tg=Ke,Es=Mt.f,Pg=ks,Ts=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Rg=function(e){try{return Es(e)}catch{return Pg(Ts)}};xs.f=function(r){return Ts&&Eg(r)=="Window"?Rg(r):Es(Tg(r))};var Cg=C,_g=Cg(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ag=C,jg=Q,Fg=Ve,hi=_g,st=Object.isExtensible,Dg=Ag(function(){st(1)}),Ng=Dg||hi?function(r){return!jg(r)||hi&&Fg(r)=="ArrayBuffer"?!1:st?st(r):!0}:st,Mg=C,Lg=!Mg(function(){return Object.isExtensible(Object.preventExtensions({}))}),Bg=he,qg=A,Gg=Nt,zg=Q,Xn=ge,Ug=V.f,mi=Mt,Vg=xs,Yn=Ng,Kg=Cn,Wg=Lg,Ps=!1,Oe=Kg("meta"),Hg=0,Qn=function(e){Ug(e,Oe,{value:{objectID:"O"+Hg++,weakData:{}}})},Xg=function(e,r){if(!zg(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Xn(e,Oe)){if(!Yn(e))return"F";if(!r)return"E";Qn(e)}return e[Oe].objectID},Yg=function(e,r){if(!Xn(e,Oe)){if(!Yn(e))return!0;if(!r)return!1;Qn(e)}return e[Oe].weakData},Qg=function(e){return Wg&&Ps&&Yn(e)&&!Xn(e,Oe)&&Qn(e),e},Jg=function(){Zg.enable=function(){},Ps=!0;var e=mi.f,r=qg([].splice),t={};t[Oe]=1,e(t).length&&(mi.f=function(a){for(var n=e(a),o=0,i=n.length;o<i;o++)if(n[o]===Oe){r(n,o,1);break}return n},Bg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Vg.f}))},Zg=Hn.exports={enable:Jg,fastKey:Xg,getWeakData:Yg,onFreeze:Qg};Gg[Oe]=!0;var eh=N,rh=zr,th=eh("iterator"),ah=Array.prototype,nh=function(e){return e!==void 0&&(rh.Array===e||ah[th]===e)},oh=Lt,yi=Lr,ih=zr,lh=N,sh=lh("iterator"),Rs=function(e){if(e!=null)return yi(e,sh)||yi(e,"@@iterator")||ih[oh(e)]},uh=ne,ch=Tn,fh=K,vh=jt,dh=Rs,ph=TypeError,gh=function(e,r){var t=arguments.length<2?dh(e):r;if(ch(t))return fh(uh(t,e));throw ph(vh(e)+" is not iterable")},hh=ne,bi=K,mh=Lr,yh=function(e,r,t){var a,n;bi(e);try{if(a=mh(e,"return"),!a){if(r==="throw")throw t;return t}a=hh(a,e)}catch(o){n=!0,a=o}if(r==="throw")throw t;if(n)throw a;return bi(a),t},bh=qn,$h=ne,Sh=K,Ih=jt,wh=nh,xh=qr,$i=kn,Oh=gh,kh=Rs,Si=yh,Eh=TypeError,ut=function(e,r){this.stopped=e,this.result=r},Ii=ut.prototype,Cs=function(e,r,t){var a=t&&t.that,n=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),g=bh(r,a),d,c,f,v,u,s,y,h=function(m){return d&&Si(d,"normal",m),new ut(!0,m)},p=function(m){return n?(Sh(m),l?g(m[0],m[1],h):g(m[0],m[1])):l?g(m,h):g(m)};if(o)d=e.iterator;else if(i)d=e;else{if(c=kh(e),!c)throw Eh(Ih(e)+" is not iterable");if(wh(c)){for(f=0,v=xh(e);v>f;f++)if(u=p(e[f]),u&&$i(Ii,u))return u;return new ut(!1)}d=Oh(e,c)}for(s=o?e.next:d.next;!(y=$h(s,d)).done;){try{u=p(y.value)}catch(m){Si(d,"throw",m)}if(typeof u=="object"&&u&&$i(Ii,u))return u}return new ut(!1)},Th=kn,Ph=TypeError,_s=function(e,r){if(Th(r,e))return e;throw Ph("Incorrect invocation")},Rh=N,As=Rh("iterator"),js=!1;try{var Ch=0,wi={next:function(){return{done:!!Ch++}},return:function(){js=!0}};wi[As]=function(){return this},Array.from(wi,function(){throw 2})}catch{}var _h=function(e,r){if(!r&&!js)return!1;var t=!1;try{var a={};a[As]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t},Ah=F,jh=Q,xi=bs,Fh=function(e,r,t){var a,n;return xi&&Ah(a=r.constructor)&&a!==t&&jh(n=a.prototype)&&n!==t.prototype&&xi(e,n),e},Dh=he,Nh=L,Mh=A,Oi=ts,Lh=We,Bh=Hn.exports,qh=Cs,Gh=_s,zh=F,xa=Q,Oa=C,Uh=_h,Vh=Vn,Kh=Fh,Wh=function(e,r,t){var a=e.indexOf("Map")!==-1,n=e.indexOf("Weak")!==-1,o=a?"set":"add",i=Nh[e],l=i&&i.prototype,g=i,d={},c=function(p){var m=Mh(l[p]);Lh(l,p,p=="add"?function($){return m(this,$===0?0:$),this}:p=="delete"?function(b){return n&&!xa(b)?!1:m(this,b===0?0:b)}:p=="get"?function($){return n&&!xa($)?void 0:m(this,$===0?0:$)}:p=="has"?function($){return n&&!xa($)?!1:m(this,$===0?0:$)}:function($,S){return m(this,$===0?0:$,S),this})},f=Oi(e,!zh(i)||!(n||l.forEach&&!Oa(function(){new i().entries().next()})));if(f)g=t.getConstructor(r,e,a,o),Bh.enable();else if(Oi(e,!0)){var v=new g,u=v[o](n?{}:-0,1)!=v,s=Oa(function(){v.has(1)}),y=Uh(function(p){new i(p)}),h=!n&&Oa(function(){for(var p=new i,m=5;m--;)p[o](m,m);return!p.has(-0)});y||(g=r(function(p,m){Gh(p,l);var b=Kh(new i,p,g);return m!=null&&qh(m,b[o],{that:b,AS_ENTRIES:a}),b}),g.prototype=l,l.constructor=g),(s||h)&&(c("delete"),c("has"),a&&c("get")),(h||u)&&c(o),n&&l.clear&&delete l.clear}return d[e]=g,Dh({global:!0,constructor:!0,forced:g!=i},d),Vh(g,e),n||t.setStrong(g,e,a),g},Hh=We,Xh=function(e,r,t){for(var a in r)Hh(e,a,r[a],t);return e},Yh=ur,Qh=V,Jh=N,Zh=U,ki=Jh("species"),em=function(e){var r=Yh(e),t=Qh.f;Zh&&r&&!r[ki]&&t(r,ki,{configurable:!0,get:function(){return this}})},rm=V.f,tm=qt,Ei=Xh,am=qn,nm=_s,om=Cs,im=Kn,lm=em,hr=U,Ti=Hn.exports.fastKey,Fs=Br,Pi=Fs.set,ka=Fs.getterFor,sm={getConstructor:function(e,r,t,a){var n=e(function(d,c){nm(d,o),Pi(d,{type:r,index:tm(null),first:void 0,last:void 0,size:0}),hr||(d.size=0),c!=null&&om(c,d[a],{that:d,AS_ENTRIES:t})}),o=n.prototype,i=ka(r),l=function(d,c,f){var v=i(d),u=g(d,c),s,y;return u?u.value=f:(v.last=u={index:y=Ti(c,!0),key:c,value:f,previous:s=v.last,next:void 0,removed:!1},v.first||(v.first=u),s&&(s.next=u),hr?v.size++:d.size++,y!=="F"&&(v.index[y]=u)),d},g=function(d,c){var f=i(d),v=Ti(c),u;if(v!=="F")return f.index[v];for(u=f.first;u;u=u.next)if(u.key==c)return u};return Ei(o,{clear:function(){for(var c=this,f=i(c),v=f.index,u=f.first;u;)u.removed=!0,u.previous&&(u.previous=u.previous.next=void 0),delete v[u.index],u=u.next;f.first=f.last=void 0,hr?f.size=0:c.size=0},delete:function(d){var c=this,f=i(c),v=g(c,d);if(v){var u=v.next,s=v.previous;delete f.index[v.index],v.removed=!0,s&&(s.next=u),u&&(u.previous=s),f.first==v&&(f.first=u),f.last==v&&(f.last=s),hr?f.size--:c.size--}return!!v},forEach:function(c){for(var f=i(this),v=am(c,arguments.length>1?arguments[1]:void 0),u;u=u?u.next:f.first;)for(v(u.value,u.key,this);u&&u.removed;)u=u.previous},has:function(c){return!!g(this,c)}}),Ei(o,t?{get:function(c){var f=g(this,c);return f&&f.value},set:function(c,f){return l(this,c===0?0:c,f)}}:{add:function(c){return l(this,c=c===0?0:c,c)}}),hr&&rm(o,"size",{get:function(){return i(this).size}}),n},setStrong:function(e,r,t){var a=r+" Iterator",n=ka(r),o=ka(a);im(e,r,function(i,l){Pi(this,{type:a,target:i,state:n(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,g=i.last;g&&g.removed;)g=g.previous;return!i.target||!(i.last=g=g?g.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:g.key,done:!1}:l=="values"?{value:g.value,done:!1}:{value:[g.key,g.value],done:!1}},t?"entries":"values",!t,!0),lm(r)}},um=Wh,cm=sm;um("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},cm);var fm=Gn,vm=Lt,dm=fm?{}.toString:function(){return"[object "+vm(this)+"]"},pm=Gn,gm=We,hm=dm;pm||gm(Object.prototype,"toString",hm,{unsafe:!0});var mm=Lt,ym=String,Ur=function(e){if(mm(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return ym(e)},Jn=A,bm=Mn,$m=Ur,Sm=Mr,Im=Jn("".charAt),Ri=Jn("".charCodeAt),wm=Jn("".slice),Ci=function(e){return function(r,t){var a=$m(Sm(r)),n=bm(t),o=a.length,i,l;return n<0||n>=o?e?"":void 0:(i=Ri(a,n),i<55296||i>56319||n+1===o||(l=Ri(a,n+1))<56320||l>57343?e?Im(a,n):i:e?wm(a,n,n+2):(i-55296<<10)+(l-56320)+65536)}},Ds={codeAt:Ci(!1),charAt:Ci(!0)},xm=Ds.charAt,Om=Ur,Ns=Br,km=Kn,Ms="String Iterator",Em=Ns.set,Tm=Ns.getterFor(Ms);km(String,"String",function(e){Em(this,{type:Ms,string:Om(e),index:0})},function(){var r=Tm(this),t=r.string,a=r.index,n;return a>=t.length?{value:void 0,done:!0}:(n=xm(t,a),r.index+=n.length,{value:n,done:!1})});var Ls={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Pm=An,Ea=Pm("span").classList,_i=Ea&&Ea.constructor&&Ea.constructor.prototype,Bs=_i===Object.prototype?void 0:_i,Ai=L,qs=Ls,Rm=Bs,Sr=bg,Ta=cr,Gs=N,Pa=Gs("iterator"),ji=Gs("toStringTag"),Ra=Sr.values,zs=function(e,r){if(e){if(e[Pa]!==Ra)try{Ta(e,Pa,Ra)}catch{e[Pa]=Ra}if(e[ji]||Ta(e,ji,r),qs[r]){for(var t in Sr)if(e[t]!==Sr[t])try{Ta(e,t,Sr[t])}catch{e[t]=Sr[t]}}}};for(var Ca in qs)zs(Ai[Ca]&&Ai[Ca].prototype,Ca);zs(Rm,"DOMTokenList");var Cm=C,_m=function(e,r){var t=[][e];return!!t&&Cm(function(){t.call(null,r||function(){return 1},1)})},Am=Bt.forEach,jm=_m,Fm=jm("forEach"),Us=Fm?[].forEach:function(r){return Am(this,r,arguments.length>1?arguments[1]:void 0)},Dm=he,Fi=Us;Dm({target:"Array",proto:!0,forced:[].forEach!=Fi},{forEach:Fi});var Di=L,Ni=Ls,Nm=Bs,_a=Us,Mm=cr,Vs=function(e){if(e&&e.forEach!==_a)try{Mm(e,"forEach",_a)}catch{e.forEach=_a}};for(var Aa in Ni)Ni[Aa]&&Vs(Di[Aa]&&Di[Aa].prototype);Vs(Nm);var Ks="#5583e5",Ws="#79e555",Hs=[5,10,20,30,40],Lm=Hs[2],Bm=U,Xs=A,qm=vs,Gm=Ke,zm=On.f,Um=Xs(zm),Vm=Xs([].push),Mi=function(e){return function(r){for(var t=Gm(r),a=qm(t),n=a.length,o=0,i=[],l;n>o;)l=a[o++],(!Bm||Um(t,l))&&Vm(i,e?[l,t[l]]:t[l]);return i}},Km={entries:Mi(!0),values:Mi(!1)},Wm=he,Hm=Km.entries;Wm({target:"Object",stat:!0},{entries:function(r){return Hm(r)}});var Xm=TypeError,Ym=9007199254740991,Qm=function(e){if(e>Ym)throw Xm("Maximum allowed index exceeded");return e},Jm=he,Zm=C,ey=as,ry=Q,ty=Dt,ay=qr,Li=Qm,Bi=Os,ny=cs,oy=Un,iy=N,ly=En,Ys=iy("isConcatSpreadable"),sy=ly>=51||!Zm(function(){var e=[];return e[Ys]=!1,e.concat()[0]!==e}),uy=oy("concat"),cy=function(e){if(!ry(e))return!1;var r=e[Ys];return r!==void 0?!!r:ey(e)},fy=!sy||!uy;Jm({target:"Array",proto:!0,arity:1,forced:fy},{concat:function(r){var t=ty(this),a=ny(t,0),n=0,o,i,l,g,d;for(o=-1,l=arguments.length;o<l;o++)if(d=o===-1?t:arguments[o],cy(d))for(g=ay(d),Li(n+g),i=0;i<g;i++,n++)i in d&&Bi(a,n,d[i]);else Li(n+1),Bi(a,n++,d);return a.length=n,a}});var vy=K,dy=function(){var e=vy(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},Zn=C,py=L,eo=py.RegExp,ro=Zn(function(){var e=eo("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),gy=ro||Zn(function(){return!eo("a","y").sticky}),hy=ro||Zn(function(){var e=eo("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),Qs={BROKEN_CARET:hy,MISSED_STICKY:gy,UNSUPPORTED_Y:ro},my=C,yy=L,by=yy.RegExp,$y=my(function(){var e=by(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Sy=C,Iy=L,wy=Iy.RegExp,xy=Sy(function(){var e=wy("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),er=ne,Gt=A,Oy=Ur,ky=dy,Ey=Qs,Ty=Ft.exports,Py=qt,Ry=Br.get,Cy=$y,_y=xy,Ay=Ty("native-string-replace",String.prototype.replace),Et=RegExp.prototype.exec,un=Et,jy=Gt("".charAt),Fy=Gt("".indexOf),Dy=Gt("".replace),ja=Gt("".slice),cn=function(){var e=/a/,r=/b*/g;return er(Et,e,"a"),er(Et,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),Js=Ey.BROKEN_CARET,fn=/()??/.exec("")[1]!==void 0,Ny=cn||fn||Js||Cy||_y;Ny&&(un=function(r){var t=this,a=Ry(t),n=Oy(r),o=a.raw,i,l,g,d,c,f,v;if(o)return o.lastIndex=t.lastIndex,i=er(un,o,n),t.lastIndex=o.lastIndex,i;var u=a.groups,s=Js&&t.sticky,y=er(ky,t),h=t.source,p=0,m=n;if(s&&(y=Dy(y,"y",""),Fy(y,"g")===-1&&(y+="g"),m=ja(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&jy(n,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",m=" "+m,p++),l=new RegExp("^(?:"+h+")",y)),fn&&(l=new RegExp("^"+h+"$(?!\\s)",y)),cn&&(g=t.lastIndex),d=er(Et,s?l:t,m),s?d?(d.input=ja(d.input,p),d[0]=ja(d[0],p),d.index=t.lastIndex,t.lastIndex+=d[0].length):t.lastIndex=0:cn&&d&&(t.lastIndex=t.global?d.index+d[0].length:g),fn&&d&&d.length>1&&er(Ay,d[0],l,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(d[c]=void 0)}),d&&u)for(d.groups=f=Py(null),c=0;c<u.length;c++)v=u[c],f[v[0]]=d[v[1]];return d});var zt=un,My=he,qi=zt;My({target:"RegExp",proto:!0,forced:/./.exec!==qi},{exec:qi});var Ly=_t,Zs=Function.prototype,Gi=Zs.apply,zi=Zs.call,By=typeof Reflect=="object"&&Reflect.apply||(Ly?zi.bind(Gi):function(){return zi.apply(Gi,arguments)}),Ui=A,Vi=We,qy=zt,Ki=C,eu=N,Gy=cr,zy=eu("species"),Fa=RegExp.prototype,ru=function(e,r,t,a){var n=eu(e),o=!Ki(function(){var d={};return d[n]=function(){return 7},""[e](d)!=7}),i=o&&!Ki(function(){var d=!1,c=/a/;return e==="split"&&(c={},c.constructor={},c.constructor[zy]=function(){return c},c.flags="",c[n]=/./[n]),c.exec=function(){return d=!0,null},c[n](""),!d});if(!o||!i||t){var l=Ui(/./[n]),g=r(n,""[e],function(d,c,f,v,u){var s=Ui(d),y=c.exec;return y===qy||y===Fa.exec?o&&!u?{done:!0,value:l(c,f,v)}:{done:!0,value:s(f,c,v)}:{done:!1}});Vi(String.prototype,e,g[0]),Vi(Fa,n,g[1])}a&&Gy(Fa[n],"sham",!0)},Uy=Q,Vy=Ve,Ky=N,Wy=Ky("match"),Hy=function(e){var r;return Uy(e)&&((r=e[Wy])!==void 0?!!r:Vy(e)=="RegExp")},Xy=us,Yy=jt,Qy=TypeError,Jy=function(e){if(Xy(e))return e;throw Qy(Yy(e)+" is not a constructor")},Wi=K,Zy=Jy,eb=N,rb=eb("species"),tb=function(e,r){var t=Wi(e).constructor,a;return t===void 0||(a=Wi(t)[rb])==null?r:Zy(a)},ab=Ds.charAt,tu=function(e,r,t){return r+(t?ab(e,r).length:1)},Hi=ne,nb=K,ob=F,ib=Ve,lb=zt,sb=TypeError,au=function(e,r){var t=e.exec;if(ob(t)){var a=Hi(t,e,r);return a!==null&&nb(a),a}if(ib(e)==="RegExp")return Hi(lb,e,r);throw sb("RegExp#exec called on incompatible receiver")},ub=By,mr=ne,to=A,cb=ru,fb=Hy,vb=K,Xi=Mr,db=tb,pb=tu,gb=Ln,Da=Ur,hb=Lr,Yi=ks,Qi=au,mb=zt,yb=Qs,bb=C,Ye=yb.UNSUPPORTED_Y,Ji=4294967295,$b=Math.min,nu=[].push,Sb=to(/./.exec),Qe=to(nu),yr=to("".slice),Ib=!bb(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});cb("split",function(e,r,t){var a;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?a=function(n,o){var i=Da(Xi(this)),l=o===void 0?Ji:o>>>0;if(l===0)return[];if(n===void 0)return[i];if(!fb(n))return mr(r,i,n,l);for(var g=[],d=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),c=0,f=new RegExp(n.source,d+"g"),v,u,s;(v=mr(mb,f,i))&&(u=f.lastIndex,!(u>c&&(Qe(g,yr(i,c,v.index)),v.length>1&&v.index<i.length&&ub(nu,g,Yi(v,1)),s=v[0].length,c=u,g.length>=l)));)f.lastIndex===v.index&&f.lastIndex++;return c===i.length?(s||!Sb(f,""))&&Qe(g,""):Qe(g,yr(i,c)),g.length>l?Yi(g,0,l):g}:"0".split(void 0,0).length?a=function(n,o){return n===void 0&&o===0?[]:mr(r,this,n,o)}:a=r,[function(o,i){var l=Xi(this),g=o==null?void 0:hb(o,e);return g?mr(g,o,l,i):mr(a,Da(l),o,i)},function(n,o){var i=vb(this),l=Da(n),g=t(a,i,l,o,a!==r);if(g.done)return g.value;var d=db(i,RegExp),c=i.unicode,f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Ye?"g":"y"),v=new d(Ye?"^(?:"+i.source+")":i,f),u=o===void 0?Ji:o>>>0;if(u===0)return[];if(l.length===0)return Qi(v,l)===null?[l]:[];for(var s=0,y=0,h=[];y<l.length;){v.lastIndex=Ye?0:y;var p=Qi(v,Ye?yr(l,y):l),m;if(p===null||(m=$b(gb(v.lastIndex+(Ye?y:0)),l.length))===s)y=pb(l,y,c);else{if(Qe(h,yr(l,s,y)),h.length===u)return h;for(var b=1;b<=p.length-1;b++)if(Qe(h,p[b]),h.length===u)return h;y=s=m}}return Qe(h,yr(l,s)),h}]},!Ib,Ye);var wb=U,xb=Fn.EXISTS,ou=A,Ob=V.f,iu=Function.prototype,kb=ou(iu.toString),lu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Eb=ou(lu.exec),Tb="name";wb&&!xb&&Ob(iu,Tb,{configurable:!0,get:function(){try{return Eb(lu,kb(this))[1]}catch{return""}}});function Zi(e){var r=new Map,t=new Map;return e.forEach(function(a,n){Pb(t,n,a)}),t.forEach(function(a,n){var o=lr(a,2),i=o[0],l=o[1],g=e.get(n)||0;g&&i+l<2||g&&i+l>3||(!g&&i+l==3?r.set(n,i>l?1:2):g&&r.set(n,g))}),r}function Pb(e,r,t){var a=su(r),n=lr(a,2),o=n[0],i=n[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(g){e.has(g)||e.set(g,[0,0]);var d=e.get(g),c=lr(d,2),f=c[0],v=c[1];t===1?e.set(g,[f+1,v]):e.set(g,[f,v+1])}),e}function su(e){var r=e.split("|"),t=lr(r,2),a=t[0],n=t[1];return[+a,+n]}function Rb(e){var r=lr(e,2),t=r[0],a=r[1];return"".concat(t,"|").concat(a)}function uu(e,r){var t=Math.floor(e.clientY/r),a=Math.floor(e.clientX/r);return{row:t,col:a,shift:e.shiftKey}}function Cb(e){return""}function _b(e){var r=e.map(function(t){var a=t.name,n=t.fauna,o=jl(n.entries());return{fauna:o,name:a}});localStorage.setItem("history",JSON.stringify(r))}function Ab(){try{var e=JSON.parse(localStorage.getItem("history")||"null")||[],r=e.map(function(t){var a=t.fauna,n=t.name,o=new Map(a);return{fauna:o,name:n}});return r}catch(t){return console.error(t),[]}}function jb(){return{width:window.visualViewport.width,height:window.visualViewport.height}}var el=jb(),ue=T(Lm,{name:"$cellSize",sid:"-ls3koq"}),Fb=T(Hs,{name:"$cellSizeOptions",sid:"-bt1jxj"}),Db=ue.map(function(e){return{height:Math.ceil(el.height/e),width:Math.ceil(el.width/e)}}),cu=x({name:"sizeChanged",sid:"-483t18"}),ze=T(new Map,{name:"$fauna",sid:"xel32q"}),ao=T({col:0,row:0},{name:"$focus",sid:"skykzq"}),Ir=x({name:"moveFocus",sid:"u7fbrj"}),fu=x({name:"resetFocus",sid:"-yj5gc5"}),Pr=T(1,{name:"$selectedColor",sid:"-u5aumi"}),ct=x({name:"colorSelected",sid:"gc4nzl"});Pr.on(ct,function(e,r){return r});var vu=x({name:"toggleCell",sid:"-ggctpi"}),du=x({name:"saveClicked",sid:"uzgsec"}),Ut=x({name:"resetFieldPressed",sid:"no09vq"}),pu=T({row:0,col:0,shift:!1},{and:{updateFilter:function(r,t){return!(r.row===t.row&&r.col===t.col&&r.shift===t.shift)}},name:"$hoveredCell",sid:"-qxkipv"}),gu=x({name:"fieldMouseMove",sid:"-5jwdnp"}),hu=Ce({and:[Db,ze,ao,function(e,r,t){var a=e.width,n=e.height,o=[];return r.forEach(function(i,l){var g=su(l),d=lr(g,2),c=d[0],f=d[1],v=Math.ceil(c+t.col),u=Math.ceil(f+t.row);v>=0&&v<a&&u>=0&&u<n&&o.push({col:v,row:u,val:i})}),o}],or:{name:"$field",sid:"a3rjmw"}}),Nb=Ce({and:[hu,ue,function(e,r){return e.map(function(t){var a=t.val,n=t.col,o=t.row;return{val:a,y:o*r+"px",x:n*r+"px"}})}],or:{name:"$viewField",sid:"9a03qe"}}),rl=Ce({and:[pu,ue,function(e,r){var t=e.col,a=e.row;return{y:a*r+"px",x:t*r+"px"}}],or:{name:"$viewHoveredCell",sid:"nk73ib"}});ue.on(cu,function(e,r){return r});ze.on(Ut,function(){return new Map});ao.on(Ir,function(e,r){return{col:e.col+(r.col||0),row:e.row+(r.row||0)}}).reset(fu);_({and:[{source:ue,clock:gu,fn:function(r,t){return uu(t,r)},target:pu}],or:{sid:"cmwn61"}});_({and:[{source:{fauna:ze,color:Pr,focus:ao},clock:vu,fn:function(r,t){var a=r.color,n=r.fauna,o=r.focus,i=t.col,l=t.row,g=t.shift,d=new Map(n),c=i-o.col,f=l-o.row,v=Rb([c,f]);return g?d.set(v,a):d.get(v)===a?d.delete(v):d.set(v,a),d},target:ze}],or:{sid:"crazwx"}});var no=T(!0,{name:"$isElsaMode",sid:"-s5qn3e"}),mu=x({name:"setElsaMode",sid:"-ixkuan"});no.on(mu,function(e,r){return r});function Mb(e){O("select",function(){de({handler:{change:e.onChange}}),In(e.options,function(r){var t=r.store;O("option",{attr:{value:t.map(function(a){return a.value}),selected:Ce({and:[t,e.value,function(a,n){return a.value===n}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(a){return a.label})})})})}function Lb(e){O("label",{text:e.label,fn:function(){O("input",{attr:{type:"checkbox",checked:e.value},handler:{change:e.onChange.prepend(function(t){return t.target.checked})}})}})}const Bb="_field_fs6v2_1",qb="_cell10_fs6v2_13",Gb="_on1_fs6v2_21",zb="_on2_fs6v2_24",Ub="_heartMode_fs6v2_28",Vb="_roundCell_fs6v2_36",Kb="_history_fs6v2_40",Wb="_colorBtn_fs6v2_46",Hb="_currentColor_fs6v2_53",Xb="_arrowBtn_fs6v2_57",D={field:Bb,cell10:qb,on1:Gb,on2:zb,heartMode:Ub,roundCell:Vb,history:Kb,colorBtn:Wb,currentColor:Hb,arrowBtn:Xb};function Yb(){Lb({label:"Elsa",value:no,onChange:mu}),O("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,a;O("button",{classList:(r={},se(r,D.colorBtn,!0),se(r,D.currentColor,Pr.map(function(n){return n===1})),r),style:{backgroundColor:Ks},handler:{click:ct.prepend(function(){return 1})}}),O("button",{classList:(t={},se(t,D.colorBtn,!0),se(t,D.currentColor,Pr.map(function(n){return n===2})),t),style:{backgroundColor:Ws},handler:{click:ct.prepend(function(){return 2})}}),O("button",{classList:(a={},se(a,D.colorBtn,!0),se(a,D.currentColor,Pr.map(function(n){return!n})),a),handler:{click:ct.prepend(function(){return 0})}})}})}const Qb=""+new URL("heart-line-icon.a4369d33.svg",import.meta.url).href,Jb=""+new URL("redo-arrow-icon.c268a7f7.svg",import.meta.url).href;function Zb(){var e=Ir.prepend(function(){return{col:5}}),r=Ir.prepend(function(){return{col:-5}}),t=Ir.prepend(function(){return{row:5}}),a=Ir.prepend(function(){return{row:-5}});O("div",function(){de({style:{display:"grid",gridTemplateColumns:"30px 30px 30px",gridTemplateRows:"30px 30px 30px",gap:"8px",position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",zIndex:1}}),O("div",{}),O("button",{text:"^",classList:[D.arrowBtn],style:{transform:"rotate(90deg)"},handler:{click:t}}),O("div",{}),O("button",{text:"<-",classList:[D.arrowBtn],style:{transform:"rotate(0deg)"},handler:{click:e}}),O("button",{classList:[D.arrowBtn],style:{backgroundImage:'url("'.concat(Jb,'")')},handler:{click:fu}}),O("button",{text:"->",classList:[D.arrowBtn],style:{transform:"rotate(180deg)"},handler:{click:r}}),O("div",{}),O("button",{text:"v",classList:[D.arrowBtn],style:{transform:"rotate(270deg)"},handler:{click:a}})}),O("div",function(){de({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),Mb({options:Fb.map(function(o){return o.map(function(i){return{label:"cell ".concat(i,"px"),value:String(i)}})}),value:ue.map(function(o){return String(o)}),onChange:cu.prepend(function(o){return+o.target.value})})});var n=x({name:"rawClicked",sid:"-lz5cka"});_({and:[{source:ue,clock:n,fn:function(i,l){return uu(l,i)},target:vu}],or:{sid:"-iojgij"}}),O("div",{classList:[D.field],styleVar:{cellSize:ue.map(function(o){return o+"px"}),color1:Ks,color2:Ws},style:{backgroundImage:ue.map(function(o){return Qb}).map(function(o){return'url("'.concat(o,'")')}),backgroundSize:ue.map(function(o){return o+"px"})},handler:{click:n,mousemove:gu},fn:function(){In(Nb,function(i){var l,g=i.store;O("div",{style:{left:g.map(function(d){return d.x}),top:g.map(function(d){return d.y})},classList:(l={},se(l,D.heartMode,no),se(l,D.cell10,!0),se(l,D.on1,g.map(function(d){return d.val===1})),se(l,D.on2,g.map(function(d){return d.val===2})),l)})}),O("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:rl.map(function(i){return i.x}),top:rl.map(function(i){return i.y})},classList:[D.cell10]})}})}var e$=ne,r$=ru,t$=K,a$=Ln,Na=Ur,n$=Mr,o$=Lr,i$=tu,tl=au;r$("match",function(e,r,t){return[function(n){var o=n$(this),i=n==null?void 0:o$(n,e);return i?e$(i,n,o):new RegExp(n)[e](Na(o))},function(a){var n=t$(this),o=Na(a),i=t(r,n,o);if(i.done)return i.value;if(!n.global)return tl(n,o);var l=n.unicode;n.lastIndex=0;for(var g=[],d=0,c;(c=tl(n,o))!==null;){var f=Na(c[0]);g[d]=f,f===""&&(n.lastIndex=i$(o,a$(n.lastIndex),l)),d++}return d===0?null:g}]});var l$=he,s$=Bt.filter,u$=Un,c$=u$("filter");l$({target:"Array",proto:!0,forced:!c$},{filter:function(r){return s$(this,r,arguments.length>1?arguments[1]:void 0)}});var Vt=T(Ab()||[],{name:"$history",sid:"8vj2mw"}),yu=x({name:"addToHistory",sid:"-6p9jgl"}),bu=x({name:"removeFromHistory",sid:"iwl8tq"}),Kt=x({name:"historySelected",sid:"bspsag"});Vt.on(yu,function(e,r){var t,a=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",n=a.match(/(\d+)/),o=n&&+n[1]||0;return[].concat(jl(e),[{fauna:r,name:"save #".concat(o+1)}])}).on(bu,function(e,r){});_({and:[{source:Vt,target:dn(function(e){_b(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var al,nl;function f$(){O("div",{classList:[D.history],fn:function(){O("p",{text:"History: ",style:{margin:"0"}}),In(Vt,function(r){var t=r.store,a=x({name:"rawClick",sid:"-69qia6"}),n=x({name:"rawRemoveClick",sid:"-9nj6fi"});_({and:[{clock:a,source:t.map(function(o){return o.name}),target:Kt}],or:{sid:"-pa1t75"}}),_({and:[{clock:n,source:t.map(function(o){return o.name}),target:bu}],or:{sid:"-p7au8c"}}),O("div",function(){O("button",function(){de({handler:{click:a}}),St(al||(al=wt(["",""])),t.map(function(o){return o.name}))}),O("button",function(){de({handler:{click:n}}),St(nl||(nl=wt(["x"])))})})}),O("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:du}})}})}function v$(e){var{timeout:r,start:t,stop:a,leading:n=!1,trailing:o=!1}=e,i=x({name:"tick",sid:"uo9p3s"}),l=T(!1,{name:"$isRunning",sid:"-wxesi8"}),g=d$(r),d=l.map(h=>!h),c=x({name:"saveTimeout",sid:"as5clk"}),f=T(null,{name:"$timeoutId",sid:"-bh90bo"}).on(c,(h,p)=>p),v=x({name:"saveReject",sid:"-64swis"}),u=T(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(v,(h,p)=>p),s=dn(h=>new Promise((p,m)=>{var b=setTimeout(p,h);c(b),v(m)}),{name:"timeoutFx",sid:"7lc3mj"}),y=ku({and:{source:[f,u],effect:h=>{var[p,m]=h;m(),p&&clearTimeout(p)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return Yt({and:[{clock:t,source:g,filter:d,target:s}],or:{sid:"-w5qmwp"}}),n&&Yt({and:[{clock:t,filter:d,target:i}],or:{sid:"-vpslni"}}),_({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),Yt({and:[{clock:s.done,source:g,filter:l,target:s}],or:{sid:"-v73liy"}}),_({and:[{clock:s.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),a&&(o&&_({and:[{clock:a,target:i}],or:{sid:"-uanqf7"}}),l.on(a,()=>!1),_({and:[{clock:a,target:y}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function d$(e){if(q.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return T(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var oo=T(0,{name:"$stepCount",sid:"qcyfda"});T(0,{name:"$startFauna",sid:"871hb0"});var Wt=x({name:"gameTick",sid:"3e0yvy"}),$u=x({name:"makeNSteps",sid:"-su79h9"}),io=x({name:"startTimer",sid:"qpqggy"}),Su=x({name:"stopTimer",sid:"o91ddu"}),Iu=Cu({sid:"-9gtfjx",fn:function(){return v$({timeout:50,start:io,stop:Su})},name:"timer",method:"interval"}),ft={start:io,stop:Su,isRunning:Iu.isRunning};_({and:[{clock:[Iu.tick,io],target:Wt}],or:{sid:"-pq1jks"}});oo.on(Wt,function(e){return e+1}).on($u,function(e,r){return e+r});var ol,il;function p$(){O("p",function(){de({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),O("button",{text:"Step",handler:{click:Wt}}),St(ol||(ol=wt([" timer: "]))),Ju({source:ft.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){O("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:ft.stop}})},0:function(){O("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:ft.start}})}}}),St(il||(il=wt(["steps: ",""])),oo)})}var g$=he,h$=Bt.find,m$=gs,vn="find",wu=!0;vn in[]&&Array(1)[vn](function(){wu=!1});g$({target:"Array",proto:!0,forced:wu},{find:function(r){return h$(this,r,arguments.length>1?arguments[1]:void 0)}});m$(vn);var y$=T("",{name:"$exported",sid:"-eko3nz"}),b$=x({name:"exportClicked",sid:"ve9igg"});_({and:[{source:ze,clock:du,target:yu}],or:{sid:"-32a41b"}});_({and:[{source:Vt,clock:Kt,fn:function(r,t){var a=r.find(function(o){return o.name===t}).fauna,n=new Map(a);return n},target:ze}],or:{sid:"-qod2zb"}});_({and:[{clock:[Kt,Ut],target:ft.stop}],or:{sid:"-q7bgl4"}});_({and:[{source:hu,clock:b$,fn:Cb,target:y$}],or:{sid:"-q6rnzr"}});ze.on(Wt,function(e){return Zi(e)}).on($u,function(e,r){for(var t=e,a=1;a<=r;a++)t=Zi(t);return t});oo.reset(Kt,Ut);function $$(){O("div",function(){Zb(),O("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){O("h1",{text:"Game of Life"}),f$(),Yb(),p$()}}),O("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:Ut}})})}Yu(document.querySelector("#app"),$$);
