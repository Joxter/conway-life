const Du=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}};Du();function _t(e,r){for(let t in e)r(e[t],t)}function U(e,r){e.forEach(r)}function X(e,r){if(!e)throw Error(r)}function Va(e,r){q={parent:q,value:e,template:N(e,"template")||cr(),sidRoot:N(e,"sidRoot")||q&&q.sidRoot};try{return r()}finally{q=ve(q)}}function Ee({node:e=[],from:r,source:t,parent:a=r||t,to:n,target:o,child:i=n||o,scope:l={},meta:g={},family:p={type:"regular"},regional:u}={}){let v=wr(a),f=wr(p.links),s=wr(p.owners),c=[];U(e,h=>h&&xe(c,h));let y={id:qu(),seq:c,next:wr(i),meta:g,scope:l,family:{type:p.type||"crosslink",links:f,owners:s}};return U(f,h=>xe(Ct(h),y)),U(s,h=>xe(At(h),y)),U(v,h=>xe(h.next,y)),u&&q&&or(Tr(q),[y]),y}function P(e,r,t){let a=ce,n=null,o=_;if(e.target&&(r=e.params,t=e.defer,a="page"in e?e.page:a,e.stack&&(n=e.stack),o=Se(e)||o,e=e.target),o&&_&&o!==_&&(_=null),Array.isArray(e))for(let s=0;s<e.length;s++)Ae("pure",a,Y(e[s]),n,r[s],o);else Ae("pure",a,Y(e),n,r,o);if(t&&!Hr)return;let i,l,g,p,u,v,f={isRoot:Hr,currentPage:ce,scope:_,isWatch:nt,isPure:ot};Hr=0;e:for(;p=Wu();){let{idx:s,stack:c,type:y}=p;g=c.node,ce=u=c.page,_=Se(c),u?v=u.reg:_&&(v=_.reg);let h=!!u,d=!!_,m={fail:0,scope:g.scope};i=l=0;for(let b=s;b<g.seq.length&&!i;b++){let $=g.seq[b];if($.order){let{priority:S,barrierID:I}=$.order,x=I?u?`${u.fullID}_${I}`:I:0;if(b!==s||y!==S){I?aa.has(x)||(aa.add(x),Xa(b,c,S,I)):Xa(b,c,S);continue e}I&&aa.delete(x)}switch($.type){case"mov":{let I,x=$.data;switch(x.from){case Me:I=Tr(c);break;case"a":case"b":I=c[x.from];break;case"value":I=x.store;break;case"store":if(v&&!v[x.store.id])if(h){let E=_l(u,x.store.id);c.page=u=E,E?v=E.reg:d?(lr(_,x.store,0,1,x.softRead),v=_.reg):v=void 0}else d&&lr(_,x.store,0,1,x.softRead);I=Pr(v&&v[x.store.id]||x.store)}switch(x.to){case Me:c.value=I;break;case"a":case"b":c[x.to]=I;break;case"store":Xu(u,_,g,x.target).current=I}break}case"compute":let S=$.data;if(S.fn){nt=N(g,"op")==="watch",ot=S.pure;let I=S.safe?(0,S.fn)(Tr(c),m.scope,c):Yu(m,S.fn,c);S.filter?l=!I:c.value=I,nt=f.isWatch,ot=f.isPure}}i=m.fail||l}if(!i){let b=Tr(c);U(g.next,S=>{Ae("child",u,S,c,b,Se(c))});let $=Se(c);if($){N(g,"needFxCounter")&&Ae("child",u,$.fxCount,c,b,$),N(g,"storeChange")&&Ae("child",u,$.storeChange,c,b,$),N(g,"warnSerialize")&&Ae("child",u,$.warnSerializeNode,c,b,$);let S=$.additionalLinks[g.id];S&&U(S,I=>{Ae("child",u,I,c,b,$)})}}}Hr=f.isRoot,ce=f.currentPage,_=Se(f)}function Il(e,r="combine"){let t=r+"(",a="",n=0;return _t(e,o=>{n<25&&(o!=null&&(t+=a,t+=Le(o)?xn(o).fullName:o.toString()),n+=1,a=", ")}),t+")"}function xl(e,r){let t,a,n=e;if(r){let o=xn(r);e.length===0?(t=o.path,a=o.fullName):(t=o.path.concat([e]),a=o.fullName.length===0?e:o.fullName+"/"+e)}else t=e.length===0?[]:[e],a=e;return{shortName:n,fullName:a,path:t}}function Br(e,r){let t=r?e:e[0];Pl(t);let a=t.or,n=t.and;if(n){let o=r?n:n[0];if(pe(o)&&"and"in o){let i=Br(n,r);e=i[0],a={...a,...i[1]}}else e=n}return[e,a]}function te(e,...r){let t=cr();if(t){let a=t.handlers[e];if(a)return a(t,...r)}}function w(e,r){let t=(n,...o)=>(Be(!N(t,"derived"),"call of derived event","createEvent"),Be(!ot,"unit call from pure function","operators like sample"),ce?((i,l,g,p)=>{let u=ce,v=null;if(l)for(v=ce;v&&v.template!==l;)v=ve(v);Oo(v);let f=i.create(g,p);return Oo(u),f})(t,a,n,o):t.create(n,o)),a=cr();return Object.assign(t,{graphite:Ee({meta:Fl("event",t,e,r),regional:1}),create:n=>(P({target:t,params:n,scope:_}),n),watch:n=>Al(t,n),map:n=>na(t,nr,n,[we()]),filter:n=>na(t,"filter",n.fn?n:n.fn,[we(On,1)]),filterMap:n=>na(t,"filterMap",n,[we(),fe(o=>!W(o),1)]),prepend(n){let o=w("* \u2192 "+t.shortName,{parent:ve(t)});return te("eventPrepend",Y(o)),ze(o,t,[we()],"prepend",n),jl(t,o),o}})}function T(e,r){let t=ir(e),a=w({named:"updates",derived:1});te("storeBase",t);let n=t.id,o={subscribers:new Map,updates:a,defaultState:e,stateRef:t,getState(){let v,f=t;if(ce){let s=ce;for(;s&&!s.reg[n];)s=ve(s);s&&(v=s)}return!v&&_&&(lr(_,t,1),v=_),v&&(f=v.reg[n]),Pr(f)},setState:v=>P({target:o,params:v,defer:1,scope:_}),reset:(...v)=>(U(v,f=>o.on(f,()=>o.defaultState)),o),on:(v,f)=>(mt(v,".on","first argument"),Be(!N(o,"derived"),".on in derived store","createStore"),U(Array.isArray(v)?v:[v],s=>{o.off(s),at(o).set(s,Cl(ko(s,o,"on",Ku,f)))}),o),off(v){let f=at(o).get(v);return f&&(f(),at(o).delete(v)),o},map(v,f){let s,c;pe(v)&&(s=v,v=v.fn),Be(W(f),"second argument of store.map","updateFilter");let y=o.getState();cr()?c=null:W(y)||(c=v(y,f));let h=T(c,{name:`${o.shortName} \u2192 *`,derived:1,and:s}),d=ko(o,h,nr,Wa,v);return Ha(ae(h),{type:nr,fn:v,from:t}),ae(h).noInit=1,te("storeMap",t,d),h},watch(v,f){if(!f||!Le(v)){let s=Al(o,v);return te("storeWatch",t,v)||v(o.getState()),s}return X(ne(f),"second argument should be a function"),v.watch(s=>f(o.getState(),s))}},i=Fl("store",o,r),l=o.defaultConfig.updateFilter;o.graphite=Ee({scope:{state:t,fn:l},node:[fe((v,f,s)=>(s.scope&&!s.scope.reg[t.id]&&(s.b=1),v)),Ge(t),fe((v,f,{a:s,b:c})=>!W(v)&&(v!==s||c),1),l&&we(Wa,1),ee({from:Me,target:t})],child:a,meta:i,regional:1});let g=N(o,"derived"),p=N(o,"serialize")==="ignore",u=N(o,"sid");return u&&(p||De(o,"storeChange",1),t.sid=u),u||p||g||De(o,"warnSerialize",1),X(g||!W(e),"current state can't be undefined, use null instead"),or(o,[a]),o}function _e(...e){let r,t,a;[e,a]=Br(e);let n,o,i,l=e[e.length-1];if(ne(l)?(t=e.slice(0,-1),r=l):t=e,t.length===1){let g=t[0];oe(g)||(n=g,o=1)}if(!o&&(n=t,r)){i=1;let g=r;r=p=>g(...p)}return X(pe(n),"shape should be an object"),Ju(Array.isArray(n),!i,n,a,r)}function Nu(){let e={};return e.req=new Promise((r,t)=>{e.rs=r,e.rj=t}),e.req.catch(()=>{}),e}function In(e,r){let t=w(ne(e)?{handler:e}:e,r),a=Y(t);De(a,"op",t.kind="effect"),t.use=f=>(X(ne(f),".use argument should be a function"),p.scope.handler=f,t),t.use.getCurrent=()=>p.scope.handler;let n=t.finally=w({named:"finally",derived:1}),o=t.done=n.filterMap({named:"done",fn({status:f,params:s,result:c}){if(f==="done")return{params:s,result:c}}}),i=t.fail=n.filterMap({named:"fail",fn({status:f,params:s,error:c}){if(f==="fail")return{params:s,error:c}}}),l=t.doneData=o.map({named:"doneData",fn:({result:f})=>f}),g=t.failData=i.map({named:"failData",fn:({error:f})=>f}),p=Ee({scope:{handlerId:N(a,"sid"),handler:t.defaultConfig.handler||(()=>X(0,`no handler used in ${t.getType()}`))},node:[fe((f,s,c)=>{let y=s,h=y.handler;if(Se(c)){let d=Se(c).handlers[y.handlerId];d&&(h=d)}return f.handler=h,f},0,1),fe(({params:f,req:s,handler:c,args:y=[f]},h,d)=>{let m=yt(f,s,1,n,d),b=yt(f,s,0,n,d),[$,S]=Dl(c,b,y);$&&(pe(S)&&ne(S.then)?S.then(m,b):m(S))},0,1)],meta:{op:"fx",fx:"runner"}});a.scope.runner=p,xe(a.seq,fe((f,{runner:s},c)=>{let y=ve(c)?{params:f,req:{rs(h){},rj(h){}}}:f;return P({target:s,params:y,defer:1,scope:Se(c)}),y.params},0,1)),t.create=f=>{let s=Nu(),c={params:f,req:s};if(_){if(!nt){let y=_;s.req.finally(()=>{Hu(y)}).catch(()=>{})}P({target:t,params:c,scope:_})}else P(t,c);return s.req};let u=t.inFlight=T(0,{serialize:"ignore"}).on(t,f=>f+1).on(n,f=>f-1).map({fn:f=>f,named:"inFlight"});De(n,"needFxCounter","dec"),De(t,"needFxCounter",1);let v=t.pending=u.map({fn:f=>f>0,named:"pending"});return or(t,[n,o,i,l,g,v,u]),t}function Mu(e){let r;[e,r]=Br(e,1);let{source:t,effect:a,mapParams:n}=e,o=In(e,r);De(o,"attached",1);let i,{runner:l}=Y(o).scope,g=fe((u,v,f)=>{let s,{params:c,req:y,handler:h}=u,d=o.finally,m=yt(c,y,0,d,f),b=f.a,$=ht(h),S=1;if(n?[S,s]=Dl(n,m,[c,b]):s=t&&$?b:c,S){if(!$)return u.args=[b,s],1;P({target:h,params:{params:s,req:{rs:yt(c,y,1,d,f),rj:m}},page:f.page,defer:1})}},1,1);if(t){let u;oe(t)?(u=t,or(u,[o])):(u=_e(t),or(o,[u])),i=[Ge(ae(u)),g]}else i=[g];l.seq.splice(1,0,...i),o.use(a);let p=ve(a);return p&&(Object.assign(xn(o),xl(o.shortName,p)),o.defaultConfig.parent=p),jl(a,o,"effect"),o}function gt(e,r){mt(e,"merge","first argument");let t=w({name:Il(e,"merge"),derived:1,and:r});return ze(e,t,[],"merge"),t}function wl(e,r){let t=0;return U(ec,a=>{a in e&&(X(e[a]!=null,Nl(r,a)),t=1)}),t}function A(...e){let r,t,a,n,[[o,i,l],g]=Br(e),p=1;return W(i)&&pe(o)&&wl(o,"sample")&&(i=o.clock,l=o.fn,p=!o.greedy,n=o.filter,r=o.target,t=o.name,a=o.sid,o=o.source),Ml("sample",i,o,n,r,l,t,g,p,1,0,a)}function ra(...e){let[[r,t],a]=Br(e);return t||(t=r,r=t.source),wl(t,"guard"),Ml("guard",t.clock,r,t.filter,t.target,null,t.name,a,!t.greedy,0,1)}function So(e,r,t){if(oe(e))return Be(0,"restore($store)"),e;if(Ol(e)||ht(e)){let n=ve(e),o=T(r,{parent:n,name:e.shortName,and:t});return ze(ht(e)?e.doneData:e,o),n&&n.hooks.store(o),o}let a=Array.isArray(e)?[]:{};return _t(e,(n,o)=>a[o]=oe(n)?n:T(n,{name:o})),a}let Lu=typeof Symbol<"u"&&Symbol.observable||"@@observable",nr="map",Me="stack",Le=e=>(ne(e)||pe(e))&&"kind"in e;const Gr=e=>r=>Le(r)&&r.kind===e;let oe=Gr("store"),Ol=Gr("event"),ht=Gr("effect"),El=Gr("domain"),Bu=Gr("scope");var B={__proto__:null,unit:Le,store:oe,event:Ol,effect:ht,domain:El,scope:Bu};let ta=(e,r)=>{let t=e.indexOf(r);t!==-1&&e.splice(t,1)},xe=(e,r)=>e.push(r),Be=(e,r,t)=>!e&&console.error(`${r} is deprecated${t?`, use ${t} instead`:""}`),Y=e=>e.graphite||e,Ct=e=>e.family.owners,At=e=>e.family.links,ae=e=>e.stateRef,Tr=e=>e.value,at=e=>e.subscribers,ve=e=>e.parent,Se=e=>e.scope,N=(e,r)=>Y(e).meta[r],De=(e,r,t)=>Y(e).meta[r]=t,xn=e=>e.compositeName;const wn=()=>{let e=0;return()=>""+ ++e};let Gu=wn(),kl=wn(),qu=wn(),q=null,cr=()=>q&&q.template,Tl=e=>(e&&q&&q.sidRoot&&(e=`${q.sidRoot}|${e}`),e),Uu=({sid:e,name:r,loc:t,method:a,fn:n})=>Va(Ee({meta:{sidRoot:Tl(e),name:r,loc:t,method:a}}),n),or=(e,r)=>{let t=Y(e);U(r,a=>{let n=Y(a);t.family.type!=="domain"&&(n.family.type="crosslink"),xe(Ct(n),t),xe(At(t),n)})},wr=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(Y),pe=e=>typeof e=="object"&&e!==null,ne=e=>typeof e=="function",W=e=>e===void 0,Pl=e=>X(pe(e)||ne(e),"expect first argument be an object");const Io=(e,r,t,a)=>X(!(!pe(e)&&!ne(e)||!("family"in e)&&!("graphite"in e)),`${r}: expect ${t} to be a unit (store, event or effect)${a}`);let mt=(e,r,t)=>{Array.isArray(e)?U(e,(a,n)=>Io(a,r,`${n} item of ${t}`,"")):Io(e,r,t," or array of units")},zu=(e,r,t="target")=>U(wr(r),a=>Be(!N(a,"derived"),`${e}: derived unit in "${t}"`,"createEvent/createStore")),Wa=(e,{fn:r},{a:t})=>r(e,t),Ku=(e,{fn:r},{a:t})=>r(t,e),On=(e,{fn:r})=>r(e);const Rl=(e,r,t,a)=>{let n={id:kl(),type:e,data:r};return t&&(n.order={priority:t},a&&(n.order.barrierID=++Vu)),n};let Vu=0,ee=({from:e="store",store:r,target:t,to:a=t?"store":Me,batch:n,priority:o})=>Rl("mov",{from:e,store:r,to:a,target:t},o,n),Fr=({fn:e,batch:r,priority:t,safe:a=0,filter:n=0,pure:o=0})=>Rl("compute",{fn:e,safe:a,filter:n,pure:o},t,r),En=({fn:e})=>Fr({fn:e,priority:"effect"}),fe=(e,r,t)=>Fr({fn:e,safe:1,filter:r,priority:t&&"effect"}),Ge=(e,r,t)=>ee({store:e,to:r?Me:"a",priority:t&&"sampler",batch:1}),we=(e=On,r)=>Fr({fn:e,pure:1,filter:r}),xo={mov:ee,compute:Fr,filter:({fn:e,pure:r})=>Fr({fn:e,filter:1,pure:r}),run:En},ir=e=>({id:kl(),current:e}),Pr=({current:e})=>e,Ha=(e,r)=>{e.before||(e.before=[]),xe(e.before,r)},er=null;const kn=(e,r)=>{if(!e)return r;if(!r)return e;let t;return(e.v.type===r.v.type&&e.v.id>r.v.id||Ya(e.v.type)>Ya(r.v.type))&&(t=e,e=r,r=t),t=kn(e.r,r),e.r=e.l,e.l=t,e},Tn=[];let wo=0;for(;wo<6;)xe(Tn,{first:null,last:null,size:0}),wo+=1;const Wu=()=>{for(let e=0;e<6;e++){let r=Tn[e];if(r.size>0){if(e===3||e===4){r.size-=1;let a=er.v;return er=kn(er.l,er.r),a}r.size===1&&(r.last=null);let t=r.first;return r.first=t.r,r.size-=1,t.v}}},Ae=(e,r,t,a,n,o)=>Xa(0,{a:null,b:null,node:t,parent:a,value:n,page:r,scope:o},e),Xa=(e,r,t,a=0)=>{let n=Ya(t),o=Tn[n],i={v:{idx:e,stack:r,type:t,id:a},l:null,r:null};n===3||n===4?er=kn(er,i):(o.size===0?o.first=i:o.last.r=i,o.last=i),o.size+=1},Ya=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},aa=new Set;let _,Hr=1,nt=0,ot=0,ce=null,Hu=e=>{_=e},Oo=e=>{ce=e};const _l=(e,r)=>{if(e){for(;e&&!e.reg[r];)e=ve(e);if(e)return e}return null};let Xu=(e,r,t,a,n)=>{let o=_l(e,a.id);return o?o.reg[a.id]:r?(lr(r,a,n),r.reg[a.id]):a},lr=(e,r,t,a,n)=>{let o=e.reg,i=r.sid;if(o[r.id])return;let l={id:r.id,current:r.current};if(i&&i in e.sidValuesMap&&!(i in e.sidIdMap))l.current=e.sidValuesMap[i];else if(r.before&&!n){let g=0,p=t||!r.noInit||a;U(r.before,u=>{switch(u.type){case nr:{let v=u.from;if(v||u.fn){v&&lr(e,v,t,a);let f=v&&o[v.id].current;p&&(l.current=u.fn?u.fn(f):f)}break}case"field":g||(g=1,l.current=Array.isArray(l.current)?[...l.current]:{...l.current}),lr(e,u.from,t,a),p&&(l.current[u.field]=o[o[u.from.id].id].current)}})}i&&(e.sidIdMap[i]=r.id),o[r.id]=l};const Yu=(e,r,t)=>{try{return r(Tr(t),e.scope,t)}catch(a){console.error(a),e.fail=1}};let Qa=(e,r={})=>(pe(e)&&(Qa(e.or,r),_t(e,(t,a)=>{W(t)||a==="or"||a==="and"||(r[a]=t)}),Qa(e.and,r)),r);const Eo=(e,r)=>{ta(e.next,r),ta(Ct(e),r),ta(At(e),r)},Ja=(e,r,t)=>{let a;e.next.length=0,e.seq.length=0,e.scope=null;let n=At(e);for(;a=n.pop();)Eo(a,e),(r||t&&N(e,"op")!=="sample"||a.family.type==="crosslink")&&Ja(a,r,N(a,"op")!=="on"&&t);for(n=Ct(e);a=n.pop();)Eo(a,e),t&&a.family.type==="crosslink"&&Ja(a,r,N(a,"op")!=="on"&&t)},hr=e=>e.clear();let Qu=(e,{deep:r}={})=>{let t=0;if(e.ownerSet&&e.ownerSet.delete(e),oe(e))hr(at(e));else if(El(e)){t=1;let a=e.history;hr(a.events),hr(a.effects),hr(a.stores),hr(a.domains)}Ja(Y(e),!!r,t)},Cl=e=>{let r=()=>Qu(e);return r.unsubscribe=r,r},ze=(e,r,t,a,n)=>Ee({node:t,parent:e,child:r,scope:{fn:n},meta:{op:a},family:{owners:[e,r],links:r},regional:1}),Al=(e,r)=>(X(ne(r),".watch argument should be a function"),Cl(Ee({scope:{fn:r},node:[En({fn:On})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),jl=(e,r,t="event")=>{ve(e)&&ve(e).hooks[t](r)},Fl=(e,r,t,a)=>{let n=e==="domain",o=Gu(),i=Qa({or:a,and:typeof t=="string"?{name:t}:t}),{parent:l=null,sid:g=null,named:p=null}=i,u=p||i.name||(n?"":o),v=xl(u,l),f={op:r.kind=e,name:r.shortName=u,sid:r.sid=Tl(g),named:p,unitId:r.id=o,serialize:i.serialize,derived:i.derived,config:i};if(r.parent=l,r.compositeName=v,r.defaultConfig=i,r.thru=s=>(Be(0,"thru","js pipe"),s(r)),r.getType=()=>v.fullName,!n){r.subscribe=c=>(Pl(c),r.watch(ne(c)?c:y=>c.next&&c.next(y))),r[Lu]=()=>r;let s=cr();s&&(f.nativeTemplate=s)}return f};const na=(e,r,t,a)=>{let n;pe(t)&&(n=t,t=t.fn);let o=w({name:`${e.shortName} \u2192 *`,derived:1,and:n});return ze(e,o,a,r,t),o},ko=(e,r,t,a,n)=>{let o=ae(r),i=ee({store:o,to:"a",priority:"read"});t===nr&&(i.data.softRead=1);let l=[i,we(a)];return te("storeOnMap",o,l,oe(e)&&ae(e)),ze(e,r,l,t,n)},Ju=(e,r,t,a,n)=>{let o=e?c=>c.slice():c=>({...c}),i=e?[]:{},l=o(i),g=ir(l),p=ir(1);g.type=e?"list":"shape",g.noInit=1,te("combineBase",g,p);let u=T(l,{name:Il(t),derived:1,and:a}),v=ae(u);v.noInit=1,De(u,"isCombine",1);let f=Ge(g);f.order={priority:"barrier"};let s=[fe((c,y,h)=>(h.scope&&!h.scope.reg[g.id]&&(h.c=1),c)),f,ee({store:p,to:"b"}),fe((c,{key:y},h)=>{if(h.c||c!==h.a[y])return r&&h.b&&(h.a=o(h.a)),h.a[y]=c,1},1),ee({from:"a",target:g}),ee({from:"value",store:0,target:p}),ee({from:"value",store:1,target:p,priority:"barrier",batch:1}),Ge(g,1),n&&we()];return _t(t,(c,y)=>{if(!oe(c))return X(!Le(c)&&!W(c),`combine expects a store in a field ${y}`),void(l[y]=i[y]=c);i[y]=c.defaultState,l[y]=c.getState();let h=ze(c,u,s,"combine",n);h.scope.key=y;let d=ae(c);Ha(g,{type:"field",field:y,from:d}),te("combineField",d,h)}),u.defaultShape=t,Ha(v,{type:nr,from:g,fn:n}),cr()||(u.defaultState=n?v.current=n(l):i),u};let Dl=(e,r,t)=>{try{return[1,e(...t)]}catch(a){return r(a),[0,null]}},yt=(e,r,t,a,n)=>o=>P({target:[a,Zu],params:[t?{status:"done",params:e,result:o}:{status:"fail",params:e,error:o},{value:o,fn:t?r.rs:r.rj}],defer:1,page:n.page,scope:Se(n)});const Zu=Ee({node:[En({fn:({fn:e,value:r})=>e(r)})],meta:{op:"fx",fx:"sidechain"}}),ec=["source","clock","target"],Nl=(e,r)=>e+`: ${r} should be defined`;let Ml=(e,r,t,a,n,o,i,l,g,p,u,v)=>{let f=!!n;X(!W(t)||!W(r),Nl(e,"either source or clock"));let s=0;W(t)?s=1:Le(t)||(t=_e(t)),W(r)?r=t:(mt(r,e,"clock"),Array.isArray(r)&&(r=gt(r))),s&&(t=r),l||i||(i=t.shortName);let c="none";(u||a)&&(Le(a)?c="unit":(X(ne(a),"`filter` should be function or unit"),c="fn")),n?(mt(n,e,"target"),zu(e,n)):c==="none"&&p&&oe(t)&&oe(r)?n=T(o?o(Pr(ae(t)),Pr(ae(r))):Pr(ae(t)),{name:i,sid:v,or:l}):(n=w({name:i,derived:1,or:l}),te("sampleTarget",Y(n)));let y=ir(),h=[];if(c==="unit"){let[b,$]=To(a,n,r,y,e);h=[...oa($),...oa(b)]}let[d,m]=To(t,n,r,y,e);return or(t,[ze(r,n,[te("sampleSourceLoader"),ee({from:Me,target:y}),...oa(m),Ge(d,1,g),...h,Ge(y),c==="fn"&&we((b,$,{a:S})=>a(b,S),1),o&&we(Wa),te("sampleSourceUpward",f)],e,o)]),n};const oa=e=>[Ge(e),fe((r,t,{a})=>a,1)],To=(e,r,t,a,n)=>{let o=oe(e),i=o?ae(e):ir(),l=ir(o);return o||Ee({parent:e,node:[ee({from:Me,target:i}),ee({from:"value",store:1,target:l})],family:{owners:[e,r,t],links:r},meta:{op:n},regional:1}),te("sampleSource",l,i,a),[i,l]};function it(e,r){e.cursor[r].prev&&(e.cursor[r].prev.cursor[r].next=e.cursor[r].next),e.cursor[r].next&&(e.cursor[r].next.cursor[r].prev=e.cursor[r].prev),e.queue[r].last===e&&(e.queue[r].last=e.cursor[r].prev),e.queue[r].first===e&&(e.queue[r].first=e.cursor[r].next),e.cursor[r].prev=null,e.cursor[r].next=null}function Rr(e){var r,t;e.status="active",r=lt(e),(t=e).cursor.prev&&(t.cursor.prev.cursor.next=t.cursor.next),t.cursor.next&&(t.cursor.next.cursor.prev=t.cursor.prev),r.last===t&&(r.last=t.cursor.prev),r.first===t&&(r.first=t.cursor.next),t.cursor.prev=null,t.cursor.next=null}function lt(e){return e.group.activeChilds[e.priority]}function Po(e,r){r.value.active=r.value.pending=e,r.status!=="active"&&Rr(r)}function H(e,r){if(r.value.active===e)return r.value.pending=e,void(r.status==="pending"&&(Rr(r),lt(r).first||it(r.group,r.priority)));var t,a,n,o;r.status==="active"&&(r.status="pending",lt(r).first||((n=r.group).queue[o=r.priority].last?(n.cursor[o].prev=n.queue[o].last,n.queue[o].last.cursor[o].next=n,n.queue[o].last=n):n.queue[o].first=n.queue[o].last=n),a=r,(t=lt(r)).last?(a.cursor.prev=t.last,t.last.cursor.next=a,t.last=a):t.first=t.last=a),r.value.pending=e,r.group.queue.rafID||(r.group.queue.rafID=Hl(r.group.queue.execQueue))}function rc(e){Fe("execQueue");let r,t,a=Re(),n=0;e:for(;e.props.first||e.tree.first||e.data.first;){if(Re()-a>=1e3){n=1;break e}let o=!!e.props.first;for(o&&Fe("props");r=e.props.first;){for(;t=r.activeChilds.props.first;){if(Re()-a>=1e3){n=1,se("props");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"props")}o&&se("props");let i=!!e.tree.first;for(i&&Fe("tree");r=e.tree.first;){for(;t=r.activeChilds.tree.first;){if(Re()-a>=1e3){n=1,se("tree");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"tree")}i&&se("tree");let l=!!e.data.first;for(l&&Fe("data");r=e.data.first;){for(;t=r.activeChilds.data.first;){if(Re()-a>=1e3){n=1,se("data");break e}t.runOp(t.value.pending),t.value.active=t.value.pending,Rr(t)}it(r,"data")}l&&se("data")}if(se("execQueue"),n)e.rafID=Hl(e.execQueue);else if(e.rafID=null,e.onDrain){let o=e.onDrain;e.onDrain=null,o()}}function _r({value:e,runOp:r,group:t,priority:a}){return{value:{active:e,pending:e},runOp:r,status:"active",priority:a,group:t,cursor:{prev:null,next:null}}}function tc({onComplete:e}){let r={props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null},rafID:null,execQueue(){},onDrain:e};return r.execQueue=rc.bind(null,r),r}function Dr(e){return{ops:[],queue:e,activeChilds:{props:{first:null,last:null},tree:{first:null,last:null},data:{first:null,last:null}},cursor:{props:{prev:null,next:null},tree:{prev:null,next:null},data:{prev:null,next:null}}}}function ac({value:e,group:r,onInit:t,onChange:a}){let n=_r({value:e,group:r,runOp(i){o.status="A",a(i)},priority:"data"}),o={status:"IA",value:n.value,ops:{init:_r({value:0,group:r,runOp(i){o.status="A",t(o.value.active)},priority:"data"}),change:n,terminate:_r({value:0,group:r,runOp(i){o.status="T"},priority:"data"})}};return H(1,o.ops.init),o}function nc(e){switch(e.status){case"I":case"T":case"AT":return;case"A":e.status="AT",H(1,e.ops.terminate);break;case"AA":e.status="AT",H(1,e.ops.terminate),H(e.value.active,e.ops.change);break;case"IA":e.status="T",H(0,e.ops.init)}}function oc(e,r){switch(r.status){case"I":case"T":return;case"A":r.value.active!==e&&(r.status="AA",H(e,r.ops.change));break;case"AA":r.value.active===e?(r.status="A",H(e,r.ops.change)):r.value.pending!==e&&(r.value.pending=e);break;case"IA":r.value.active=r.value.pending=e}}function ic(e){switch(e=String(e)){case"__proto__":case"__defineGetter__":case"__defineSetter__":case"constructor":case"prototype":case"hasOwnProperty":case"toString":case"valueOf":case"setProperty":case"removeProperty":return"forbidden";default:return e.replace(/[^a-zA-Z0-9\-_]/g,"")}}function Ll(e,r){for(let t=0;t<r.length;t++){let{type:a,field:n,value:o}=r[t];vc[a](e,n,o)}}function jt(e){return e!==""&&e!==0&&e!=="0"&&(e==0||e==null)}function Bl(e,r,t){jt(t)?e.style.removeProperty(`--${r}`):e.style.setProperty(`--${r}`,`${t}`)}function Gl(e,r,t){jt(t)?delete e.style[r]:e.style[r]=`${t}`}function ql(e,r,t){r&&r.trim().length>0&&(t?e.classList.add(r):(e.classList.remove(r),e.classList.length===0&&e.removeAttribute("class")))}function Ul(e,r,t){jt(t)?delete e.dataset[r]:e.dataset[r]=`${t}`}function zl(e,r,t){if(jt(t)){switch(r){case"value":delete e.value;break;case"checked":e.checked=0;break;case"spellcheck":if(t==0)return void e.setAttribute("spellcheck","false")}e.removeAttribute(r)}else{switch(r){case"value":e.value=`${t}`;break;case"checked":e.checked=`${t}`}e.setAttribute(r,`${t}`)}}function Za(e,r){e.replaceData(0,(e.textContent||"").length,String(r))}function sr({fn:e,state:r={},defer:t=0,name:a="",draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g=0}){let p=k,u={id:++pc,name:a,plain:[],watch:[],nameMap:{},pages:[],closure:[],childTemplates:[],handlers:dc,upward:xo.filter({fn(f,s,c){if(!c.page){if(!c.parent||!c.parent.page)return 1;c.page=c.parent.page}if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page upward"),0;let y=[c.page.template],h=[c.page];{let d=c.page.parent;for(;d;)h.push(d),y.push(d.template),d=d.parent}return c.node.next.forEach(d=>{let m=d.meta.nativeTemplate;if(m)if(y.includes(m)){let b=h[y.indexOf(m)];P({target:d,params:f,defer:1,page:b,stack:c,scope:c.scope})}else console.error("context drift",{stack:c,node:d});else P({target:d,params:f,defer:1,page:c.page,stack:c,scope:c.scope})}),0}}),loader:xo.filter({fn(f,s,c){if(c.parent){let y=c.scope?c.scope.graphite.id:null;if(c.page){if(!c.page.root.activeSpawns.has(c.page.fullID))return console.count("inactive page loader"),0;if(c.page.template===u)return 1;if(c.page.root.childSpawns[c.page.fullID][u.id])c.page.root.childSpawns[c.page.fullID][u.id].forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&P({params:f,target:c.node,page:h,defer:1,scope:c.scope})});else{let h=c.page.fullID,d=c.page.template.name==="rec";u.pages.forEach(m=>{if(!y||m.root.scope&&y===m.root.scope.graphite.id)if(m.fullID===h||m.fullID.startsWith(`${h}_`)){let b=1;if(d){let $=c.page.template.id,S=m.parent;for(;S&&S!==c.page;){if(S.template.id===$){b=0;break}S=S.parent}}b&&P({params:f,target:c.node,page:m,defer:1,scope:c.scope})}else h.startsWith(`${m.fullID}_`)&&P({params:f,target:c.node,page:c.page,defer:1,scope:c.scope})})}}else u.pages.forEach(h=>{(!y||h.root.scope&&y===h.root.scope.graphite.id)&&P({params:f,target:c.node,page:h,defer:1,scope:c.scope})});return 0}return 1}}),parent:p,node:null,api:null,trigger:{mount:w({named:"mount"})},draft:n,isSvgRoot:o,namespace:i,env:l,isBlock:g||!(!p||!p.isBlock)};p&&p.childTemplates.push(u);let v=Ee({meta:{template:u}});return u.node=v,k=u,t?u.deferredInit=()=>{let f=k;k=u,u.deferredInit=null;try{Va(v,()=>{let s=So(r);u.api=e(s,u.trigger),u.nameMap=s})}finally{k=f}}:Va(v,()=>{let f=So(r);u.api=e(f,u.trigger),u.nameMap=f}),k=p,u}function lc(e,r){let t;switch(t=r?r.getState(e):e.current,e.type){case"list":return[...t];case"shape":return{...t};default:return t}}function Kl(e,r,t){let a=r;for(;a&&!Mr(a,e);)a=a.parent;return a?Mr(a,e):t?(t.getState(e),t.reg[e.id]):e}function ia(e,r){Mr(r,e)||(r.reg[e.id]=Kl(e,r.parent,r.root.scope))}function Ro(e,r,t){r in t||(t[r]=[]),t[r].push(...e)}function bt(e,{values:r={},parentLeaf:t,mountNode:a,svgRoot:n,leafData:o,opGroup:i,domSubtree:l,hydration:g,root:p}){function u(h){if(h.before)for(let d=0;d<h.before.length;d++){let m=h.before[d];switch(m.type){case"map":{let b,$=m.from;if(!m.fn&&!$)break;$&&(ia($,s),b=f[$.id].current),f[h.id].current=m.fn?m.fn(b):b;break}case"field":{let b=m.from;ia(b,s),f[h.id].current[m.field]=f[b.id].current;break}case"closure":ia(m.of,s)}}}function v(h,d,m){let b;d.stop=1;try{for(;d.i<h.length;)b=h[d.i],d.i++,b.fn(m[b.of.id]?m[b.of.id].current:Kl(b.of,s.parent,s.root.scope).current)}catch($){console.error($),d.stop=0}}let f={},s={draft:e.draft,svgRoot:n,data:o,parent:t,hydration:g,mountNode:a,root:p,id:++gc,fullID:"",reg:f,template:e};e.pages.push(s);let c=ar;ar=s,t&&Ro([s],e.id,p.childSpawns[t.fullID]),s.fullID=t?`${t.fullID}_${s.id}`:`${s.id}`,p.childSpawns[s.fullID]={},p.activeSpawns.add(s.fullID),p.leafOps[s.fullID]={group:i,domSubtree:l};for(let h=0;h<e.closure.length;h++){let d=e.closure[h],m=d,b=s.parent;e:for(;b;){if(Mr(b,d)){m=Mr(b,d);break e}b=b.parent}!b&&p.scope&&(p.scope.getState(d),m=p.scope.reg[d.id]),f[d.id]=m}for(let h=0;h<e.plain.length;h++){let d=e.plain[h],m={id:d.id,current:lc(d,p.scope)};f[d.id]=m}for(let h in r){let d=e.nameMap[h].stateRef.id;f[d]={id:d,current:r[h]}}e.closure.forEach(u),e.plain.forEach(u);let y={i:0,stop:0};for(;!y.stop;)v(e.watch,y,f);if(t)for(let h in p.childSpawns[s.fullID])Ro(p.childSpawns[s.fullID][h],h,p.childSpawns[t.fullID]);if($e)$e.steps.push({target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope});else{let h;$e={parent:$e,steps:[{target:e.trigger.mount,params:s,defer:1,page:s,scope:p.scope}]};do for(;h=$e.steps.shift();)$e={parent:$e,steps:[]},P(h);while($e=$e.parent)}return ar=c,s}function $t(e){let r=e.parent;for(;r.type!=="element"&&r.type!=="using";)r=r.parent;return r?r.value:null}function St(e){if(!e.visible)return null;switch(e.type){case"text":case"element":return e;case"LF":case"route":case"rec":case"recItem":case"block":case"blockItem":for(let r=e.child.length-1;r>=0;r--){let t=St(e.child[r]);if(t)return t}return null;case"list":{let r=e.lastChild;if(!r)return null;for(;r;){let t=St(r);if(t)return t;r=r.left}return null}default:return null}}function It(e){switch(e.type){case"using":return null;case"LF":{let r=e.left;for(;r;){let t=St(r);if(t)return t;r=r.left}return It(e.parent)}case"element":case"text":case"route":case"rec":case"recItem":case"block":case"blockItem":case"list":{let r=e.parent;for(let t=e.index-1;t>=0;t--){let a=r.child[t];if(!a)continue;let n=St(a);if(n)return n}switch(r.type){case"element":case"using":return null}return It(r)}default:return null}}function en(e){let r=It(e);return r?r.value:null}function Nr(e,r){if(!e)throw Error(r)}function qr(e,r){if(!e)throw Error(`${r}() called outside from using() closure`)}function xt(e){if(!k)return;let{draft:r}=e;if(r.type!=="listItem"&&r.type!=="rec")switch(k.draft.type){case"element":case"using":case"route":case"list":case"rec":case"recItem":case"block":case"blockItem":r.inParentIndex=k.draft.childCount,k.draft.childCount+=1,k.draft.childTemplates.push(e);break;default:console.warn(`unexpected currentTemplate type ${k.draft.type}`)}}function Ie(e,{parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o}){e.childTemplates.forEach(i=>{Pn({parentBlockFragment:r,leaf:t,node:a,svgRoot:n,values:o,actor:i})})}function Pn({parentBlockFragment:e,leaf:r,node:t=r.mountNode,actor:a,svgRoot:n,values:o}){let i;Nr(hc.includes(e.type),`incorrect parent ${e.type}`);let{draft:l}=a,{queue:g}=r.root.leafOps[r.fullID].group,p=Dr(g),u=r.root.leafOps[r.fullID].domSubtree,v=u;switch(l.type){case"route":{let s={type:"route",parent:e,child:[],visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"route",block:s,ops:{},initialized:0,pendingInit:null};break}case"element":{let s;if(a.isBlock){let y,h,d=r;for(;d&&(!h||!y);){d.template.env&&(y=d.template.env);let{draft:m}=d;m.type==="element"&&(m.tag==="svg"?h="svg":m.tag==="foreignObject"&&(h="html")),d=d.parent}h||(h="html"),y&&(s=h==="svg"?y.document.createElementNS("http://www.w3.org/2000/svg",l.tag):y.document.createElement(l.tag),Ll(s,l.staticSeq))}else s=l.stencil.cloneNode();let c={type:"element",parent:e,child:[],value:s,visible:0,index:l.inParentIndex};e.child[l.inParentIndex]=c,i={type:"element",block:c,ops:{visible:_r({value:0,priority:"tree",runOp(y){if(y){Vl(c);let h=i;h.needToCallNode&&(h.needToCallNode=0,P({target:Ot,params:{element:c.value,fns:l.node},page:f,scope:r.root.scope})),c.visible=1}else c.value.remove(),c.visible=0},group:u})},needToCallNode:l.node.length>0},v=Dr(g);break}case"list":{let s={type:"list",parent:e,child:[],lastChild:null,visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"list",draft:l,block:s,records:[],pendingUpdate:null};break}case"using":case"listItem":break;case"rec":{let s={type:"rec",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec",block:s};break}case"recItem":{let s={type:"recItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"rec item",block:s};break}case"block":{let s={type:"block",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block",block:s};break}case"blockItem":{let s={type:"blockItem",parent:e,child:[],visible:1,index:l.inParentIndex};e.child[l.inParentIndex]=s,i={type:"block item",block:s};break}default:console.warn(`unexpected draft type ${l.type}`)}let f=bt(a,{values:o,parentLeaf:r,mountNode:t,svgRoot:n||r.svgRoot,leafData:i,opGroup:p,domSubtree:v,hydration:r.hydration,root:r.root})}function Vl(e){let r=en(e);r?r.after(e.value):$t(e).prepend(e.value),e.visible=1}function rr({mount:e,state:r,onMount:t,onState:a}){return{onMount:A({source:r,clock:e,fn:t,greedy:1}),onState:A({source:e,clock:r,fn:a,greedy:1})}}function Cr(e,r){for(let t in e)r(e[t],t)}function _o(e,r){if(!k)return;let t=k.draft;Nr(t.type==="element",`"handler" extension can be used only with element nodes, got "${t.type}"`),r===void 0&&(r=e,e={});for(let l in r)Nr(B.unit(r[l]),`handler for "${l}" should be event`);let{passive:a=0,capture:n=0,prevent:o=0,stop:i=0}=e;t.handler.push({options:{prevent:o,stop:i},domConfig:{passive:o?0:a,capture:n},map:r})}function de(e){qr(k,"spec");let r=k.draft;switch(r.type){case"list":return void(e.visible&&(r.itemVisible=e.visible));case"listItem":case"using":case"route":case"rec":case"recItem":case"block":case"blockItem":return}if(e.attr&&r.attr.push(e.attr),e.data&&r.data.push(e.data),"text"in e){let n=e.text,o=r.childCount;Array.isArray(n)?(r.text.push(...n.map((i,l)=>({index:l+o,value:i}))),r.childCount+=n.length):(r.text.push({index:o,value:n}),r.childCount+=1)}if(e.style){let n={};for(let o in e.style)n[ic(o)]=e.style[o];r.style.push(n)}var t,a;if(e.classList&&(t=e.classList,a=n=>r.classList.push(n),Array.isArray(t)?t.forEach(n=>{let o=typeof n=="string"?n:n.map(l=>l||""),i=typeof n=="string"?1:n.map(l=>l!==null);a({name:o,enabled:i})}):Cr(t,(n,o)=>{a({name:o,enabled:n})})),e.styleVar&&r.styleVar.push(e.styleVar),e.visible&&(r.visible=e.visible),e.handler){let n=e.handler;typeof n.on=="object"?_o(n.config||{},n.on):_o(n)}e.\u0254&&de(e.\u0254)}function la(e,{initCtx:r,runOp:t,hooks:{onMount:a,onState:n}}){let o=e.opsAmount++;a.watch(({value:i,leaf:l})=>{let g=r(i,l),p=_r({value:i,priority:"props",runOp(u){t(u,g)},group:l.root.leafOps[l.fullID].group});l.root.leafOps[l.fullID].group.ops[o]=p}),n.watch(({value:i,leaf:l})=>{H(i,l.root.leafOps[l.fullID].group.ops[o])})}function Xr(e,r,t){e[r].forEach(a=>{Cr(a,(n,o)=>{switch(r){case"data":case"styleVar":t[r][o]=n;break;case"attr":t.attr[o==="xlink:href"?"href":o]=n;break;case"style":o.startsWith("--")?t.styleVar[o.slice(2)]=n:t.style[o]=n}})})}function Co(e,r,t){let a=e.data.block,n={type:"text",parent:a,visible:0,index:t,value:null};if(a.child[t]=n,e.hydration){let o=It(n);if(o)switch(o.type){case"text":n.value=e.root.env.document.createTextNode(r),o.value.after(n.value);break;case"element":n.value=o.value.nextSibling,Za(n.value,r)}else{let i=$t(n);n.value=i.firstChild,Za(n.value,r)}n.visible=1}else n.value=e.root.env.document.createTextNode(r),Vl(n);return n}function mr(e){let r=e.stateRef,t=k;t.plain.includes(r)||t.closure.includes(r)||t.closure.push(r)}function O(e,r){let t,a=0,n=0;typeof r=="function"?(a=1,t=r):r&&(n=1,r.fn&&(a=1,t=r.fn),r.\u0254&&(typeof r.\u0254=="function"?(a=1,t=r.\u0254):typeof r.\u0254.fn=="function"&&(a=1,t=r.\u0254.fn))),qr(k,"h");let o,i=k.env,l=k.namespace,g=l,p="html";g=p=l==="svg"?"svg":"html",e==="svg"&&(p="svg",g="svg"),k.isBlock||(o=p==="svg"?i.document.createElementNS("http://www.w3.org/2000/svg",e):i.document.createElement(e));let u=o,v={type:"element",tag:e,attr:[],data:[],text:[],style:[],styleVar:[],classList:[],handler:[],stencil:u,seq:[],staticSeq:[],childTemplates:[],childCount:0,inParentIndex:-1,opsAmount:1,node:[]};l==="foreignObject"?(v.attr.push({xmlns:"http://www.w3.org/1999/xhtml"}),g="html"):e==="svg"?(v.attr.push({xmlns:"http://www.w3.org/2000/svg"}),g="svg"):e==="foreignObject"&&(g="foreignObject");let f=sr({name:"element",draft:v,isSvgRoot:e==="svg",namespace:g,fn(s,{mount:c}){let y=w({named:"domElementCreated"});a&&t(),n&&de(r),B.unit(v.visible)&&(v.seq.push({type:"visible",value:v.visible}),mr(v.visible));let h={attr:{},data:{},style:{},styleVar:{}};Xr(v,"attr",h),Xr(v,"data",h),Xr(v,"style",h),Xr(v,"styleVar",h),Cr(h,(d,m)=>{Cr(d,(b,$)=>{B.unit(b)?(v.seq.push({type:m,field:$,value:b}),mr(b)):v.staticSeq.push({type:m,field:$,value:b})})}),v.classList.forEach(d=>{if(B.unit(d.name)||B.unit(d.enabled)){let m=B.unit(d.name)?d.name:T(d.name),b=B.unit(d.enabled)?d.enabled:T(d.enabled);v.seq.push({type:"classList",field:m,value:b}),mr(m),mr(b)}else B.unit(d.name)||v.staticSeq.push({type:"classList",field:d.name,value:d.enabled})}),v.text.forEach(d=>{d.value!==null&&(B.unit(d.value)?(v.seq.push({type:"dynamicText",value:d.value,childIndex:d.index}),mr(d.value)):v.seq.push({type:"staticText",value:String(d.value),childIndex:d.index}))}),v.handler.forEach(d=>{Cr(d.map,(m,b)=>{v.seq.push({type:"handler",for:b,handler:m,options:d.options,domConfig:d.domConfig})})}),u&&Ll(u,v.staticSeq),v.seq.forEach(d=>{switch(d.type){case"visible":{let{onMount:m,onState:b}=rr({mount:c,state:d.value,onMount:($,S)=>({leaf:S,value:$,hydration:S.hydration}),onState:($,S)=>({leaf:$,value:S,hydration:0})});m.watch(({leaf:$,value:S,hydration:I})=>{let x=$.data,E=x.block;if(I&&(Po(S,x.ops.visible),S)){let j,L=en(E);if(j=L?L.nextSibling:$t(E).firstChild,j.nodeName==="#text"){let me=j;j=j.nextSibling,me.remove()}E.value=j,E.visible=1}Ie(v,{parentBlockFragment:E,leaf:$,node:E.value,svgRoot:f.isSvgRoot?E.value:null}),S&&x.needToCallNode&&(x.needToCallNode=0,P({target:Ot,params:{element:x.block.value,fns:v.node},page:$,defer:1,scope:$.root.scope})),P({target:y,params:$,defer:1,page:$,scope:$.root.scope})}),gt([b,m]).watch(({leaf:$,value:S,hydration:I})=>{I||H(S,$.data.ops.visible)});break}case"attr":case"data":case"style":case"styleVar":{let m=No[d.type],b=mc.some(({type:S,field:I})=>d.type===S&&d.field===I),$=rr({mount:y,state:d.value,onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});b?gt([$.onState,$.onMount]).watch(({leaf:S,value:I})=>{m(Yr(S),d.field,I)}):la(v,{initCtx(S,I){let x=Yr(I);return m(x,d.field,S),x},runOp(S,I){m(I,d.field,S)},hooks:$});break}case"classList":{let m=No.classList,b=T({prev:"",curr:d.field.getState()}).on(d.field,({curr:S},I)=>({prev:S,curr:I})),$=rr({mount:y,state:_e({name:b,enabled:d.value}),onMount:(S,I)=>({leaf:I,value:S}),onState:(S,I)=>({leaf:S,value:I})});la(v,{initCtx(S,I){let x=Yr(I);return m(x,S.name.curr,S.enabled),x},runOp(S,I){S.name.prev!==S.name.curr&&m(I,S.name.prev,0),m(I,S.name.curr,S.enabled)},hooks:$});break}case"dynamicText":la(v,{initCtx:(m,b)=>Co(b,m,d.childIndex),runOp(m,b){Za(b.value,m)},hooks:rr({mount:y,state:d.value,onMount:(m,b)=>({leaf:b,value:String(m)}),onState:(m,b)=>({leaf:m,value:String(b)})})});break;case"staticText":y.watch(m=>{Co(m,d.value,d.childIndex)});break;case"handler":{let m=d.handler.graphite.meta.nativeTemplate||null;y.watch(b=>{let $=null;if(m){let S=0,I=b;for(;!S&&I;)I.template===m?(S=1,$=I):I=I.parent}else $=null;Yr(b).addEventListener(d.for,S=>{d.options.prevent&&S.preventDefault(),d.options.stop&&S.stopPropagation(),P({target:d.handler,params:S,page:$,scope:b.root.scope})},d.domConfig)});break}}}),c.watch(d=>{let m=d.data;if(!v.visible){let b=m.ops.visible,$=m.block;if(d.hydration){Po(1,b);let S,I=en($);if(S=I?I.nextSibling:$t($).firstChild,S.nodeName==="#text"){let x=S;S=S.nextSibling,x.remove()}$.value=S,$.visible=1}Ie(v,{parentBlockFragment:$,leaf:d,node:$.value,svgRoot:f.isSvgRoot?$.value:null}),P({target:y,params:d,defer:1,page:d,scope:d.root.scope}),d.hydration?m.needToCallNode&&(m.needToCallNode=0,P({target:Ot,params:{element:m.block.value,fns:v.node},page:d,defer:1,scope:d.root.scope})):H(1,b)}})},env:i});xt(f)}function Ao(){if(typeof document<"u")return{document};throw Error("your environment has no document")}function sc(e,r){let t,a,n,o,i,l;if(typeof r=="function")t=r,n=Ao(),o=0;else{if(!r)throw Error("using() second argument is missing");t=r.fn,n=r.env?r.env:Ao(),o=r.hydrate,a=r.onComplete,i=r.onRoot,l=r.scope}Nr(e,"using() first argument is missing");let g={scope:l,env:n,activeSpawns:new Set,childSpawns:{},leafOps:{}},p=e.namespaceURI,u=e.tagName.toLowerCase(),v={type:"using",childTemplates:[],childCount:0,inParentIndex:-1},f=sr({name:"using",draft:v,isSvgRoot:u==="svg",namespace:p==="http://www.w3.org/2000/svg"?"svg":u==="foreignobject"?"foreignObject":"html",fn(h,{mount:d}){t(),d.watch(Cn.using)},env:n}),s={type:"using",child:[],value:e},c=tc({onComplete:a}),y=bt(f,{parentLeaf:ar||null,mountNode:e,svgRoot:f.isSvgRoot?e:ar?ar.svgRoot:null,leafData:{type:"using",draft:v,element:e,block:s},opGroup:Dr(c),domSubtree:Dr(c),hydration:o,root:g});if(i&&i({template:f,leaf:y}),c.onDrain&&!c.rafID){let h=c.onDrain;c.onDrain=null,h()}}function rn(e,r){let t=e.root.childSpawns[e.fullID];for(let a in t){let n=t[a];for(let o=0;o<n.length;o++)r(n[o])}}function Wl(e,r){let t=a=>{let n=a.data;if(e&&n.type==="list"&&n.pendingUpdate){let o=n.pendingUpdate;n.pendingUpdate=null,P({target:a.template.api.pendingUpdate,params:o,defer:1,page:a,scope:a.root.scope})}if(e&&n.type==="route"){if(n.pendingInit){let o=n.pendingInit.value;n.pendingInit=null,P({target:a.template.api.pendingInit,params:o,defer:1,page:a,scope:a.root.scope})}else if(!n.block.visible)return}switch(n.type){case"element":H(e,n.ops.visible);break;case"route":case"list":case"list item":rn(a,t);break;default:console.log("unsupported type",n.type)}};rn(r,t)}function sa(e){e.root.activeSpawns.delete(e.fullID),rn(e,Rn)}function ua(e){Ar(e,e.root.childSpawns[e.parent.fullID][e.template.id]),Ar(e,e.template.pages)}function Rn(e){let{data:r,root:t}=e;switch(r.type){case"element":Ar(e,t.childSpawns[e.parent.fullID][e.template.id]),function a(n){t.activeSpawns.delete(n.fullID);let o=t.childSpawns[n.fullID];delete t.childSpawns[n.fullID],delete t.leafOps[n.fullID],Ar(n,n.template.pages);for(let i in o)o[i].forEach(a)}(e),H(0,r.ops.visible);break;case"list":{let a=r.records;for(let n=0;n<a.length;n++){let o=a[n];o.instance&&Rn(o.instance),o.active=0}e.root.activeSpawns.delete(e.fullID),ua(e);break}case"list item":{let a=r.block;Ar(a,a.parent.child);let n=a.left,o=a.right;n&&(n.right=o,o||a.parent.lastChild!==a||(a.parent.lastChild=n)),o&&(o.left=n),n||o||a.parent.lastChild!==a||(a.parent.lastChild=null),a.left=null,a.right=null,sa(e),ua(e);break}case"route":sa(e),ua(e);break;case"block":case"block item":case"rec":case"rec item":sa(e)}delete t.childSpawns[e.fullID],delete t.leafOps[e.fullID]}function Ar(e,r){if(!r)return;let t=r.indexOf(e);t!==-1&&r.splice(t,1)}function uc(e,r){if(Array.isArray(r))return r.map(t=>e.map(a=>a[t]));if(typeof r=="object"&&r!==null){let t={};for(let a in r){let n=r[a];t[a]=e.map(typeof n=="function"?o=>n(o):o=>o[n])}return t}return e.map(t=>t[r])}function _n(e,r){qr(k,"list"),typeof r=="function"&&(B.unit(e)?e={source:e,fn:r}:e.fn=r);let{fn:t,key:a,source:n,fields:o=[]}=e,i=a!==void 0?typeof a=="function"?a:u=>u[a]:(u,v)=>v,l={type:"list",key:B.store(e)?{type:"index"}:{type:"key",key:e.key},childTemplates:[],childCount:0,inParentIndex:-1},{env:g,namespace:p}=k;xt(sr({name:"list",draft:l,isSvgRoot:0,namespace:p,fn(u,{mount:v}){let f=sr({name:"list item",state:{id:-1,store:null},draft:l,isSvgRoot:0,namespace:p,fn({id:m,store:b},{mount:$}){t({store:b,key:m,fields:uc(b,o)});let S=w({named:"itemUpdater"});if(b.on(S,(I,x)=>x),l.itemVisible){let{onMount:I,onState:x}=rr({mount:$,state:l.itemVisible,onMount:(E,j)=>({visible:E,leaf:j}),onState:(E,j)=>({visible:j,leaf:E})});I.watch(({visible:E,leaf:j})=>{let L=j.data.block;L.visible=E,L.childInitialized=E,E&&Ie(l,{parentBlockFragment:L,leaf:j})}),x.watch(({visible:E,leaf:j})=>{let L=j.data.block;L.visible=E,L.childInitialized?Wl(E,j):E&&(L.childInitialized=1,Ie(l,{parentBlockFragment:L,leaf:j}))})}else $.watch(Cn.listItem);return{itemUpdater:S}},env:g}),s=T([]),c=n.map(m=>m),y=A({source:n,clock:v,fn:(m,b)=>({updates:m,leaf:b,hydration:b.hydration}),greedy:1}),h=w(),d=A({source:y,clock:[c,h],fn:({leaf:m},b)=>({updates:b,leaf:m,hydration:0}),greedy:1});return A({source:s,clock:[y,d],greedy:1,fn(m,{updates:b,leaf:$,hydration:S}){let I=$.data,x=$;for(;x;){if(x.data.type==="route"&&!x.data.block.visible)return void(I.pendingUpdate=b);x=x.parent}let E=I.block;Fe("list update ["+n.shortName+"]");let j=Array(b.length).fill(0),L=b.map(i),me=[];for(let ye=0;ye<m.length;ye++){let ie=m[ye],ke=L.indexOf(ie.key);ke!==-1?(me.push(ie),j[ke]=1,oc(b[ke],ie.asyncValue)):(ie.active=0,ie.instance&&Rn(ie.instance),nc(ie.asyncValue))}for(let ye=0;ye<b.length;ye++){if(j[ye])continue;let ie=b[ye],ke=L[ye],Zt=Dr($.root.leafOps[$.fullID].group.queue),Te={type:"LF",parent:E,child:[],childInitialized:0,visible:0,left:null,right:null},le={type:"listItem",key:ke,index:ke,active:1,leafData:{type:"list item",block:Te,listDraft:l},asyncValue:ac({value:ie,group:Zt,onChange(Ce){le.instance&&P({target:le.instance.template.api.itemUpdater,params:Ce,defer:1,page:le.instance,scope:le.instance.root.scope})},onInit(Ce){le.active&&(S||(le.instance=bt(f,{values:{id:ke,store:Ce},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:le.leafData,opGroup:Zt,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root})))}})},bo=me.length;me.push(le);let $o=bo>0?me[bo-1].leafData:null;if(E.child.push(Te),$o){let Ce=$o.block;Te.left=Ce;let ea=Ce.right;ea?(ea.left=Te,Te.right=ea):E.lastChild=Te,Ce.right=Te}else E.lastChild=Te;S&&(le.instance=bt(f,{values:{id:ke,store:ie},parentLeaf:$,mountNode:$.mountNode,svgRoot:$.svgRoot,leafData:le.leafData,opGroup:Zt,domSubtree:$.root.leafOps[$.fullID].domSubtree,hydration:S,root:$.root}))}return se("list update ["+n.shortName+"]"),me.length===0&&(E.lastChild=null),I.records=me,me},target:s}),{pendingUpdate:h}},env:g}))}function jo({source:e,visible:r,fn:t}){qr(k,"route");let{env:a,namespace:n}=k,o=sr({name:"route",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},fn(i,{mount:l}){let g;if(B.store(r))g=_e({value:e,visible:r});else{let c=r;g=e.map(y=>({value:y,visible:c(y)}))}let p=sr({name:"route item",isSvgRoot:0,namespace:n,env:a,draft:{type:"route",childTemplates:[],childCount:0,inParentIndex:-1},state:{store:null},fn({store:c},{mount:y}){let h=w({named:"itemUpdater"});c.on(h,(m,b)=>b),t({store:c});let d=A({source:y,clock:g,fn:(m,{visible:b,value:$})=>({leaf:m,visible:b,value:$}),greedy:1});y.watch(Cn.routeItem),d.watch(({leaf:m,visible:b,value:$})=>{if(m.data.block.visible=b,b&&P({target:h,params:$,defer:1,page:m,scope:m.root.scope}),b){let S=m.parent;for(;S;){if(S.data.type==="route"&&!S.data.block.visible)return;S=S.parent}}Wl(b,m)})}});xt(p);let{onMount:u,onState:v}=rr({mount:l,state:g,onMount:({visible:c,value:y},h)=>({leaf:h,visible:c,value:y}),onState:(c,{visible:y,value:h})=>({leaf:c,visible:y,value:h})}),f=w(),s=A({source:l,clock:f,greedy:1,fn:(c,y)=>({leaf:c,value:y,visible:1})});return gt([u,v,s]).watch(({leaf:c,visible:y,value:h})=>{let d=c.data;if(d.block.visible=y,y||d.initialized||!d.pendingInit){if(y&&!d.initialized){let m=c.parent;for(;m;){if(m.data.type==="route"&&!m.data.block.visible)return void(d.pendingInit={value:h});m=m.parent}}y&&!d.initialized&&(Pn({parentBlockFragment:d.block,leaf:c,actor:p,values:{store:h}}),d.initialized=1)}else d.pendingInit=null}),{pendingInit:f}}});xt(o)}function cc({source:e,cases:r,key:t}){let a;qr(k,"variant"),Nr(B.unit(e),"variant({source}) should be unit"),a=typeof t=="function"?t:t==null?o=>String(o):o=>String(o[t]);let n=0;for(let o in r)o!=="__"?jo({source:e,visible:i=>a(i)===o,fn:r[o]}):n=1;if(n){let o=Object.keys(r);jo({source:e,visible:i=>!o.includes(a(i)),fn:r.__})}}function fc(e,r){if(r.length===0)return e;let t=[e[0]];for(let a=0;a<r.length;a++)t.push(r[a],e[a+1]);return t}function wt(e,...r){Array.isArray(e)?de({text:fc(e,r)}):de({text:e})}let Re;Re=typeof performance<"u"&&performance.now?()=>performance.now():typeof process<"u"&&process.hrtime?()=>{let e=process.hrtime();return(1e9*e[0]+e[1])/1e6}:()=>Date.now();let tn=new Map;const Or=[],Fo=e=>{let r=tn.get(e);r||(r={calls:0,time:0,label:e,childTime:0},tn.set(e,r)),r.calls+=1,Or.push({bucket:r,pendingStart:Re()})},Do=e=>{let r=tn.get(e),t=Or.pop().pendingStart,a=Re()-t;r.time+=a,Or.length>0&&(Or[Or.length-1].bucket.childTime+=a)};let Fe,se;typeof performance<"u"&&performance.mark?(Fe=e=>{performance.mark("\u2604\uFE0F "+e+" start"),Fo(e)},se=e=>{Do(e);try{performance.measure("\u2604\uFE0F "+e,"\u2604\uFE0F "+e+" start")}catch{}performance.clearMarks("\u2604\uFE0F "+e+" start"),performance.clearMeasures("\u2604\uFE0F "+e)}):(Fe=e=>{Fo(e)},se=e=>{Do(e)});let Hl=typeof requestAnimationFrame<"u"?requestAnimationFrame:e=>setTimeout(e,0);const vc={attr:zl,data:Ul,style:Gl,styleVar:Bl,classList:ql},be=(e,r)=>e.includes(r);let dc={storeBase(e,r){e.plain.push(r)},storeOnMap(e,r,t,a){var n,o;t.unshift(e.loader),t.push(e.upward),a&&(be(e.plain,a)||(be(e.closure,a)||e.closure.push(a),o={type:"closure",of:a},(n=r).before||(n.before=[]),n.before.push(o)))},storeMap(e,r,t){be(e.plain,r)||be(t.seq,e.loader)||t.seq.unshift(e.loader)},storeWatch:(e,r,t)=>(e.watch.push({of:r,fn:t}),1),eventPrepend(e,r){r.seq.push(e.upward)},combineBase(e,r,t){e.plain.push(r,t)},combineField(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},splitBase(e,r){e.plain.push(r)},splitMatchStore(e,r,t){be(e.plain,r)||t.seq.unshift(e.loader)},sampleSource(e,r,t,a){r.current?be(e.plain,t)||be(e.closure,t)||e.closure.push(t):e.plain.push(t),e.plain.push(r),be(e.plain,a)||e.plain.push(a)},sampleTarget(e,r){r.seq.push(e.loader)},sampleSourceLoader:e=>e.loader,sampleSourceUpward:(e,r)=>r&&e.upward},pc=0,gc=0,k=null,ar=null;const Mr=(e,r)=>e.reg[r.id];let $e=null;const hc=["LF","using","element","recItem","rec","block","blockItem","route"];let Ot=w({named:"onMount"});Ot.watch(({fns:e,element:r})=>{e.forEach(t=>{t(r)})});const mc=[{type:"attr",field:"value"},{type:"attr",field:"checked"},{type:"attr",field:"min"},{type:"attr",field:"max"}],No={attr:zl,data:Ul,style:Gl,styleVar:Bl,classList:ql},Yr=e=>e.data.block.value;let Cn={using(e){let r=e.data;Ie(r.draft,{parentBlockFragment:r.block,leaf:e})},routeItem(e){let r=e.draft,t=e.data;t.block.visible=1,Ie(r,{parentBlockFragment:t.block,leaf:e})},block(e){Ie(e.draft,{parentBlockFragment:e.data.block,leaf:e})},blockItem(e){Pn({parentBlockFragment:e.data.block,leaf:e,actor:e.draft.itemOf})},rec(e){Ie(e.draft,{parentBlockFragment:e.data.block,leaf:e})},listItem(e){let r=e.data,t=r.block;t.visible=1,t.childInitialized=1,Ie(r.listDraft,{parentBlockFragment:t,leaf:e})}};function ue(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Et(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function ur(e,r){return bc(e)||Sc(e,r)||Yl(e,r)||xc()}function Xl(e){return yc(e)||$c(e)||Yl(e)||Ic()}function yc(e){if(Array.isArray(e))return an(e)}function bc(e){if(Array.isArray(e))return e}function $c(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sc(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a=[],n=!0,o=!1,i,l;try{for(t=t.call(e);!(n=(i=t.next()).done)&&(a.push(i.value),!(r&&a.length===r));n=!0);}catch(g){o=!0,l=g}finally{try{!n&&t.return!=null&&t.return()}finally{if(o)throw l}}return a}}function Yl(e,r){if(!!e){if(typeof e=="string")return an(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return an(e,r)}}function an(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Ic(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr=function(e){return e&&e.Math==Math&&e},M=Qr(typeof globalThis=="object"&&globalThis)||Qr(typeof window=="object"&&window)||Qr(typeof self=="object"&&self)||Qr(typeof Mo=="object"&&Mo)||function(){return this}()||Function("return this")(),An={},R=function(e){try{return!!e()}catch{return!0}},wc=R,z=!wc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Oc=R,Ft=!Oc(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Ec=Ft,Jr=Function.prototype.call,Q=Ec?Jr.bind(Jr):function(){return Jr.apply(Jr,arguments)},jn={},Ql={}.propertyIsEnumerable,Jl=Object.getOwnPropertyDescriptor,kc=Jl&&!Ql.call({1:2},1);jn.f=kc?function(r){var t=Jl(this,r);return!!t&&t.enumerable}:Ql;var Dt=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},Zl=Ft,es=Function.prototype,Tc=es.bind,nn=es.call,Pc=Zl&&Tc.bind(nn,nn),C=Zl?function(e){return e&&Pc(e)}:function(e){return e&&function(){return nn.apply(e,arguments)}},rs=C,Rc=rs({}.toString),_c=rs("".slice),Ke=function(e){return _c(Rc(e),8,-1)},Cc=C,Ac=R,jc=Ke,ca=Object,Fc=Cc("".split),ts=Ac(function(){return!ca("z").propertyIsEnumerable(0)})?function(e){return jc(e)=="String"?Fc(e,""):ca(e)}:ca,Dc=TypeError,fr=function(e){if(e==null)throw Dc("Can't call method on "+e);return e},Nc=ts,Mc=fr,Ve=function(e){return Nc(Mc(e))},F=function(e){return typeof e=="function"},Lc=F,J=function(e){return typeof e=="object"?e!==null:Lc(e)},fa=M,Bc=F,Gc=function(e){return Bc(e)?e:void 0},vr=function(e,r){return arguments.length<2?Gc(fa[e]):fa[e]&&fa[e][r]},qc=C,Fn=qc({}.isPrototypeOf),Uc=vr,zc=Uc("navigator","userAgent")||"",as=M,va=zc,Lo=as.process,Bo=as.Deno,Go=Lo&&Lo.versions||Bo&&Bo.version,qo=Go&&Go.v8,Z,kt;qo&&(Z=qo.split("."),kt=Z[0]>0&&Z[0]<4?1:+(Z[0]+Z[1]));!kt&&va&&(Z=va.match(/Edge\/(\d+)/),(!Z||Z[1]>=74)&&(Z=va.match(/Chrome\/(\d+)/),Z&&(kt=+Z[1])));var Dn=kt,Uo=Dn,Kc=R,ns=!!Object.getOwnPropertySymbols&&!Kc(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Uo&&Uo<41}),Vc=ns,os=Vc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Wc=vr,Hc=F,Xc=Fn,Yc=os,Qc=Object,is=Yc?function(e){return typeof e=="symbol"}:function(e){var r=Wc("Symbol");return Hc(r)&&Xc(r.prototype,Qc(e))},Jc=String,Nt=function(e){try{return Jc(e)}catch{return"Object"}},Zc=F,ef=Nt,rf=TypeError,Nn=function(e){if(Zc(e))return e;throw rf(ef(e)+" is not a function")},tf=Nn,dr=function(e,r){var t=e[r];return t==null?void 0:tf(t)},da=Q,pa=F,ga=J,af=TypeError,nf=function(e,r){var t,a;if(r==="string"&&pa(t=e.toString)&&!ga(a=da(t,e))||pa(t=e.valueOf)&&!ga(a=da(t,e))||r!=="string"&&pa(t=e.toString)&&!ga(a=da(t,e)))return a;throw af("Can't convert object to primitive value")},Mt={exports:{}},zo=M,of=Object.defineProperty,Mn=function(e,r){try{of(zo,e,{value:r,configurable:!0,writable:!0})}catch{zo[e]=r}return r},lf=M,sf=Mn,Ko="__core-js_shared__",uf=lf[Ko]||sf(Ko,{}),Ln=uf,Vo=Ln;(Mt.exports=function(e,r){return Vo[e]||(Vo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var cf=fr,ff=Object,Ur=function(e){return ff(cf(e))},vf=C,df=Ur,pf=vf({}.hasOwnProperty),ge=Object.hasOwn||function(r,t){return pf(df(r),t)},gf=C,hf=0,mf=Math.random(),yf=gf(1 .toString),Bn=function(e){return"Symbol("+(e===void 0?"":e)+")_"+yf(++hf+mf,36)},bf=M,$f=Mt.exports,Wo=ge,Sf=Bn,Ho=ns,ls=os,He=$f("wks"),Ne=bf.Symbol,Xo=Ne&&Ne.for,If=ls?Ne:Ne&&Ne.withoutSetter||Sf,D=function(e){if(!Wo(He,e)||!(Ho||typeof He[e]=="string")){var r="Symbol."+e;Ho&&Wo(Ne,e)?He[e]=Ne[e]:ls&&Xo?He[e]=Xo(r):He[e]=If(r)}return He[e]},xf=Q,Yo=J,Qo=is,wf=dr,Of=nf,Ef=D,kf=TypeError,Tf=Ef("toPrimitive"),Pf=function(e,r){if(!Yo(e)||Qo(e))return e;var t=wf(e,Tf),a;if(t){if(r===void 0&&(r="default"),a=xf(t,e,r),!Yo(a)||Qo(a))return a;throw kf("Can't convert object to primitive value")}return r===void 0&&(r="number"),Of(e,r)},Rf=Pf,_f=is,Gn=function(e){var r=Rf(e,"string");return _f(r)?r:r+""},Cf=M,Jo=J,on=Cf.document,Af=Jo(on)&&Jo(on.createElement),qn=function(e){return Af?on.createElement(e):{}},jf=z,Ff=R,Df=qn,ss=!jf&&!Ff(function(){return Object.defineProperty(Df("div"),"a",{get:function(){return 7}}).a!=7}),Nf=z,Mf=Q,Lf=jn,Bf=Dt,Gf=Ve,qf=Gn,Uf=ge,zf=ss,Zo=Object.getOwnPropertyDescriptor;An.f=Nf?Zo:function(r,t){if(r=Gf(r),t=qf(t),zf)try{return Zo(r,t)}catch{}if(Uf(r,t))return Bf(!Mf(Lf.f,r,t),r[t])};var K={},Kf=z,Vf=R,us=Kf&&Vf(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Wf=J,Hf=String,Xf=TypeError,G=function(e){if(Wf(e))return e;throw Xf(Hf(e)+" is not an object")},Yf=z,Qf=ss,Jf=us,Zr=G,ei=Gn,Zf=TypeError,ha=Object.defineProperty,ev=Object.getOwnPropertyDescriptor,ma="enumerable",ya="configurable",ba="writable";K.f=Yf?Jf?function(r,t,a){if(Zr(r),t=ei(t),Zr(a),typeof r=="function"&&t==="prototype"&&"value"in a&&ba in a&&!a[ba]){var n=ev(r,t);n&&n[ba]&&(r[t]=a.value,a={configurable:ya in a?a[ya]:n[ya],enumerable:ma in a?a[ma]:n[ma],writable:!1})}return ha(r,t,a)}:ha:function(r,t,a){if(Zr(r),t=ei(t),Zr(a),Qf)try{return ha(r,t,a)}catch{}if("get"in a||"set"in a)throw Zf("Accessors not supported");return"value"in a&&(r[t]=a.value),r};var rv=z,tv=K,av=Dt,pr=rv?function(e,r,t){return tv.f(e,r,av(1,t))}:function(e,r,t){return e[r]=t,e},cs={exports:{}},ln=z,nv=ge,fs=Function.prototype,ov=ln&&Object.getOwnPropertyDescriptor,Un=nv(fs,"name"),iv=Un&&function(){}.name==="something",lv=Un&&(!ln||ln&&ov(fs,"name").configurable),zn={EXISTS:Un,PROPER:iv,CONFIGURABLE:lv},sv=C,uv=F,sn=Ln,cv=sv(Function.toString);uv(sn.inspectSource)||(sn.inspectSource=function(e){return cv(e)});var Kn=sn.inspectSource,fv=M,vv=F,dv=Kn,ri=fv.WeakMap,pv=vv(ri)&&/native code/.test(dv(ri)),gv=Mt.exports,hv=Bn,ti=gv("keys"),Vn=function(e){return ti[e]||(ti[e]=hv(e))},Lt={},mv=pv,vs=M,$a=C,yv=J,bv=pr,Sa=ge,Ia=Ln,$v=Vn,Sv=Lt,ai="Object already initialized",un=vs.TypeError,Iv=vs.WeakMap,Tt,Lr,Pt,xv=function(e){return Pt(e)?Lr(e):Tt(e,{})},wv=function(e){return function(r){var t;if(!yv(r)||(t=Lr(r)).type!==e)throw un("Incompatible receiver, "+e+" required");return t}};if(mv||Ia.state){var je=Ia.state||(Ia.state=new Iv),Ov=$a(je.get),ni=$a(je.has),Ev=$a(je.set);Tt=function(e,r){if(ni(je,e))throw new un(ai);return r.facade=e,Ev(je,e,r),r},Lr=function(e){return Ov(je,e)||{}},Pt=function(e){return ni(je,e)}}else{var Xe=$v("state");Sv[Xe]=!0,Tt=function(e,r){if(Sa(e,Xe))throw new un(ai);return r.facade=e,bv(e,Xe,r),r},Lr=function(e){return Sa(e,Xe)?e[Xe]:{}},Pt=function(e){return Sa(e,Xe)}}var zr={set:Tt,get:Lr,has:Pt,enforce:xv,getterFor:wv},kv=R,Tv=F,et=ge,cn=z,Pv=zn.CONFIGURABLE,Rv=Kn,ds=zr,_v=ds.enforce,Cv=ds.get,st=Object.defineProperty,Av=cn&&!kv(function(){return st(function(){},"length",{value:8}).length!==8}),jv=String(String).split("String"),Fv=cs.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!et(e,"name")||Pv&&e.name!==r)&&(cn?st(e,"name",{value:r,configurable:!0}):e.name=r),Av&&t&&et(t,"arity")&&e.length!==t.arity&&st(e,"length",{value:t.arity});try{t&&et(t,"constructor")&&t.constructor?cn&&st(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=_v(e);return et(a,"source")||(a.source=jv.join(typeof r=="string"?r:"")),e};Function.prototype.toString=Fv(function(){return Tv(this)&&Cv(this).source||Rv(this)},"toString");var Dv=F,Nv=K,Mv=cs.exports,Lv=Mn,We=function(e,r,t,a){a||(a={});var n=a.enumerable,o=a.name!==void 0?a.name:r;if(Dv(t)&&Mv(t,o,a),a.global)n?e[r]=t:Lv(r,t);else{try{a.unsafe?e[r]&&(n=!0):delete e[r]}catch{}n?e[r]=t:Nv.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e},Bt={},Bv=Math.ceil,Gv=Math.floor,qv=Math.trunc||function(r){var t=+r;return(t>0?Gv:Bv)(t)},Uv=qv,Gt=function(e){var r=+e;return r!==r||r===0?0:Uv(r)},zv=Gt,Kv=Math.max,Vv=Math.min,ps=function(e,r){var t=zv(e);return t<0?Kv(t+r,0):Vv(t,r)},Wv=Gt,Hv=Math.min,qt=function(e){return e>0?Hv(Wv(e),9007199254740991):0},Xv=qt,Kr=function(e){return Xv(e.length)},Yv=Ve,Qv=ps,Jv=Kr,oi=function(e){return function(r,t,a){var n=Yv(r),o=Jv(n),i=Qv(a,o),l;if(e&&t!=t){for(;o>i;)if(l=n[i++],l!=l)return!0}else for(;o>i;i++)if((e||i in n)&&n[i]===t)return e||i||0;return!e&&-1}},Zv={includes:oi(!0),indexOf:oi(!1)},ed=C,xa=ge,rd=Ve,td=Zv.indexOf,ad=Lt,ii=ed([].push),gs=function(e,r){var t=rd(e),a=0,n=[],o;for(o in t)!xa(ad,o)&&xa(t,o)&&ii(n,o);for(;r.length>a;)xa(t,o=r[a++])&&(~td(n,o)||ii(n,o));return n},Wn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],nd=gs,od=Wn,id=od.concat("length","prototype");Bt.f=Object.getOwnPropertyNames||function(r){return nd(r,id)};var hs={};hs.f=Object.getOwnPropertySymbols;var ld=vr,sd=C,ud=Bt,cd=hs,fd=G,vd=sd([].concat),dd=ld("Reflect","ownKeys")||function(r){var t=ud.f(fd(r)),a=cd.f;return a?vd(t,a(r)):t},li=ge,pd=dd,gd=An,hd=K,md=function(e,r,t){for(var a=pd(r),n=hd.f,o=gd.f,i=0;i<a.length;i++){var l=a[i];!li(e,l)&&!(t&&li(t,l))&&n(e,l,o(r,l))}},yd=R,bd=F,$d=/#|\.prototype\./,Vr=function(e,r){var t=Id[Sd(e)];return t==wd?!0:t==xd?!1:bd(r)?yd(r):!!r},Sd=Vr.normalize=function(e){return String(e).replace($d,".").toLowerCase()},Id=Vr.data={},xd=Vr.NATIVE="N",wd=Vr.POLYFILL="P",ms=Vr,wa=M,Od=An.f,Ed=pr,kd=We,Td=Mn,Pd=md,Rd=ms,he=function(e,r){var t=e.target,a=e.global,n=e.stat,o,i,l,g,p,u;if(a?i=wa:n?i=wa[t]||Td(t,{}):i=(wa[t]||{}).prototype,i)for(l in r){if(p=r[l],e.dontCallGetSet?(u=Od(i,l),g=u&&u.value):g=i[l],o=Rd(a?l:t+(n?".":"#")+l,e.forced),!o&&g!==void 0){if(typeof p==typeof g)continue;Pd(p,g)}(e.sham||g&&g.sham)&&Ed(p,"sham",!0),kd(i,l,p,e)}},si=C,_d=Nn,Cd=Ft,Ad=si(si.bind),Hn=function(e,r){return _d(e),r===void 0?e:Cd?Ad(e,r):function(){return e.apply(r,arguments)}},jd=Ke,ys=Array.isArray||function(r){return jd(r)=="Array"},Fd=D,Dd=Fd("toStringTag"),bs={};bs[Dd]="z";var Xn=String(bs)==="[object z]",Nd=Xn,Md=F,ut=Ke,Ld=D,Bd=Ld("toStringTag"),Gd=Object,qd=ut(function(){return arguments}())=="Arguments",Ud=function(e,r){try{return e[r]}catch{}},Ut=Nd?ut:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=Ud(r=Gd(e),Bd))=="string"?t:qd?ut(r):(a=ut(r))=="Object"&&Md(r.callee)?"Arguments":a},zd=C,Kd=R,$s=F,Vd=Ut,Wd=vr,Hd=Kn,Ss=function(){},Xd=[],Is=Wd("Reflect","construct"),Yn=/^\s*(?:class|function)\b/,Yd=zd(Yn.exec),Qd=!Yn.exec(Ss),yr=function(r){if(!$s(r))return!1;try{return Is(Ss,Xd,r),!0}catch{return!1}},xs=function(r){if(!$s(r))return!1;switch(Vd(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Qd||!!Yd(Yn,Hd(r))}catch{return!0}};xs.sham=!0;var ws=!Is||Kd(function(){var e;return yr(yr.call)||!yr(Object)||!yr(function(){e=!0})||e})?xs:yr,ui=ys,Jd=ws,Zd=J,ep=D,rp=ep("species"),ci=Array,tp=function(e){var r;return ui(e)&&(r=e.constructor,Jd(r)&&(r===ci||ui(r.prototype))?r=void 0:Zd(r)&&(r=r[rp],r===null&&(r=void 0))),r===void 0?ci:r},ap=tp,Os=function(e,r){return new(ap(e))(r===0?0:r)},np=Hn,op=C,ip=ts,lp=Ur,sp=Kr,up=Os,fi=op([].push),Pe=function(e){var r=e==1,t=e==2,a=e==3,n=e==4,o=e==6,i=e==7,l=e==5||o;return function(g,p,u,v){for(var f=lp(g),s=ip(f),c=np(p,u),y=sp(s),h=0,d=v||up,m=r?d(g,y):t||i?d(g,0):void 0,b,$;y>h;h++)if((l||h in s)&&(b=s[h],$=c(b,h,f),e))if(r)m[h]=$;else if($)switch(e){case 3:return!0;case 5:return b;case 6:return h;case 2:fi(m,b)}else switch(e){case 4:return!1;case 7:fi(m,b)}return o?-1:a||n?n:m}},zt={forEach:Pe(0),map:Pe(1),filter:Pe(2),some:Pe(3),every:Pe(4),find:Pe(5),findIndex:Pe(6),filterReject:Pe(7)},cp=R,fp=D,vp=Dn,dp=fp("species"),Qn=function(e){return vp>=51||!cp(function(){var r=[],t=r.constructor={};return t[dp]=function(){return{foo:1}},r[e](Boolean).foo!==1})},pp=he,gp=zt.map,hp=Qn,mp=hp("map");pp({target:"Array",proto:!0,forced:!mp},{map:function(r){return gp(this,r,arguments.length>1?arguments[1]:void 0)}});var Es={},yp=gs,bp=Wn,ks=Object.keys||function(r){return yp(r,bp)},$p=z,Sp=us,Ip=K,xp=G,wp=Ve,Op=ks;Es.f=$p&&!Sp?Object.defineProperties:function(r,t){xp(r);for(var a=wp(t),n=Op(t),o=n.length,i=0,l;o>i;)Ip.f(r,l=n[i++],a[l]);return r};var Ep=vr,kp=Ep("document","documentElement"),Tp=G,Pp=Es,vi=Wn,Rp=Lt,_p=kp,Cp=qn,Ap=Vn,di=">",pi="<",fn="prototype",vn="script",Ts=Ap("IE_PROTO"),Oa=function(){},Ps=function(e){return pi+vn+di+e+pi+"/"+vn+di},gi=function(e){e.write(Ps("")),e.close();var r=e.parentWindow.Object;return e=null,r},jp=function(){var e=Cp("iframe"),r="java"+vn+":",t;return e.style.display="none",_p.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Ps("document.F=Object")),t.close(),t.F},rt,ct=function(){try{rt=new ActiveXObject("htmlfile")}catch{}ct=typeof document<"u"?document.domain&&rt?gi(rt):jp():gi(rt);for(var e=vi.length;e--;)delete ct[fn][vi[e]];return ct()};Rp[Ts]=!0;var Kt=Object.create||function(r,t){var a;return r!==null?(Oa[fn]=Tp(r),a=new Oa,Oa[fn]=null,a[Ts]=r):a=ct(),t===void 0?a:Pp.f(a,t)},Fp=D,Dp=Kt,Np=K.f,dn=Fp("unscopables"),pn=Array.prototype;pn[dn]==null&&Np(pn,dn,{configurable:!0,value:Dp(null)});var Rs=function(e){pn[dn][e]=!0},Wr={},Mp=R,Lp=!Mp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Bp=ge,Gp=F,qp=Ur,Up=Vn,zp=Lp,hi=Up("IE_PROTO"),gn=Object,Kp=gn.prototype,_s=zp?gn.getPrototypeOf:function(e){var r=qp(e);if(Bp(r,hi))return r[hi];var t=r.constructor;return Gp(t)&&r instanceof t?t.prototype:r instanceof gn?Kp:null},Vp=R,Wp=F,mi=_s,Hp=We,Xp=D,hn=Xp("iterator"),Cs=!1,qe,Ea,ka;[].keys&&(ka=[].keys(),"next"in ka?(Ea=mi(mi(ka)),Ea!==Object.prototype&&(qe=Ea)):Cs=!0);var Yp=qe==null||Vp(function(){var e={};return qe[hn].call(e)!==e});Yp&&(qe={});Wp(qe[hn])||Hp(qe,hn,function(){return this});var As={IteratorPrototype:qe,BUGGY_SAFARI_ITERATORS:Cs},Qp=K.f,Jp=ge,Zp=D,yi=Zp("toStringTag"),Jn=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Jp(e,yi)&&Qp(e,yi,{configurable:!0,value:r})},eg=As.IteratorPrototype,rg=Kt,tg=Dt,ag=Jn,ng=Wr,og=function(){return this},ig=function(e,r,t,a){var n=r+" Iterator";return e.prototype=rg(eg,{next:tg(+!a,t)}),ag(e,n,!1),ng[n]=og,e},lg=F,sg=String,ug=TypeError,cg=function(e){if(typeof e=="object"||lg(e))return e;throw ug("Can't set "+sg(e)+" as a prototype")},fg=C,vg=G,dg=cg,js=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=fg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return function(n,o){return vg(n),dg(o),e?t(n,o):n.__proto__=o,n}}():void 0),pg=he,gg=Q,Fs=zn,hg=F,mg=ig,bi=_s,$i=js,yg=Jn,bg=pr,Ta=We,$g=D,Sg=Wr,Ds=As,Ig=Fs.PROPER,xg=Fs.CONFIGURABLE,Si=Ds.IteratorPrototype,tt=Ds.BUGGY_SAFARI_ITERATORS,br=$g("iterator"),Ii="keys",$r="values",xi="entries",wg=function(){return this},Zn=function(e,r,t,a,n,o,i){mg(t,r,a);var l=function(d){if(d===n&&f)return f;if(!tt&&d in u)return u[d];switch(d){case Ii:return function(){return new t(this,d)};case $r:return function(){return new t(this,d)};case xi:return function(){return new t(this,d)}}return function(){return new t(this)}},g=r+" Iterator",p=!1,u=e.prototype,v=u[br]||u["@@iterator"]||n&&u[n],f=!tt&&v||l(n),s=r=="Array"&&u.entries||v,c,y,h;if(s&&(c=bi(s.call(new e)),c!==Object.prototype&&c.next&&(bi(c)!==Si&&($i?$i(c,Si):hg(c[br])||Ta(c,br,wg)),yg(c,g,!0))),Ig&&n==$r&&v&&v.name!==$r&&(xg?bg(u,"name",$r):(p=!0,f=function(){return gg(v,this)})),n)if(y={values:l($r),keys:o?f:l(Ii),entries:l(xi)},i)for(h in y)(tt||p||!(h in u))&&Ta(u,h,y[h]);else pg({target:r,proto:!0,forced:tt||p},y);return u[br]!==f&&Ta(u,br,f,{name:n}),Sg[r]=f,y},Og=Ve,eo=Rs,wi=Wr,Ns=zr,Eg=K.f,kg=Zn,Tg=z,Ms="Array Iterator",Pg=Ns.set,Rg=Ns.getterFor(Ms),_g=kg(Array,"Array",function(e,r){Pg(this,{type:Ms,target:Og(e),index:0,kind:r})},function(){var e=Rg(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:a,done:!1}:t=="values"?{value:r[a],done:!1}:{value:[a,r[a]],done:!1}},"values"),Oi=wi.Arguments=wi.Array;eo("keys");eo("values");eo("entries");if(Tg&&Oi.name!=="values")try{Eg(Oi,"name",{value:"values"})}catch{}var ro={exports:{}},Ls={},Cg=Gn,Ag=K,jg=Dt,Bs=function(e,r,t){var a=Cg(r);a in e?Ag.f(e,a,jg(0,t)):e[a]=t},Ei=ps,Fg=Kr,Dg=Bs,Ng=Array,Mg=Math.max,Gs=function(e,r,t){for(var a=Fg(e),n=Ei(r,a),o=Ei(t===void 0?a:t,a),i=Ng(Mg(o-n,0)),l=0;n<o;n++,l++)Dg(i,l,e[n]);return i.length=l,i},Lg=Ke,Bg=Ve,qs=Bt.f,Gg=Gs,Us=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qg=function(e){try{return qs(e)}catch{return Gg(Us)}};Ls.f=function(r){return Us&&Lg(r)=="Window"?qg(r):qs(Bg(r))};var Ug=R,zg=Ug(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Kg=R,Vg=J,Wg=Ke,ki=zg,ft=Object.isExtensible,Hg=Kg(function(){ft(1)}),Xg=Hg||ki?function(r){return!Vg(r)||ki&&Wg(r)=="ArrayBuffer"?!1:ft?ft(r):!0}:ft,Yg=R,Qg=!Yg(function(){return Object.isExtensible(Object.preventExtensions({}))}),Jg=he,Zg=C,eh=Lt,rh=J,to=ge,th=K.f,Ti=Bt,ah=Ls,ao=Xg,nh=Bn,oh=Qg,zs=!1,Oe=nh("meta"),ih=0,no=function(e){th(e,Oe,{value:{objectID:"O"+ih++,weakData:{}}})},lh=function(e,r){if(!rh(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!to(e,Oe)){if(!ao(e))return"F";if(!r)return"E";no(e)}return e[Oe].objectID},sh=function(e,r){if(!to(e,Oe)){if(!ao(e))return!0;if(!r)return!1;no(e)}return e[Oe].weakData},uh=function(e){return oh&&zs&&ao(e)&&!to(e,Oe)&&no(e),e},ch=function(){fh.enable=function(){},zs=!0;var e=Ti.f,r=Zg([].splice),t={};t[Oe]=1,e(t).length&&(Ti.f=function(a){for(var n=e(a),o=0,i=n.length;o<i;o++)if(n[o]===Oe){r(n,o,1);break}return n},Jg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ah.f}))},fh=ro.exports={enable:ch,fastKey:lh,getWeakData:sh,onFreeze:uh};eh[Oe]=!0;var vh=D,dh=Wr,ph=vh("iterator"),gh=Array.prototype,hh=function(e){return e!==void 0&&(dh.Array===e||gh[ph]===e)},mh=Ut,Pi=dr,yh=Wr,bh=D,$h=bh("iterator"),Ks=function(e){if(e!=null)return Pi(e,$h)||Pi(e,"@@iterator")||yh[mh(e)]},Sh=Q,Ih=Nn,xh=G,wh=Nt,Oh=Ks,Eh=TypeError,kh=function(e,r){var t=arguments.length<2?Oh(e):r;if(Ih(t))return xh(Sh(t,e));throw Eh(wh(e)+" is not iterable")},Th=Q,Ri=G,Ph=dr,Rh=function(e,r,t){var a,n;Ri(e);try{if(a=Ph(e,"return"),!a){if(r==="throw")throw t;return t}a=Th(a,e)}catch(o){n=!0,a=o}if(r==="throw")throw t;if(n)throw a;return Ri(a),t},_h=Hn,Ch=Q,Ah=G,jh=Nt,Fh=hh,Dh=Kr,_i=Fn,Nh=kh,Mh=Ks,Ci=Rh,Lh=TypeError,vt=function(e,r){this.stopped=e,this.result=r},Ai=vt.prototype,Vs=function(e,r,t){var a=t&&t.that,n=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),l=!!(t&&t.INTERRUPTED),g=_h(r,a),p,u,v,f,s,c,y,h=function(m){return p&&Ci(p,"normal",m),new vt(!0,m)},d=function(m){return n?(Ah(m),l?g(m[0],m[1],h):g(m[0],m[1])):l?g(m,h):g(m)};if(o)p=e.iterator;else if(i)p=e;else{if(u=Mh(e),!u)throw Lh(jh(e)+" is not iterable");if(Fh(u)){for(v=0,f=Dh(e);f>v;v++)if(s=d(e[v]),s&&_i(Ai,s))return s;return new vt(!1)}p=Nh(e,u)}for(c=o?e.next:p.next;!(y=Ch(c,p)).done;){try{s=d(y.value)}catch(m){Ci(p,"throw",m)}if(typeof s=="object"&&s&&_i(Ai,s))return s}return new vt(!1)},Bh=Fn,Gh=TypeError,Ws=function(e,r){if(Bh(r,e))return e;throw Gh("Incorrect invocation")},qh=D,Hs=qh("iterator"),Xs=!1;try{var Uh=0,ji={next:function(){return{done:!!Uh++}},return:function(){Xs=!0}};ji[Hs]=function(){return this},Array.from(ji,function(){throw 2})}catch{}var zh=function(e,r){if(!r&&!Xs)return!1;var t=!1;try{var a={};a[Hs]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t},Kh=F,Vh=J,Fi=js,Wh=function(e,r,t){var a,n;return Fi&&Kh(a=r.constructor)&&a!==t&&Vh(n=a.prototype)&&n!==t.prototype&&Fi(e,n),e},Hh=he,Xh=M,Yh=C,Di=ms,Qh=We,Jh=ro.exports,Zh=Vs,em=Ws,rm=F,Pa=J,Ra=R,tm=zh,am=Jn,nm=Wh,om=function(e,r,t){var a=e.indexOf("Map")!==-1,n=e.indexOf("Weak")!==-1,o=a?"set":"add",i=Xh[e],l=i&&i.prototype,g=i,p={},u=function(d){var m=Yh(l[d]);Qh(l,d,d=="add"?function($){return m(this,$===0?0:$),this}:d=="delete"?function(b){return n&&!Pa(b)?!1:m(this,b===0?0:b)}:d=="get"?function($){return n&&!Pa($)?void 0:m(this,$===0?0:$)}:d=="has"?function($){return n&&!Pa($)?!1:m(this,$===0?0:$)}:function($,S){return m(this,$===0?0:$,S),this})},v=Di(e,!rm(i)||!(n||l.forEach&&!Ra(function(){new i().entries().next()})));if(v)g=t.getConstructor(r,e,a,o),Jh.enable();else if(Di(e,!0)){var f=new g,s=f[o](n?{}:-0,1)!=f,c=Ra(function(){f.has(1)}),y=tm(function(d){new i(d)}),h=!n&&Ra(function(){for(var d=new i,m=5;m--;)d[o](m,m);return!d.has(-0)});y||(g=r(function(d,m){em(d,l);var b=nm(new i,d,g);return m!=null&&Zh(m,b[o],{that:b,AS_ENTRIES:a}),b}),g.prototype=l,l.constructor=g),(c||h)&&(u("delete"),u("has"),a&&u("get")),(h||s)&&u(o),n&&l.clear&&delete l.clear}return p[e]=g,Hh({global:!0,constructor:!0,forced:g!=i},p),am(g,e),n||t.setStrong(g,e,a),g},im=We,lm=function(e,r,t){for(var a in r)im(e,a,r[a],t);return e},sm=vr,um=K,cm=D,fm=z,Ni=cm("species"),vm=function(e){var r=sm(e),t=um.f;fm&&r&&!r[Ni]&&t(r,Ni,{configurable:!0,get:function(){return this}})},dm=K.f,pm=Kt,Mi=lm,gm=Hn,hm=Ws,mm=Vs,ym=Zn,bm=vm,Sr=z,Li=ro.exports.fastKey,Ys=zr,Bi=Ys.set,_a=Ys.getterFor,$m={getConstructor:function(e,r,t,a){var n=e(function(p,u){hm(p,o),Bi(p,{type:r,index:pm(null),first:void 0,last:void 0,size:0}),Sr||(p.size=0),u!=null&&mm(u,p[a],{that:p,AS_ENTRIES:t})}),o=n.prototype,i=_a(r),l=function(p,u,v){var f=i(p),s=g(p,u),c,y;return s?s.value=v:(f.last=s={index:y=Li(u,!0),key:u,value:v,previous:c=f.last,next:void 0,removed:!1},f.first||(f.first=s),c&&(c.next=s),Sr?f.size++:p.size++,y!=="F"&&(f.index[y]=s)),p},g=function(p,u){var v=i(p),f=Li(u),s;if(f!=="F")return v.index[f];for(s=v.first;s;s=s.next)if(s.key==u)return s};return Mi(o,{clear:function(){for(var u=this,v=i(u),f=v.index,s=v.first;s;)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete f[s.index],s=s.next;v.first=v.last=void 0,Sr?v.size=0:u.size=0},delete:function(p){var u=this,v=i(u),f=g(u,p);if(f){var s=f.next,c=f.previous;delete v.index[f.index],f.removed=!0,c&&(c.next=s),s&&(s.previous=c),v.first==f&&(v.first=s),v.last==f&&(v.last=c),Sr?v.size--:u.size--}return!!f},forEach:function(u){for(var v=i(this),f=gm(u,arguments.length>1?arguments[1]:void 0),s;s=s?s.next:v.first;)for(f(s.value,s.key,this);s&&s.removed;)s=s.previous},has:function(u){return!!g(this,u)}}),Mi(o,t?{get:function(u){var v=g(this,u);return v&&v.value},set:function(u,v){return l(this,u===0?0:u,v)}}:{add:function(u){return l(this,u=u===0?0:u,u)}}),Sr&&dm(o,"size",{get:function(){return i(this).size}}),n},setStrong:function(e,r,t){var a=r+" Iterator",n=_a(r),o=_a(a);ym(e,r,function(i,l){Bi(this,{type:a,target:i,state:n(i),kind:l,last:void 0})},function(){for(var i=o(this),l=i.kind,g=i.last;g&&g.removed;)g=g.previous;return!i.target||!(i.last=g=g?g.next:i.state.first)?(i.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:g.key,done:!1}:l=="values"?{value:g.value,done:!1}:{value:[g.key,g.value],done:!1}},t?"entries":"values",!t,!0),bm(r)}},Sm=om,Im=$m;Sm("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Im);var xm=Xn,wm=Ut,Om=xm?{}.toString:function(){return"[object "+wm(this)+"]"},Em=Xn,km=We,Tm=Om;Em||km(Object.prototype,"toString",Tm,{unsafe:!0});var Pm=Ut,Rm=String,gr=function(e){if(Pm(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Rm(e)},oo=C,_m=Gt,Cm=gr,Am=fr,jm=oo("".charAt),Gi=oo("".charCodeAt),Fm=oo("".slice),qi=function(e){return function(r,t){var a=Cm(Am(r)),n=_m(t),o=a.length,i,l;return n<0||n>=o?e?"":void 0:(i=Gi(a,n),i<55296||i>56319||n+1===o||(l=Gi(a,n+1))<56320||l>57343?e?jm(a,n):i:e?Fm(a,n,n+2):(i-55296<<10)+(l-56320)+65536)}},Qs={codeAt:qi(!1),charAt:qi(!0)},Dm=Qs.charAt,Nm=gr,Js=zr,Mm=Zn,Zs="String Iterator",Lm=Js.set,Bm=Js.getterFor(Zs);Mm(String,"String",function(e){Lm(this,{type:Zs,string:Nm(e),index:0})},function(){var r=Bm(this),t=r.string,a=r.index,n;return a>=t.length?{value:void 0,done:!0}:(n=Dm(t,a),r.index+=n.length,{value:n,done:!1})});var eu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Gm=qn,Ca=Gm("span").classList,Ui=Ca&&Ca.constructor&&Ca.constructor.prototype,ru=Ui===Object.prototype?void 0:Ui,zi=M,tu=eu,qm=ru,Er=_g,Aa=pr,au=D,ja=au("iterator"),Ki=au("toStringTag"),Fa=Er.values,nu=function(e,r){if(e){if(e[ja]!==Fa)try{Aa(e,ja,Fa)}catch{e[ja]=Fa}if(e[Ki]||Aa(e,Ki,r),tu[r]){for(var t in Er)if(e[t]!==Er[t])try{Aa(e,t,Er[t])}catch{e[t]=Er[t]}}}};for(var Da in tu)nu(zi[Da]&&zi[Da].prototype,Da);nu(qm,"DOMTokenList");var Um=R,zm=function(e,r){var t=[][e];return!!t&&Um(function(){t.call(null,r||function(){return 1},1)})},Km=zt.forEach,Vm=zm,Wm=Vm("forEach"),ou=Wm?[].forEach:function(r){return Km(this,r,arguments.length>1?arguments[1]:void 0)},Hm=he,Vi=ou;Hm({target:"Array",proto:!0,forced:[].forEach!=Vi},{forEach:Vi});var Wi=M,Hi=eu,Xm=ru,Na=ou,Ym=pr,iu=function(e){if(e&&e.forEach!==Na)try{Ym(e,"forEach",Na)}catch{e.forEach=Na}};for(var Ma in Hi)Hi[Ma]&&iu(Wi[Ma]&&Wi[Ma].prototype);iu(Xm);var Qm=z,lu=C,Jm=ks,Zm=Ve,ey=jn.f,ry=lu(ey),ty=lu([].push),Xi=function(e){return function(r){for(var t=Zm(r),a=Jm(t),n=a.length,o=0,i=[],l;n>o;)l=a[o++],(!Qm||ry(t,l))&&ty(i,e?[l,t[l]]:t[l]);return i}},ay={entries:Xi(!0),values:Xi(!1)},ny=he,oy=ay.entries;ny({target:"Object",stat:!0},{entries:function(r){return oy(r)}});var iy=TypeError,ly=9007199254740991,sy=function(e){if(e>ly)throw iy("Maximum allowed index exceeded");return e},uy=he,cy=R,fy=ys,vy=J,dy=Ur,py=Kr,Yi=sy,Qi=Bs,gy=Os,hy=Qn,my=D,yy=Dn,su=my("isConcatSpreadable"),by=yy>=51||!cy(function(){var e=[];return e[su]=!1,e.concat()[0]!==e}),$y=hy("concat"),Sy=function(e){if(!vy(e))return!1;var r=e[su];return r!==void 0?!!r:fy(e)},Iy=!by||!$y;uy({target:"Array",proto:!0,arity:1,forced:Iy},{concat:function(r){var t=dy(this),a=gy(t,0),n=0,o,i,l,g,p;for(o=-1,l=arguments.length;o<l;o++)if(p=o===-1?t:arguments[o],Sy(p))for(g=py(p),Yi(n+g),i=0;i<g;i++,n++)i in p&&Qi(a,n,p[i]);else Yi(n+1),Qi(a,n++,p);return a.length=n,a}});var xy=G,wy=function(){var e=xy(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},io=R,Oy=M,lo=Oy.RegExp,so=io(function(){var e=lo("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Ey=so||io(function(){return!lo("a","y").sticky}),ky=so||io(function(){var e=lo("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),uu={BROKEN_CARET:ky,MISSED_STICKY:Ey,UNSUPPORTED_Y:so},Ty=R,Py=M,Ry=Py.RegExp,_y=Ty(function(){var e=Ry(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Cy=R,Ay=M,jy=Ay.RegExp,Fy=Cy(function(){var e=jy("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),tr=Q,Vt=C,Dy=gr,Ny=wy,My=uu,Ly=Mt.exports,By=Kt,Gy=zr.get,qy=_y,Uy=Fy,zy=Ly("native-string-replace",String.prototype.replace),Rt=RegExp.prototype.exec,mn=Rt,Ky=Vt("".charAt),Vy=Vt("".indexOf),Wy=Vt("".replace),La=Vt("".slice),yn=function(){var e=/a/,r=/b*/g;return tr(Rt,e,"a"),tr(Rt,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),cu=My.BROKEN_CARET,bn=/()??/.exec("")[1]!==void 0,Hy=yn||bn||cu||qy||Uy;Hy&&(mn=function(r){var t=this,a=Gy(t),n=Dy(r),o=a.raw,i,l,g,p,u,v,f;if(o)return o.lastIndex=t.lastIndex,i=tr(mn,o,n),t.lastIndex=o.lastIndex,i;var s=a.groups,c=cu&&t.sticky,y=tr(Ny,t),h=t.source,d=0,m=n;if(c&&(y=Wy(y,"y",""),Vy(y,"g")===-1&&(y+="g"),m=La(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&Ky(n,t.lastIndex-1)!==`
`)&&(h="(?: "+h+")",m=" "+m,d++),l=new RegExp("^(?:"+h+")",y)),bn&&(l=new RegExp("^"+h+"$(?!\\s)",y)),yn&&(g=t.lastIndex),p=tr(Rt,c?l:t,m),c?p?(p.input=La(p.input,d),p[0]=La(p[0],d),p.index=t.lastIndex,t.lastIndex+=p[0].length):t.lastIndex=0:yn&&p&&(t.lastIndex=t.global?p.index+p[0].length:g),bn&&p&&p.length>1&&tr(zy,p[0],l,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(p[u]=void 0)}),p&&s)for(p.groups=v=By(null),u=0;u<s.length;u++)f=s[u],v[f[0]]=p[f[1]];return p});var Wt=mn,Xy=he,Ji=Wt;Xy({target:"RegExp",proto:!0,forced:/./.exec!==Ji},{exec:Ji});var Yy=Ft,fu=Function.prototype,Zi=fu.apply,el=fu.call,vu=typeof Reflect=="object"&&Reflect.apply||(Yy?el.bind(Zi):function(){return el.apply(Zi,arguments)}),rl=C,tl=We,Qy=Wt,al=R,du=D,Jy=pr,Zy=du("species"),Ba=RegExp.prototype,uo=function(e,r,t,a){var n=du(e),o=!al(function(){var p={};return p[n]=function(){return 7},""[e](p)!=7}),i=o&&!al(function(){var p=!1,u=/a/;return e==="split"&&(u={},u.constructor={},u.constructor[Zy]=function(){return u},u.flags="",u[n]=/./[n]),u.exec=function(){return p=!0,null},u[n](""),!p});if(!o||!i||t){var l=rl(/./[n]),g=r(n,""[e],function(p,u,v,f,s){var c=rl(p),y=u.exec;return y===Qy||y===Ba.exec?o&&!s?{done:!0,value:l(u,v,f)}:{done:!0,value:c(v,u,f)}:{done:!1}});tl(String.prototype,e,g[0]),tl(Ba,n,g[1])}a&&Jy(Ba[n],"sham",!0)},eb=J,rb=Ke,tb=D,ab=tb("match"),nb=function(e){var r;return eb(e)&&((r=e[ab])!==void 0?!!r:rb(e)=="RegExp")},ob=ws,ib=Nt,lb=TypeError,sb=function(e){if(ob(e))return e;throw lb(ib(e)+" is not a constructor")},nl=G,ub=sb,cb=D,fb=cb("species"),vb=function(e,r){var t=nl(e).constructor,a;return t===void 0||(a=nl(t)[fb])==null?r:ub(a)},db=Qs.charAt,co=function(e,r,t){return r+(t?db(e,r).length:1)},ol=Q,pb=G,gb=F,hb=Ke,mb=Wt,yb=TypeError,fo=function(e,r){var t=e.exec;if(gb(t)){var a=ol(t,e,r);return a!==null&&pb(a),a}if(hb(e)==="RegExp")return ol(mb,e,r);throw yb("RegExp#exec called on incompatible receiver")},bb=vu,Ir=Q,vo=C,$b=uo,Sb=nb,Ib=G,il=fr,xb=vb,wb=co,Ob=qt,Ga=gr,Eb=dr,ll=Gs,sl=fo,kb=Wt,Tb=uu,Pb=R,Ye=Tb.UNSUPPORTED_Y,ul=4294967295,Rb=Math.min,pu=[].push,_b=vo(/./.exec),Qe=vo(pu),xr=vo("".slice),Cb=!Pb(function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return t.length!==2||t[0]!=="a"||t[1]!=="b"});$b("split",function(e,r,t){var a;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?a=function(n,o){var i=Ga(il(this)),l=o===void 0?ul:o>>>0;if(l===0)return[];if(n===void 0)return[i];if(!Sb(n))return Ir(r,i,n,l);for(var g=[],p=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),u=0,v=new RegExp(n.source,p+"g"),f,s,c;(f=Ir(kb,v,i))&&(s=v.lastIndex,!(s>u&&(Qe(g,xr(i,u,f.index)),f.length>1&&f.index<i.length&&bb(pu,g,ll(f,1)),c=f[0].length,u=s,g.length>=l)));)v.lastIndex===f.index&&v.lastIndex++;return u===i.length?(c||!_b(v,""))&&Qe(g,""):Qe(g,xr(i,u)),g.length>l?ll(g,0,l):g}:"0".split(void 0,0).length?a=function(n,o){return n===void 0&&o===0?[]:Ir(r,this,n,o)}:a=r,[function(o,i){var l=il(this),g=o==null?void 0:Eb(o,e);return g?Ir(g,o,l,i):Ir(a,Ga(l),o,i)},function(n,o){var i=Ib(this),l=Ga(n),g=t(a,i,l,o,a!==r);if(g.done)return g.value;var p=xb(i,RegExp),u=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Ye?"g":"y"),f=new p(Ye?"^(?:"+i.source+")":i,v),s=o===void 0?ul:o>>>0;if(s===0)return[];if(l.length===0)return sl(f,l)===null?[l]:[];for(var c=0,y=0,h=[];y<l.length;){f.lastIndex=Ye?0:y;var d=sl(f,Ye?xr(l,y):l),m;if(d===null||(m=Rb(Ob(f.lastIndex+(Ye?y:0)),l.length))===c)y=wb(l,y,u);else{if(Qe(h,xr(l,c,y)),h.length===s)return h;for(var b=1;b<=d.length-1;b++)if(Qe(h,d[b]),h.length===s)return h;y=c=m}}return Qe(h,xr(l,c)),h}]},!Cb,Ye);var Ab=z,jb=zn.EXISTS,gu=C,Fb=K.f,hu=Function.prototype,Db=gu(hu.toString),mu=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Nb=gu(mu.exec),Mb="name";Ab&&!jb&&Fb(hu,Mb,{configurable:!0,get:function(){try{return Nb(mu,Db(this))[1]}catch{return""}}});function cl(e){var r=new Map,t=new Map;return e.forEach(function(a,n){Lb(t,n,a)}),t.forEach(function(a,n){var o=ur(a,2),i=o[0],l=o[1],g=e.get(n)||0;g&&i+l<2||g&&i+l>3||(!g&&i+l==3?r.set(n,i>l?1:2):g&&r.set(n,g))}),r}function Lb(e,r,t){var a=yu(r),n=ur(a,2),o=n[0],i=n[1],l=["".concat(o-1,"|").concat(i-1),"".concat(o-1,"|").concat(i),"".concat(o-1,"|").concat(i+1),"".concat(o,"|").concat(i-1),"".concat(o,"|").concat(i+1),"".concat(o+1,"|").concat(i-1),"".concat(o+1,"|").concat(i),"".concat(o+1,"|").concat(i+1)];return l.forEach(function(g){e.has(g)||e.set(g,[0,0]);var p=e.get(g),u=ur(p,2),v=u[0],f=u[1];t===1?e.set(g,[v+1,f]):e.set(g,[v,f+1])}),e}function yu(e){var r=e.split("|"),t=ur(r,2),a=t[0],n=t[1];return[+a,+n]}function Bb(e){var r=ur(e,2),t=r[0],a=r[1];return"".concat(t,"|").concat(a)}function bu(e,r){var t=Math.floor(e.clientY/r),a=Math.floor(e.clientX/r);return{row:t,col:a,shift:e.shiftKey}}function Gb(e){return""}function qb(e){var r=e.map(function(t){var a=t.name,n=t.fauna,o=Xl(n.entries());return{fauna:o,name:a}});localStorage.setItem("history",JSON.stringify(r))}function Ub(){try{var e=JSON.parse(localStorage.getItem("history")||"null")||[],r=e.map(function(t){var a=t.fauna,n=t.name,o=new Map(a);return{fauna:o,name:n}});return r}catch(t){return console.error(t),[]}}function zb(){return{width:window.visualViewport.width,height:window.visualViewport.height}}var $u="#5583e5",Su="#79e555",Iu=[5,10,20,30,40],Kb=Iu[2],fl=zb();function Vb(){var e=T(Iu,{name:"$options",sid:"jcy7nx"}),r=T(Kb,{name:"$cellSize",sid:"eeiscj"}),t=r.map(function(o){return{height:Math.ceil(fl.height/o),width:Math.ceil(fl.width/o)}}),a=w({name:"cellSizeChanged",sid:"-ub9olw"});r.on(a,function(o,i){return i});var n={$options:e,$cellSize:r,$fieldSize:t,cellSizeChanged:a};return n}var re=Vb(),Ue=T(new Map,{name:"$fauna",sid:"lj86j"}),po=T({col:0,row:0},{name:"$focus",sid:"-5z182z"}),kr=w({name:"moveFocus",sid:"-7r51ss"}),xu=w({name:"resetFocus",sid:"dj1sx0"}),jr=T(1,{name:"$selectedColor",sid:"e4myg5"}),dt=w({name:"colorSelected",sid:"dhuxmf"});jr.on(dt,function(e,r){return r});var wu=w({name:"toggleCell",sid:"-jamk2o"}),Ou=w({name:"saveClicked",sid:"s57216"}),Ht=w({name:"resetFieldPressed",sid:"avsh8h"}),Eu=T({row:0,col:0,shift:!1},{and:{updateFilter:function(r,t){return!(r.row===t.row&&r.col===t.col&&r.shift===t.shift)}},name:"$hoveredCell",sid:"vbbqm0"}),ku=w({name:"fieldMouseMove",sid:"-8e640v"}),Tu=_e({and:[re.$fieldSize,Ue,po,function(e,r,t){var a=e.width,n=e.height,o=[];return r.forEach(function(i,l){var g=yu(l),p=ur(g,2),u=p[0],v=p[1],f=Math.ceil(u+t.col),s=Math.ceil(v+t.row);f>=0&&f<a&&s>=0&&s<n&&o.push({col:f,row:s,val:i})}),o}],or:{name:"$field",sid:"-2og90d"}}),Wb=_e({and:[Tu,re.$cellSize,function(e,r){return e.map(function(t){var a=t.val,n=t.col,o=t.row;return{val:a,y:o*r+"px",x:n*r+"px"}})}],or:{name:"$viewField",sid:"-3i7owv"}}),vl=_e({and:[Eu,re.$cellSize,function(e,r){var t=e.col,a=e.row;return{y:a*r+"px",x:t*r+"px"}}],or:{name:"$viewHoveredCell",sid:"kpxd55"}});Ue.on(Ht,function(){return new Map});po.on(kr,function(e,r){return{col:e.col+(r.col||0),row:e.row+(r.row||0)}}).reset(xu);A({and:[{source:re.$cellSize,clock:ku,fn:function(r,t){return bu(t,r)},target:Eu}],or:{sid:"c7iejx"}});A({and:[{source:{fauna:Ue,color:jr,focus:po},clock:wu,fn:function(r,t){var a=r.color,n=r.fauna,o=r.focus,i=t.col,l=t.row,g=t.shift,p=new Map(n),u=i-o.col,v=l-o.row,f=Bb([u,v]);return g?p.set(f,a):p.get(f)===a?p.delete(f):p.set(f,a),p},target:Ue}],or:{sid:"cngfre"}});var go=T(!0,{name:"$isElsaMode",sid:"tm3zua"}),Pu=w({name:"setElsaMode",sid:"-w6u9c3"});go.on(Pu,function(e,r){return r});function Hb(e){O("select",function(){de({handler:{change:e.onChange}}),_n(e.options,function(r){var t=r.store;O("option",{attr:{value:t.map(function(a){return a.value}),selected:_e({and:[t,e.value,function(a,n){return a.value===n}],or:{name:"selected",sid:"-olen3j"}})},text:t.map(function(a){return a.label})})})})}function Xb(e){O("label",{text:e.label,fn:function(){O("input",{attr:{type:"checkbox",checked:e.value},handler:{change:e.onChange.prepend(function(t){return t.target.checked})}})}})}const Yb="_history_iy2lc_1",Qb="_colorBtn_iy2lc_7",Jb="_currentColor_iy2lc_14",Zb="_arrowBtn_iy2lc_18",V={history:Yb,colorBtn:Qb,currentColor:Jb,arrowBtn:Zb};function e$(){Xb({label:"Elsa",value:go,onChange:Pu}),O("div",{style:{display:"flex",gap:"8px"},fn:function(){var r,t,a;O("button",{classList:(r={},ue(r,V.colorBtn,!0),ue(r,V.currentColor,jr.map(function(n){return n===1})),r),style:{backgroundColor:$u},handler:{click:dt.prepend(function(){return 1})}}),O("button",{classList:(t={},ue(t,V.colorBtn,!0),ue(t,V.currentColor,jr.map(function(n){return n===2})),t),style:{backgroundColor:Su},handler:{click:dt.prepend(function(){return 2})}}),O("button",{classList:(a={},ue(a,V.colorBtn,!0),ue(a,V.currentColor,jr.map(function(n){return!n})),a),handler:{click:dt.prepend(function(){return 0})}})}})}var ho=C,r$=Ur,t$=Math.floor,qa=ho("".charAt),a$=ho("".replace),Ua=ho("".slice),n$=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o$=/\$([$&'`]|\d{1,2})/g,i$=function(e,r,t,a,n,o){var i=t+e.length,l=a.length,g=o$;return n!==void 0&&(n=r$(n),g=n$),a$(o,g,function(p,u){var v;switch(qa(u,0)){case"$":return"$";case"&":return e;case"`":return Ua(r,0,t);case"'":return Ua(r,i);case"<":v=n[Ua(u,1,-1)];break;default:var f=+u;if(f===0)return p;if(f>l){var s=t$(f/10);return s===0?p:s<=l?a[s-1]===void 0?qa(u,1):a[s-1]+qa(u,1):p}v=a[f-1]}return v===void 0?"":v})},l$=vu,dl=Q,Xt=C,s$=uo,u$=R,c$=G,f$=F,v$=Gt,d$=qt,Je=gr,p$=fr,g$=co,h$=dr,m$=i$,y$=fo,b$=D,$n=b$("replace"),$$=Math.max,S$=Math.min,I$=Xt([].concat),za=Xt([].push),pl=Xt("".indexOf),gl=Xt("".slice),x$=function(e){return e===void 0?e:String(e)},w$=function(){return"a".replace(/./,"$0")==="$0"}(),hl=function(){return/./[$n]?/./[$n]("a","$0")==="":!1}(),O$=!u$(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});s$("replace",function(e,r,t){var a=hl?"$":"$0";return[function(o,i){var l=p$(this),g=o==null?void 0:h$(o,$n);return g?dl(g,o,l,i):dl(r,Je(l),o,i)},function(n,o){var i=c$(this),l=Je(n);if(typeof o=="string"&&pl(o,a)===-1&&pl(o,"$<")===-1){var g=t(r,i,l,o);if(g.done)return g.value}var p=f$(o);p||(o=Je(o));var u=i.global;if(u){var v=i.unicode;i.lastIndex=0}for(var f=[];;){var s=y$(i,l);if(s===null||(za(f,s),!u))break;var c=Je(s[0]);c===""&&(i.lastIndex=g$(l,d$(i.lastIndex),v))}for(var y="",h=0,d=0;d<f.length;d++){s=f[d];for(var m=Je(s[0]),b=$$(S$(v$(s.index),l.length),0),$=[],S=1;S<s.length;S++)za($,x$(s[S]));var I=s.groups;if(p){var x=I$([m],$,b,l);I!==void 0&&za(x,I);var E=Je(l$(o,void 0,x))}else E=m$(m,l,b,$,I,o);b>=h&&(y+=gl(l,h,b)+E,h=b+m.length)}return y+gl(l,h)}]},!O$||!w$||hl);const E$=""+new URL("heart-line-icon.a4369d33.svg",import.meta.url).href,k$="_field_n4fvk_1",T$="_cell_n4fvk_13",P$="_on1_n4fvk_21",R$="_on2_n4fvk_24",_$="_heartMode_n4fvk_28",Ze={field:k$,cell:T$,on1:P$,on2:R$,heartMode:_$};function C$(){var e=w({name:"rawClicked",sid:"c708lh"});A({and:[{source:re.$cellSize,clock:e,fn:function(t,a){return bu(a,t)},target:wu}],or:{sid:"cebosk"}}),O("div",{classList:[Ze.field],styleVar:{cellSize:re.$cellSize.map(function(r){return r+"px"}),color1:$u,color2:Su},style:{backgroundImage:re.$cellSize.map(function(r){return E$}).map(function(r){return'url("'.concat(r,'")')}),backgroundSize:re.$cellSize.map(function(r){return r+"px"})},handler:{click:e,mousemove:ku},fn:function(){_n(Wb,function(t){var a,n=t.store;O("div",{style:{left:n.map(function(o){return o.x}),top:n.map(function(o){return o.y})},classList:(a={},ue(a,Ze.heartMode,go),ue(a,Ze.cell,!0),ue(a,Ze.on1,n.map(function(o){return o.val===1})),ue(a,Ze.on2,n.map(function(o){return o.val===2})),a)})}),O("div",{style:{boxShadow:"inset 0px 0px 0px 3px #ec4dc7",left:vl.map(function(t){return t.x}),top:vl.map(function(t){return t.y})},classList:[Ze.cell]})}})}var A$=Q,j$=uo,F$=G,D$=qt,Ka=gr,N$=fr,M$=dr,L$=co,ml=fo;j$("match",function(e,r,t){return[function(n){var o=N$(this),i=n==null?void 0:M$(n,e);return i?A$(i,n,o):new RegExp(n)[e](Ka(o))},function(a){var n=F$(this),o=Ka(a),i=t(r,n,o);if(i.done)return i.value;if(!n.global)return ml(n,o);var l=n.unicode;n.lastIndex=0;for(var g=[],p=0,u;(u=ml(n,o))!==null;){var v=Ka(u[0]);g[p]=v,v===""&&(n.lastIndex=L$(o,D$(n.lastIndex),l)),p++}return p===0?null:g}]});var B$=he,G$=zt.filter,q$=Qn,U$=q$("filter");B$({target:"Array",proto:!0,forced:!U$},{filter:function(r){return G$(this,r,arguments.length>1?arguments[1]:void 0)}});var Yt=T(Ub()||[],{name:"$history",sid:"8vj2mw"}),Ru=w({name:"addToHistory",sid:"-6p9jgl"}),_u=w({name:"removeFromHistory",sid:"iwl8tq"}),Qt=w({name:"historySelected",sid:"bspsag"});Yt.on(Ru,function(e,r){var t,a=((t=e[e.length-1])===null||t===void 0?void 0:t.name)||"0",n=a.match(/(\d+)/),o=n&&+n[1]||0;return[].concat(Xl(e),[{fauna:r,name:"save #".concat(o+1)}])}).on(_u,function(e,r){});A({and:[{source:Yt,target:In(function(e){qb(e)},{name:"target",sid:"-p4g1ya"})}],or:{sid:"-g7af8m"}});var yl,bl;function z$(){O("div",{classList:[V.history],fn:function(){O("p",{text:"History: ",style:{margin:"0"}}),_n(Yt,function(r){var t=r.store,a=w({name:"rawClick",sid:"-69qia6"}),n=w({name:"rawRemoveClick",sid:"-9nj6fi"});A({and:[{clock:a,source:t.map(function(o){return o.name}),target:Qt}],or:{sid:"-pa1t75"}}),A({and:[{clock:n,source:t.map(function(o){return o.name}),target:_u}],or:{sid:"-p7au8c"}}),O("div",function(){O("button",function(){de({handler:{click:a}}),wt(yl||(yl=Et(["",""])),t.map(function(o){return o.name}))}),O("button",function(){de({handler:{click:n}}),wt(bl||(bl=Et(["x"])))})})}),O("button",{style:{marginLeft:"auto"},text:"Save",handler:{click:Ou}})}})}const K$=""+new URL("redo-arrow-icon.c268a7f7.svg",import.meta.url).href;function V$(){var e=kr.prepend(function(){return{col:5}}),r=kr.prepend(function(){return{col:-5}}),t=kr.prepend(function(){return{row:5}}),a=kr.prepend(function(){return{row:-5}});O("div",function(){de({style:{display:"grid",gridTemplateColumns:"30px 30px 30px",gridTemplateRows:"30px 30px 30px",gap:"8px",position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",zIndex:1}}),O("div",{}),O("button",{text:"^",classList:[V.arrowBtn],style:{transform:"rotate(90deg)"},handler:{click:t}}),O("div",{}),O("button",{text:"<-",classList:[V.arrowBtn],style:{transform:"rotate(0deg)"},handler:{click:e}}),O("button",{classList:[V.arrowBtn],style:{backgroundImage:'url("'.concat(K$,'")')},handler:{click:xu}}),O("button",{text:"->",classList:[V.arrowBtn],style:{transform:"rotate(180deg)"},handler:{click:r}}),O("div",{}),O("button",{text:"v",classList:[V.arrowBtn],style:{transform:"rotate(270deg)"},handler:{click:a}})}),O("div",function(){de({style:{position:"absolute",right:"150px",bottom:"20px",zIndex:1}}),Hb({options:re.$options.map(function(n){return n.map(function(o){return{label:"cell ".concat(o,"px"),value:String(o)}})}),value:re.$cellSize.map(function(n){return String(n)}),onChange:re.cellSizeChanged.prepend(function(n){return+n.target.value})})})}function W$(e){var{timeout:r,start:t,stop:a,leading:n=!1,trailing:o=!1}=e,i=w({name:"tick",sid:"uo9p3s"}),l=T(!1,{name:"$isRunning",sid:"-wxesi8"}),g=H$(r),p=l.map(h=>!h),u=w({name:"saveTimeout",sid:"as5clk"}),v=T(null,{name:"$timeoutId",sid:"-bh90bo"}).on(u,(h,d)=>d),f=w({name:"saveReject",sid:"-64swis"}),s=T(()=>{},{name:"$rejecter",sid:"eabbu7"}).on(f,(h,d)=>d),c=In(h=>new Promise((d,m)=>{var b=setTimeout(d,h);u(b),f(m)}),{name:"timeoutFx",sid:"7lc3mj"}),y=Mu({and:{source:[v,s],effect:h=>{var[d,m]=h;m(),d&&clearTimeout(d)}},or:{name:"cleanupFx",sid:"pcn5jq"}});return ra({and:[{clock:t,source:g,filter:p,target:c}],or:{sid:"-w5qmwp"}}),n&&ra({and:[{clock:t,filter:p,target:i}],or:{sid:"-vpslni"}}),A({and:[{clock:t,fn:()=>!0,target:l}],or:{sid:"-vaed34"}}),ra({and:[{clock:c.done,source:g,filter:l,target:c}],or:{sid:"-v73liy"}}),A({and:[{clock:c.done,fn:()=>{},target:i}],or:{sid:"-urpcwu"}}),a&&(o&&A({and:[{clock:a,target:i}],or:{sid:"-uanqf7"}}),l.on(a,()=>!1),A({and:[{clock:a,target:y}],or:{sid:"6lcmyy"}})),{tick:i,isRunning:l}}function H$(e){if(B.store(e,{sid:"6p7767"}))return e;if(typeof e=="number")return T(e,{and:{name:"$timeout"},sid:"5hw6se"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}var mo=T(0,{name:"$stepCount",sid:"qcyfda"});T(0,{name:"$startFauna",sid:"871hb0"});var Jt=w({name:"gameTick",sid:"3e0yvy"}),Cu=w({name:"makeNSteps",sid:"-su79h9"}),yo=w({name:"startTimer",sid:"qpqggy"}),Au=w({name:"stopTimer",sid:"o91ddu"}),ju=Uu({sid:"-9gtfjx",fn:function(){return W$({timeout:50,start:yo,stop:Au})},name:"timer",method:"interval"}),pt={start:yo,stop:Au,isRunning:ju.isRunning};A({and:[{clock:[ju.tick,yo],target:Jt}],or:{sid:"-pq1jks"}});mo.on(Jt,function(e){return e+1}).on(Cu,function(e,r){return e+r});var $l,Sl;function X$(){O("p",function(){de({style:{position:"absolute",backgroundColor:"rgba(255,255,255, 0.9)",padding:"8px",borderRadius:"4px",border:"1px solid #aaa",display:"flex",gap:"8px"}}),O("button",{text:"Step",handler:{click:Jt}}),wt($l||($l=Et([" timer: "]))),cc({source:pt.isRunning.map(function(e){return{show:e?"1":"0"}}),key:"show",cases:{1:function(){O("button",{text:"Stop",style:{color:"#f8f8f8",backgroundColor:"#de4040",border:"0"},handler:{click:pt.stop}})},0:function(){O("button",{text:"Start",style:{color:"#f8f8f8",backgroundColor:"#50c40e",border:"0"},handler:{click:pt.start}})}}}),wt(Sl||(Sl=Et(["steps: ",""])),mo)})}var Y$=he,Q$=zt.find,J$=Rs,Sn="find",Fu=!0;Sn in[]&&Array(1)[Sn](function(){Fu=!1});Y$({target:"Array",proto:!0,forced:Fu},{find:function(r){return Q$(this,r,arguments.length>1?arguments[1]:void 0)}});J$(Sn);var Z$=T("",{name:"$exported",sid:"-eko3nz"}),e1=w({name:"exportClicked",sid:"ve9igg"});A({and:[{source:Ue,clock:Ou,target:Ru}],or:{sid:"-32a41b"}});A({and:[{source:Yt,clock:Qt,fn:function(r,t){var a=r.find(function(o){return o.name===t}).fauna,n=new Map(a);return n},target:Ue}],or:{sid:"-qod2zb"}});A({and:[{clock:[Qt,Ht],target:pt.stop}],or:{sid:"-q7bgl4"}});A({and:[{source:Tu,clock:e1,fn:Gb,target:Z$}],or:{sid:"-q6rnzr"}});Ue.on(Jt,function(e){return cl(e)}).on(Cu,function(e,r){for(var t=e,a=1;a<=r;a++)t=cl(t);return t});mo.reset(Qt,Ht);function r1(){O("div",function(){V$(),C$(),O("div",{style:{position:"absolute",width:"100%",backgroundColor:"rgba(255,255,255, 0.9)"},fn:function(){O("h1",{text:"Game of Life"}),z$(),e$(),X$()}}),O("button",{text:"Reset",style:{position:"absolute",bottom:"20px",left:"20px"},handler:{click:Ht}})})}sc(document.querySelector("#app"),r1);
