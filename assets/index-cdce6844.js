(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();const ln=(e,t)=>e===t,sn=Symbol("solid-track"),Qe={equals:ln};let dr=yr;const ce=1,Ze=2,pr={owned:null,cleanups:null,context:null,owner:null};var E=null;let bt=null,O=null,T=null,ie=null,lt=0;function Ye(e,t){const r=O,n=E,o=e.length===0,l=t===void 0?n:t,i=o?pr:{owned:null,cleanups:null,context:l?l.context:null,owner:l},s=o?e:()=>e(()=>te(()=>st(i)));E=i,O=null;try{return Ne(s,!0)}finally{O=r,E=n}}function hr(e,t){t=t?Object.assign({},Qe,t):Qe;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=o=>(typeof o=="function"&&(o=o(r.value)),gr(r,o));return[mr.bind(r),n]}function B(e,t,r){const n=Mt(e,t,!1,ce);He(n)}function un(e,t,r){dr=gn;const n=Mt(e,t,!1,ce);(!r||!r.render)&&(n.user=!0),ie?ie.push(n):He(n)}function Pe(e,t,r){r=r?Object.assign({},Qe,r):Qe;const n=Mt(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,He(n),mr.bind(n)}function an(e){return Ne(e,!1)}function te(e){if(O===null)return e();const t=O;O=null;try{return e()}finally{O=t}}function cn(e){un(()=>te(e))}function xt(e){return E===null||(E.cleanups===null?E.cleanups=[e]:E.cleanups.push(e)),e}function fn(e,t){const r=Symbol("context");return{id:r,Provider:wn(r),defaultValue:e}}function dn(e){return E&&E.context&&E.context[e.id]!==void 0?E.context[e.id]:e.defaultValue}function pn(e){const t=Pe(e),r=Pe(()=>Et(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function mr(){if(this.sources&&this.state)if(this.state===ce)He(this);else{const e=T;T=null,Ne(()=>tt(this),!1),T=e}if(O){const e=this.observers?this.observers.length:0;O.sources?(O.sources.push(this),O.sourceSlots.push(e)):(O.sources=[this],O.sourceSlots=[e]),this.observers?(this.observers.push(O),this.observerSlots.push(O.sources.length-1)):(this.observers=[O],this.observerSlots=[O.sources.length-1])}return this.value}function gr(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&Ne(()=>{for(let o=0;o<e.observers.length;o+=1){const l=e.observers[o],i=bt&&bt.running;i&&bt.disposed.has(l),(i?!l.tState:!l.state)&&(l.pure?T.push(l):ie.push(l),l.observers&&wr(l)),i||(l.state=ce)}if(T.length>1e6)throw T=[],new Error},!1)),t}function He(e){if(!e.fn)return;st(e);const t=E,r=O,n=lt;O=E=e,hn(e,e.value,n),O=r,E=t}function hn(e,t,r){let n;try{n=e.fn(t)}catch(o){return e.pure&&(e.state=ce,e.owned&&e.owned.forEach(st),e.owned=null),e.updatedAt=r+1,br(o)}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?gr(e,n):e.value=n,e.updatedAt=r)}function Mt(e,t,r,n=ce,o){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:E,context:E?E.context:null,pure:r};return E===null||E!==pr&&(E.owned?E.owned.push(l):E.owned=[l]),l}function et(e){if(e.state===0)return;if(e.state===Ze)return tt(e);if(e.suspense&&te(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<lt);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===ce)He(e);else if(e.state===Ze){const n=T;T=null,Ne(()=>tt(e,t[0]),!1),T=n}}function Ne(e,t){if(T)return e();let r=!1;t||(T=[]),ie?r=!0:ie=[],lt++;try{const n=e();return mn(r),n}catch(n){r||(ie=null),T=null,br(n)}}function mn(e){if(T&&(yr(T),T=null),e)return;const t=ie;ie=null,t.length&&Ne(()=>dr(t),!1)}function yr(e){for(let t=0;t<e.length;t++)et(e[t])}function gn(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:et(n)}for(t=0;t<r;t++)et(e[t])}function tt(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const o=n.state;o===ce?n!==t&&(!n.updatedAt||n.updatedAt<lt)&&et(n):o===Ze&&tt(n,t)}}}function wr(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Ze,r.pure?T.push(r):ie.push(r),r.observers&&wr(r))}}function st(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),o=r.observers;if(o&&o.length){const l=o.pop(),i=r.observerSlots.pop();n<o.length&&(l.sourceSlots[i]=n,o[n]=l,r.observerSlots[n]=i)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)st(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function yn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function br(e,t=E){throw yn(e)}function Et(e){if(typeof e=="function"&&!e.length)return Et(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=Et(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function wn(e,t){return function(n){let o;return B(()=>o=te(()=>(E.context={...E.context,[e]:n.value},pn(()=>n.children))),void 0),o}}const bn=Symbol("fallback");function Vt(e){for(let t=0;t<e.length;t++)e[t]()}function vn(e,t,r={}){let n=[],o=[],l=[],i=0,s=t.length>1?[]:null;return xt(()=>Vt(l)),()=>{let f=e()||[],u,a;return f[sn],te(()=>{let h=f.length,c,d,p,g,$,v,y,w,S;if(h===0)i!==0&&(Vt(l),l=[],n=[],o=[],i=0,s&&(s=[])),r.fallback&&(n=[bn],o[0]=Ye(k=>(l[0]=k,r.fallback())),i=1);else if(i===0){for(o=new Array(h),a=0;a<h;a++)n[a]=f[a],o[a]=Ye(m);i=h}else{for(p=new Array(h),g=new Array(h),s&&($=new Array(h)),v=0,y=Math.min(i,h);v<y&&n[v]===f[v];v++);for(y=i-1,w=h-1;y>=v&&w>=v&&n[y]===f[w];y--,w--)p[w]=o[y],g[w]=l[y],s&&($[w]=s[y]);for(c=new Map,d=new Array(w+1),a=w;a>=v;a--)S=f[a],u=c.get(S),d[a]=u===void 0?-1:u,c.set(S,a);for(u=v;u<=y;u++)S=n[u],a=c.get(S),a!==void 0&&a!==-1?(p[a]=o[u],g[a]=l[u],s&&($[a]=s[u]),a=d[a],c.set(S,a)):l[u]();for(a=v;a<h;a++)a in p?(o[a]=p[a],l[a]=g[a],s&&(s[a]=$[a],s[a](a))):o[a]=Ye(m);o=o.slice(0,i=h),n=f.slice(0)}return o});function m(h){if(l[a]=h,s){const[c,d]=hr(a);return s[a]=d,t(f[a],c)}return t(f[a])}}}function W(e,t){return te(()=>e(t||{}))}const $n=e=>`Stale read from <${e}>.`;function Sn(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Pe(vn(()=>e.each,e.children,t||void 0))}function Xt(e){const t=e.keyed,r=Pe(()=>e.when,void 0,{equals:(n,o)=>t?n===o:!n==!o});return Pe(()=>{const n=r();if(n){const o=e.children;return typeof o=="function"&&o.length>0?te(()=>o(t?n:()=>{if(!te(r))throw $n("Show");return e.when})):o}return e.fallback},void 0,void 0)}function _n(e,t,r){let n=r.length,o=t.length,l=n,i=0,s=0,f=t[o-1].nextSibling,u=null;for(;i<o||s<l;){if(t[i]===r[s]){i++,s++;continue}for(;t[o-1]===r[l-1];)o--,l--;if(o===i){const a=l<n?s?r[s-1].nextSibling:r[l-s]:f;for(;s<l;)e.insertBefore(r[s++],a)}else if(l===s)for(;i<o;)(!u||!u.has(t[i]))&&t[i].remove(),i++;else if(t[i]===r[l-1]&&r[s]===t[o-1]){const a=t[--o].nextSibling;e.insertBefore(r[s++],t[i++].nextSibling),e.insertBefore(r[--l],a),t[o]=r[l]}else{if(!u){u=new Map;let m=s;for(;m<l;)u.set(r[m],m++)}const a=u.get(t[i]);if(a!=null)if(s<a&&a<l){let m=i,h=1,c;for(;++m<o&&m<l&&!((c=u.get(t[m]))==null||c!==a+h);)h++;if(h>a-s){const d=t[i];for(;s<a;)e.insertBefore(r[s++],d)}else e.replaceChild(r[s++],t[i++])}else i++;else t[i++].remove()}}}const Yt="_$DX_DELEGATE";function kn(e,t,r,n={}){let o;return Ye(l=>{o=l,t===document?e():C(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{o(),t.textContent=""}}function U(e,t,r){let n;const o=()=>{const i=document.createElement("template");return i.innerHTML=e,r?i.content.firstChild.firstChild:i.content.firstChild},l=t?()=>te(()=>document.importNode(n||(n=o()),!0)):()=>(n||(n=o())).cloneNode(!0);return l.cloneNode=l,l}function Te(e,t=window.document){const r=t[Yt]||(t[Yt]=new Set);for(let n=0,o=e.length;n<o;n++){const l=e[n];r.has(l)||(r.add(l),t.addEventListener(l,xn))}}function Kt(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function Le(e,t){t==null?e.removeAttribute("class"):e.className=t}function Z(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const o=r[0];e.addEventListener(t,r[0]=l=>o.call(e,r[1],l))}else e.addEventListener(t,r)}function Gt(e,t,r={}){const n=Object.keys(t||{}),o=Object.keys(r);let l,i;for(l=0,i=o.length;l<i;l++){const s=o[l];!s||s==="undefined"||t[s]||(Jt(e,s,!1),delete r[s])}for(l=0,i=n.length;l<i;l++){const s=n[l],f=!!t[s];!s||s==="undefined"||r[s]===f||!f||(Jt(e,s,!0),r[s]=f)}return r}function Pn(e,t,r){return te(()=>e(t,r))}function C(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return rt(e,t,n,r);B(o=>rt(e,t(),o,r),n)}function Jt(e,t,r){const n=t.trim().split(/\s+/);for(let o=0,l=n.length;o<l;o++)e.classList.toggle(n[o],r)}function xn(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[t];if(n&&!r.disabled){const o=r[`${t}Data`];if(o!==void 0?n.call(r,o,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function rt(e,t,r,n,o){for(;typeof r=="function";)r=r();if(t===r)return r;const l=typeof t,i=n!==void 0;if(e=i&&r[0]&&r[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),i){let s=r[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),r=ve(e,r,n,s)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t;else if(t==null||l==="boolean")r=ve(e,r,n);else{if(l==="function")return B(()=>{let s=t();for(;typeof s=="function";)s=s();r=rt(e,s,r,n)}),()=>r;if(Array.isArray(t)){const s=[],f=r&&Array.isArray(r);if(Ct(s,t,r,o))return B(()=>r=rt(e,s,r,n,!0)),()=>r;if(s.length===0){if(r=ve(e,r,n),i)return r}else f?r.length===0?Qt(e,s,n):_n(e,r,s):(r&&ve(e),Qt(e,s));r=s}else if(t.nodeType){if(Array.isArray(r)){if(i)return r=ve(e,r,n,t);ve(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}else console.warn("Unrecognized value. Skipped inserting",t)}return r}function Ct(e,t,r,n){let o=!1;for(let l=0,i=t.length;l<i;l++){let s=t[l],f=r&&r[l],u;if(!(s==null||s===!0||s===!1))if((u=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))o=Ct(e,s,f)||o;else if(u==="function")if(n){for(;typeof s=="function";)s=s();o=Ct(e,Array.isArray(s)?s:[s],Array.isArray(f)?f:[f])||o}else e.push(s),o=!0;else{const a=String(s);f&&f.nodeType===3&&f.data===a?e.push(f):e.push(document.createTextNode(a))}}return o}function Qt(e,t,r=null){for(let n=0,o=t.length;n<o;n++)e.insertBefore(t[n],r)}function ve(e,t,r,n){if(r===void 0)return e.textContent="";const o=n||document.createTextNode("");if(t.length){let l=!1;for(let i=t.length-1;i>=0;i--){const s=t[i];if(o!==s){const f=s.parentNode===e;!l&&!i?f?e.replaceChild(o,s):e.insertBefore(o,r):f&&s.remove()}else l=!0}}else e.insertBefore(o,r);return[o]}function ut(e,t){for(let r in e)t(e[r],r)}function F(e,t){e.forEach(t)}function z(e,t){if(!e)throw Error(t)}function le({node:e=[],from:t,source:r,parent:n=t||r,to:o,target:l,child:i=o||l,scope:s={},meta:f={},family:u={type:"regular"},regional:a}={}){let m=je(n),h=je(u.links),c=je(u.owners),d=[];F(e,g=>g&&J(d,g));let p={id:Nn(),seq:d,next:je(i),meta:f,scope:s,family:{type:u.type||"crosslink",links:h,owners:c}};return F(h,g=>J(at(g),p)),F(c,g=>J(ct(g),p)),F(m,g=>J(g.next,p)),a&&ke&&Ce(Fe(ke),[p]),p}function ae(e,t,r){let n,o=Q,l=null,i=x;if(e.target&&(t=e.params,r=e.defer,n=e.meta,o="page"in e?e.page:o,e.stack&&(l=e.stack),i=pe(e)||i,e=e.target),i&&x&&i!==x&&(x=null),Array.isArray(e))for(let d=0;d<e.length;d++)fe("pure",o,q(e[d]),l,t[d],i,n);else fe("pure",o,q(e),l,t,i,n);if(r&&!Ve)return;let s,f,u,a,m,h,c={isRoot:Ve,currentPage:Q,scope:x,isWatch:Ge,isPure:Je};Ve=0;e:for(;a=Fn();){let{idx:d,stack:p,type:g}=a;u=p.node,Q=m=p.page,x=pe(p),m?h=m.reg:x&&(h=x.reg);let $=!!m,v=!!x,y={fail:0,scope:u.scope};s=f=0;for(let w=d;w<u.seq.length&&!s;w++){let S=u.seq[w];if(S.order){let{priority:k,barrierID:P}=S.order,R=P?m?`${m.fullID}_${P}`:P:0;if(w!==d||g!==k){P?$t.has(R)||($t.add(R),Rt(w,p,k,P)):Rt(w,p,k);continue e}P&&$t.delete(R)}switch(S.type){case"mov":{let P,R=S.data;switch(R.from){case he:P=Fe(p);break;case"a":case"b":P=p[R.from];break;case"value":P=R.store;break;case"store":if(h&&!h[R.store.id])if($){let wt=Nr(m,R.store.id);p.page=m=wt,wt?h=wt.reg:v?(Oe(x,R.store,0,1,R.softRead),h=x.reg):h=void 0}else v&&Oe(x,R.store,0,1,R.softRead);P=Ie(h&&h[R.store.id]||R.store)}switch(R.to){case he:p.value=P;break;case"a":case"b":p[R.to]=P;break;case"store":Bn(m,x,u,R.target).current=P}break}case"compute":let k=S.data;if(k.fn){Ge=L(u,"op")==="watch",Je=k.pure;let P=k.safe?(0,k.fn)(Fe(p),y.scope,p):qn(y,k.fn,p);k.filter?f=!P:p.value=P,Ge=c.isWatch,Je=c.isPure}}s=y.fail||f}if(!s){let w=Fe(p),S=pe(p);if(F(u.next,k=>{fe("child",m,k,p,w,S)}),S){L(u,"needFxCounter")&&fe("child",m,S.fxCount,p,w,S),L(u,"storeChange")&&fe("child",m,S.storeChange,p,w,S),L(u,"warnSerialize")&&fe("child",m,S.warnSerializeNode,p,w,S);let k=S.additionalLinks[u.id];k&&F(k,P=>{fe("child",m,P,p,w,S)})}}}Ve=c.isRoot,Q=c.currentPage,x=pe(c)}function vr(e,t="combine"){let r=t+"(",n="",o=0;return ut(e,l=>{o<25&&(l!=null&&(r+=n,r+=me(l)?jt(l).fullName:l.toString()),o+=1,n=", ")}),r+")"}function $r(e,t){let r,n,o=e;if(t){let l=jt(t);e.length===0?(r=l.path,n=l.fullName):(r=l.path.concat([e]),n=l.fullName.length===0?e:l.fullName+"/"+e)}else r=e.length===0?[]:[e],n=e;return{shortName:o,fullName:n,path:r}}function Ue(e,t){let r=t?e:e[0];Or(r);let n=r.or,o=r.and;if(o){let l=t?o:o[0];if(ne(l)&&"and"in l){let i=Ue(o,t);e=i[0],n={...n,...i[1]}}else e=o}return[e,n]}function X(e,...t){let r=Ar();if(r){let n=r.handlers[e];if(n)return n(r,...t)}}function b(e,t){let r=Re({or:t,and:typeof e=="string"?{name:e}:e}),n=(i,...s)=>(ge(!L(n,"derived"),"call of derived event","createEvent"),ge(!Je,"unit call from pure function","operators like sample"),Q?((f,u,a,m)=>{let h=Q,c=null;if(u)for(c=Q;c&&c.template!==u;)c=se(c);nr(c);let d=f.create(a,m);return nr(h),d})(n,o,i,s):n.create(i,s)),o=Ar(),l=Object.assign(n,{graphite:le({meta:zr(r.actualOp||"event",n,r),regional:1}),create:i=>(ae({target:n,params:i,scope:x}),i),watch:i=>Lr(n,i),map:i=>St(n,xe,i,[oe()]),filter:i=>St(n,"filter",i.fn?i:i.fn,[oe(Ft,1)]),filterMap:i=>St(n,"filterMap",i,[oe(),ee(s=>!D(s),1)]),prepend(i){let s=b("* → "+n.shortName,{parent:se(n)});return X("eventPrepend",q(s)),be(s,n,[oe()],"prepend",i),Mr(n,s),s}});return r!=null&&r.domain&&r.domain.hooks.event(l),G(l,"id",l.graphite.id),Cr(l.graphite),l}function Zt(e,t,r,n){return ot(r,t,"first argument"),z(I(n),"second argument should be a function"),ge(!L(e,"derived"),`${t} in derived store`,`${t} in store created via createStore`),F(Array.isArray(r)?r:[r],o=>{e.off(o),nt(e).set(o,Tr(jr(o,e,"on",zn,n)))}),e}function _(e,t){let r=Re(t),n=Ae(e),o=b({named:"updates",derived:1});X("storeBase",n);let l=n.id,i={subscribers:new Map,updates:o,defaultState:e,stateRef:n,getState(){let c,d=n;if(Q){let p=Q;for(;p&&!p.reg[l];)p=se(p);p&&(c=p)}return!c&&x&&(Oe(x,n,1),c=x),c&&(d=c.reg[l]),Ie(d)},setState:c=>ae({target:i,params:c,defer:1,scope:x}),reset:(...c)=>(F(c,d=>Zt(i,".reset",d,()=>i.defaultState)),i),on:(c,d)=>Zt(i,".on",c,d),off(c){let d=nt(i).get(c);return d&&(d(),nt(i).delete(c)),i},map(c,d){let p,g;ne(c)&&(p=c,c=c.fn),ge(D(d),"second argument of store.map","updateFilter");let $=i.getState();D($)||(g=c($,d));let v=_(g,{name:`${i.shortName} → *`,derived:1,and:p}),y=jr(i,v,xe,At,c);return Ot(Y(v),{type:xe,fn:c,from:n}),Y(v).noInit=1,X("storeMap",n,y),v},watch(c,d){if(!d||!me(c)){let p=Lr(i,c);return X("storeWatch",n,c)||c(i.getState()),p}return z(I(d),"second argument should be a function"),c.watch(p=>d(i.getState(),p))}},s=zr("store",i,r),f=i.defaultConfig.updateFilter;i.graphite=le({scope:{state:n,fn:f},node:[ee((c,d,p)=>(p.scope&&!p.scope.reg[n.id]&&(p.b=1),c)),ye(n),ee((c,d,{a:p,b:g})=>!D(c)&&(c!==p||g),1),f&&oe(At,1),V({from:he,target:n})],child:o,meta:{...s,defaultState:e},regional:1}),G(i,"id",i.graphite.id),G(i,"rootStateRefId",l);let u=L(i,"serialize"),a=L(i,"derived"),m=u==="ignore",h=L(i,"sid");return h&&(G(i,"storeChange",1),n.sid=h),h||m||a||G(i,"warnSerialize",1),z(a||!D(e),"current state can't be undefined, use null instead"),Ce(i,[o]),r!=null&&r.domain&&r.domain.hooks.store(i),a||(i.reinit=b({named:"reinit"}),i.reset(i.reinit)),n.meta=i.graphite.meta,Cr(i.graphite),i}function ue(...e){let t,r,n;[e,n]=Ue(e);let o,l,i,s=e[e.length-1];if(I(s)?(r=e.slice(0,-1),t=s):r=e,r.length===1){let f=r[0];K(f)||(o=f,l=1)}if(!l&&(o=r,t)){i=1;let f=t;t=u=>f(...u)}return z(ne(o),"shape should be an object"),Hn(Array.isArray(o),!i,o,n,t)}function Sr(){let e={};return e.req=new Promise((t,r)=>{e.rs=t,e.rj=r}),e.req.catch(()=>{}),e}function zt(e,t={}){let r=Re(I(e)?{handler:e}:e,t),n=b(I(e)?{handler:e}:e,{...t,actualOp:"effect"}),o=q(n);G(o,"op",n.kind="effect"),n.use=c=>(z(I(c),".use argument should be a function"),a.scope.handler=c,n),n.use.getCurrent=()=>a.scope.handler;let l=n.finally=b({named:"finally",derived:1}),i=n.done=l.filterMap({named:"done",fn({status:c,params:d,result:p}){if(c==="done")return{params:d,result:p}}}),s=n.fail=l.filterMap({named:"fail",fn({status:c,params:d,error:p}){if(c==="fail")return{params:d,error:p}}}),f=n.doneData=i.map({named:"doneData",fn:({result:c})=>c}),u=n.failData=s.map({named:"failData",fn:({error:c})=>c}),a=le({scope:{handler:n.defaultConfig.handler||(()=>z(0,`no handler used in ${n.getType()}`))},node:[ee((c,d,p)=>{let g=d.handler,$=pe(p);if($){let v=$.handlers.unitMap.get(n)||$.handlers.sidMap[n.sid];v&&(g=v)}return c.handler=g,c},0,1),ee(({params:c,req:d,handler:p,args:g=[c]},$,v)=>{let y=Ir(v),w=it(c,d,1,l,v,y),S=it(c,d,0,l,v,y),[k,P]=Fr(p,S,g);k&&(ne(P)&&I(P.then)?P.then(w,S):w(P))},0,1)],meta:{op:"fx",fx:"runner"}});o.scope.runner=a,J(o.seq,ee((c,{runner:d},p)=>{let g=se(p)?{params:c,req:{rs($){},rj($){}}}:c;return p.meta||(p.meta={fxID:Tn()}),ae({target:d,params:g,defer:1,scope:pe(p),meta:p.meta}),g.params},0,1)),n.create=c=>{let d=Sr(),p={params:c,req:d};if(x&&!Ge){let g=x;d.req.finally(()=>{In(g)}).catch(()=>{})}return ae({target:n,params:p,scope:x}),d.req};let m=n.inFlight=_(0,{serialize:"ignore",named:(L(n,"name")||n.graphite.id)+".inFlight"}).on(n,c=>c+1).on(l,c=>c-1).map({fn:c=>c,named:"inFlight"});G(l,"needFxCounter","dec"),G(n,"needFxCounter",1);let h=n.pending=m.map({fn:c=>c>0,named:"pending"});return Ce(n,[l,i,s,f,u,h,m]),r!=null&&r.domain&&r.domain.hooks.effect(n),n}function er(e){let t;[e,t]=Ue(e,1);let{source:r,effect:n,mapParams:o}=e,l=zt(e,t);G(l,"attached",1);let i,{runner:s}=q(l).scope,f=ee((a,m,h)=>{let c,{params:d,req:p,handler:g}=a,$=l.finally,v=Ir(h),y=it(d,p,0,$,h,v),w=h.a,S=Ee(g),k=1;if(o?[k,c]=Fr(o,y,[d,w]):c=r&&S?w:d,k){if(!S)return a.args=[w,c],1;ae({target:g,params:{params:c,req:{rs:it(d,p,1,$,h,v),rj:y}},page:h.page,defer:1,meta:h.meta})}},1,1);if(r){let a;K(r)?(a=r,Ce(a,[l])):(a=ue(r),Ce(l,[a])),i=[ye(Y(a)),f]}else i=[f];s.seq.splice(1,0,...i),l.use(n);let u=se(n);return u&&(Object.assign(jt(l),$r(l.shortName,u)),l.defaultConfig.parent=u),Mr(n,l,"effect"),l}function _r(e,t){ot(e,"merge","first argument");let r=b({name:vr(e,"merge"),derived:1,and:t});return be(e,r,[],"merge"),r}function kr(e,t){let r=0;return F(Wn,n=>{n in e&&(z(e[n]!=null,Br(t,n)),r=1)}),r}function A(...e){let t,r,n,o,[[l,i,s],f]=Ue(e),u=1;return D(i)&&ne(l)&&kr(l,"sample")&&(i=l.clock,s=l.fn,u=!l.greedy,o=l.filter,t=l.target,r=l.name,n=l.sid,l=l.source),Dr("sample",i,l,o,t,s,r,f,u,1,0,n)}function ze(...e){let[[t,r],n]=Ue(e);return r||(r=t,t=r.source),kr(r,"guard"),Dr("guard",r.clock,t,r.filter,r.target,null,r.name,n,!r.greedy,0,1)}function En(e,t,r){if(K(e))return ge(0,"restore($store)"),e;if(Pr(e)||Ee(e)){let o=se(e),l=_(t,{parent:o,name:e.shortName,and:r});return be(Ee(e)?e.doneData:e,l),o&&o.hooks.store(l),l}let n=Array.isArray(e)?[]:{};return ut(e,(o,l)=>n[l]=K(o)?o:_(o,{name:l})),n}function Cn(e,{scope:t,safe:r}={}){z(t||x||r,"scopeBind cannot be called outside of forked .watch");let n=t||x;return Ee(e)?o=>{let l=Sr();return ae({target:e,params:{params:o,req:l},scope:n}),l.req}:o=>(ae({target:e,params:o,scope:n}),o)}let An=typeof Symbol<"u"&&Symbol.observable||"@@observable",xe="map",he="stack",q=e=>e.graphite||e,at=e=>e.family.owners,ct=e=>e.family.links,Y=e=>e.stateRef,Fe=e=>e.value,nt=e=>e.subscribers,se=e=>e.parent,pe=e=>e.scope,L=(e,t)=>q(e).meta[t],G=(e,t,r)=>q(e).meta[t]=r,jt=e=>e.compositeName,me=e=>(I(e)||ne(e))&&"kind"in e;const We=e=>t=>me(t)&&t.kind===e;let K=We("store"),Pr=We("event"),Ee=We("effect"),xr=We("domain"),On=We("scope");var _e={__proto__:null,unit:me,store:K,event:Pr,effect:Ee,domain:xr,scope:On,attached:e=>Ee(e)&&L(e,"attached")==1};let Ke=(e,t)=>{let r=e.indexOf(t);r!==-1&&e.splice(r,1)},J=(e,t)=>e.push(t),ge=(e,t,r)=>!e&&console.error(`${t} is deprecated${r?`, use ${r} instead`:""}`);const ft=()=>{let e=0;return()=>""+ ++e};let Rn=ft(),Er=ft(),Nn=ft(),Tn=ft(),ke=null,Cr=e=>{},Ar=()=>ke,Ln=e=>(e&&ke&&ke.sidRoot&&(e=`${ke.sidRoot}|${e}`),e),Ce=(e,t)=>{let r=q(e);F(t,n=>{let o=q(n);r.family.type!=="domain"&&(o.family.type="crosslink"),J(at(o),r),J(ct(r),o)})},je=(e=[])=>(Array.isArray(e)?e:[e]).flat().map(q),ne=e=>typeof e=="object"&&e!==null,I=e=>typeof e=="function",D=e=>e===void 0,Or=e=>z(ne(e)||I(e),"expect first argument be an object");const tr=(e,t,r,n)=>z(!(!ne(e)&&!I(e)||!("family"in e)&&!("graphite"in e)),`${t}: expect ${r} to be a unit (store, event or effect)${n}`);let ot=(e,t,r)=>{Array.isArray(e)?F(e,(n,o)=>tr(n,t,`${o} item of ${r}`,"")):tr(e,t,r," or array of units")},Mn=(e,t,r="target")=>F(je(t),n=>ge(!L(n,"derived"),`${e}: derived unit in "${r}"`,"createEvent/createStore")),At=(e,{fn:t},{a:r})=>t(e,r),zn=(e,{fn:t},{a:r})=>t(r,e),Ft=(e,{fn:t})=>t(e);const Rr=(e,t,r,n)=>{let o={id:Er(),type:e,data:t};return r&&(o.order={priority:r},n&&(o.order.barrierID=++jn)),o};let jn=0,V=({from:e="store",store:t,target:r,to:n=r?"store":he,batch:o,priority:l})=>Rr("mov",{from:e,store:t,to:n,target:r},l,o),Be=({fn:e,batch:t,priority:r,safe:n=0,filter:o=0,pure:l=0})=>Rr("compute",{fn:e,safe:n,filter:o,pure:l},r,t),It=({fn:e})=>Be({fn:e,priority:"effect"}),ee=(e,t,r)=>Be({fn:e,safe:1,filter:t,priority:r&&"effect"}),ye=(e,t,r)=>V({store:e,to:t?he:"a",priority:r&&"sampler",batch:1}),oe=(e=Ft,t)=>Be({fn:e,pure:1,filter:t}),vt={mov:V,compute:Be,filter:({fn:e,pure:t})=>Be({fn:e,filter:1,pure:t}),run:It},Ae=e=>({id:Er(),current:e}),Ie=({current:e})=>e,Ot=(e,t)=>{e.before||(e.before=[]),J(e.before,t)},Se=null;const Bt=(e,t)=>{if(!e)return t;if(!t)return e;let r;return(e.v.type===t.v.type&&e.v.id>t.v.id||Nt(e.v.type)>Nt(t.v.type))&&(r=e,e=t,t=r),r=Bt(e.r,t),e.r=e.l,e.l=r,e},Dt=[];let rr=0;for(;rr<6;)J(Dt,{first:null,last:null,size:0}),rr+=1;const Fn=()=>{for(let e=0;e<6;e++){let t=Dt[e];if(t.size>0){if(e===3||e===4){t.size-=1;let n=Se.v;return Se=Bt(Se.l,Se.r),n}t.size===1&&(t.last=null);let r=t.first;return t.first=r.r,t.size-=1,r.v}}},fe=(e,t,r,n,o,l,i)=>Rt(0,{a:null,b:null,node:r,parent:n,value:o,page:t,scope:l,meta:i},e),Rt=(e,t,r,n=0)=>{let o=Nt(r),l=Dt[o],i={v:{idx:e,stack:t,type:r,id:n},l:null,r:null};o===3||o===4?Se=Bt(Se,i):(l.size===0?l.first=i:l.last.r=i,l.last=i),l.size+=1},Nt=e=>{switch(e){case"child":return 0;case"pure":return 1;case"read":return 2;case"barrier":return 3;case"sampler":return 4;case"effect":return 5;default:return-1}},$t=new Set;let x,Ve=1,Ge=0,Je=0,Q=null,In=e=>{x=e},nr=e=>{Q=e};const Nr=(e,t)=>{if(e){for(;e&&!e.reg[t];)e=se(e);if(e)return e}return null};let Bn=(e,t,r,n,o)=>{let l=Nr(e,n.id);return l?l.reg[n.id]:t?(Oe(t,n,o),t.reg[n.id]):n};const Dn=e=>e;let Oe=(e,t,r,n,o)=>{var l;let i=e.reg,s=t.sid,f=t==null||(l=t.meta)===null||l===void 0?void 0:l.serialize,u=e.fromSerialize&&f!=="ignore"&&f?.read||Dn;if(i[t.id])return;let a={id:t.id,current:t.current,meta:t.meta};if(a.id in e.values.idMap)a.current=e.values.idMap[a.id];else if(s&&s in e.values.sidMap&&!(s in e.sidIdMap))a.current=u(e.values.sidMap[s]);else if(t.before&&!o){let m=0,h=r||!t.noInit||n;F(t.before,c=>{switch(c.type){case xe:{let d=c.from;if(d||c.fn){d&&Oe(e,d,r,n);let p=d&&i[d.id].current;h&&(a.current=c.fn?c.fn(p):p)}break}case"field":m||(m=1,a.current=Array.isArray(a.current)?[...a.current]:{...a.current}),Oe(e,c.from,r,n),h&&(a.current[c.field]=i[i[c.from.id].id].current)}})}s&&(e.sidIdMap[s]=t.id),i[t.id]=a};const qn=(e,t,r)=>{try{return t(Fe(r),e.scope,r)}catch(n){console.error(n),e.fail=1,e.failReason=n}};let Re=(e,t={})=>(ne(e)&&(Re(e.or,t),ut(e,(r,n)=>{D(r)||n==="or"||n==="and"||(t[n]=r)}),Re(e.and,t)),t);const or=(e,t)=>{Ke(e.next,t),Ke(at(e),t),Ke(ct(e),t)},Tt=(e,t,r)=>{let n;e.next.length=0,e.seq.length=0,e.scope=null;let o=ct(e);for(;n=o.pop();)or(n,e),(t||r&&L(e,"op")!=="sample"||n.family.type==="crosslink")&&Tt(n,t,L(n,"op")!=="on"&&r);for(o=at(e);n=o.pop();)or(n,e),r&&n.family.type==="crosslink"&&Tt(n,t,L(n,"op")!=="on"&&r)},Me=e=>e.clear();let Lt=(e,{deep:t}={})=>{let r=0;if(e.ownerSet&&e.ownerSet.delete(e),K(e))Me(nt(e));else if(xr(e)){r=1;let n=e.history;Me(n.events),Me(n.effects),Me(n.stores),Me(n.domains)}Tt(q(e),!!t,r)},Tr=e=>{let t=()=>Lt(e);return t.unsubscribe=t,t},be=(e,t,r,n,o)=>le({node:r,parent:e,child:t,scope:{fn:o},meta:{op:n},family:{owners:[e,t],links:t},regional:1}),Lr=(e,t)=>(z(I(t),".watch argument should be a function"),Tr(le({scope:{fn:t},node:[It({fn:Ft})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))),Mr=(e,t,r="event")=>{se(e)&&se(e).hooks[r](t)},zr=(e,t,r)=>{let n=Re(r),o=e==="domain",l=Rn(),{sid:i=null,named:s=null,domain:f=null,parent:u=f}=n,a=s||n.name||(o?"":l),m=$r(a,u),h={op:t.kind=e,name:t.shortName=a,sid:t.sid=Ln(i),named:s,unitId:t.id=l,serialize:n.serialize,derived:n.derived,config:n};return t.parent=u,t.compositeName=m,t.defaultConfig=n,t.thru=c=>(ge(0,"thru","js pipe"),c(t)),t.getType=()=>m.fullName,!o&&(t.subscribe=c=>(Or(c),t.watch(I(c)?c:d=>c.next&&c.next(d))),t[An]=()=>t),h};const St=(e,t,r,n)=>{let o;ne(r)&&(o=r,r=r.fn);let l=b({name:`${e.shortName} → *`,derived:1,and:o});return be(e,l,n,t,r),l},jr=(e,t,r,n,o)=>{let l=Y(t),i=V({store:l,to:"a",priority:"read"});r===xe&&(i.data.softRead=1);let s=[i,oe(n)];return X("storeOnMap",l,s,K(e)&&Y(e)),be(e,t,s,r,o)},Hn=(e,t,r,n,o)=>{let l=e?d=>[...d]:d=>({...d}),i=e?[]:{},s=l(i),f=Ae(s),u=Ae(1);f.type=e?"list":"shape",f.noInit=1,X("combineBase",f,u);let a=_(s,{name:vr(r),derived:1,and:n}),m=Y(a);m.noInit=1,G(a,"isCombine",1);let h=ye(f);h.order={priority:"barrier"};let c=[ee((d,p,g)=>(g.scope&&!g.scope.reg[f.id]&&(g.c=1),d)),h,V({store:u,to:"b"}),ee((d,{key:p},g)=>{if(g.c||d!==g.a[p])return t&&g.b&&(g.a=l(g.a)),g.a[p]=d,1},1),V({from:"a",target:f}),V({from:"value",store:0,target:u}),V({from:"value",store:1,target:u,priority:"barrier",batch:1}),ye(f,1),o&&oe()];return ut(r,(d,p)=>{if(!K(d))return z(!me(d)&&!D(d),`combine expects a store in a field ${p}`),void(s[p]=i[p]=d);i[p]=d.defaultState,s[p]=d.getState();let g=be(d,a,c,"combine",o);g.scope.key=p;let $=Y(d);Ot(f,{type:"field",field:p,from:$}),X("combineField",$,g)}),a.defaultShape=r,Ot(m,{type:xe,from:f,fn:o}),a.defaultState=o?m.current=o(s):i,a};let Fr=(e,t,r)=>{try{return[1,e(...r)]}catch(n){return t(n),[0,null]}},Ir=e=>{let t=pe(e),r={ref:t};return t&&J(t.activeEffects,r),r},it=(e,t,r,n,o,l)=>i=>{l.ref&&Ke(l.ref.activeEffects,l),ae({target:[n,Un],params:[r?{status:"done",params:e,result:i}:{status:"fail",params:e,error:i},{value:i,fn:r?t.rs:t.rj}],defer:1,page:o.page,scope:l.ref,meta:o.meta})};const Un=le({node:[It({fn:({fn:e,value:t})=>e(t)})],meta:{op:"fx",fx:"sidechain"}}),Wn=["source","clock","target"],Br=(e,t)=>e+`: ${t} should be defined`;let Dr=(e,t,r,n,o,l,i,s,f,u,a,m)=>{let h=!!o;z(!D(r)||!D(t),Br(e,"either source or clock"));let c=0;D(r)?c=1:me(r)||(r=ue(r)),D(t)?t=r:(ot(t,e,"clock"),Array.isArray(t)&&(t=_r(t))),c&&(r=t),s||i||(i=r.shortName);let d="none";(a||n)&&(me(n)?d="unit":(z(I(n),"`filter` should be function or unit"),d="fn")),o?(ot(o,e,"target"),Mn(e,o)):d==="none"&&u&&K(r)&&K(t)?o=_(l?l(Ie(Y(r)),Ie(Y(t))):Ie(Y(r)),{name:i,sid:m,or:s}):(o=b({name:i,derived:1,or:s}),X("sampleTarget",q(o)));let p=Ae(),g=[];if(d==="unit"){let[w,S]=ir(n,o,t,p,e);g=[..._t(S),..._t(w)]}let[$,v]=ir(r,o,t,p,e),y=be(t,o,[X("sampleSourceLoader"),V({from:he,target:p}),..._t(v),ye($,1,f),...g,ye(p),d==="fn"&&oe((w,S,{a:k})=>n(w,k),1),l&&oe(At),X("sampleSourceUpward",h)],e,l);return Ce(r,[y]),Object.assign(y.meta,s,{joint:1}),o};const _t=e=>[ye(e),ee((t,r,{a:n})=>n,1)],ir=(e,t,r,n,o)=>{let l=K(e),i=l?Y(e):Ae(),s=Ae(l);return l||le({parent:e,node:[V({from:he,target:i}),V({from:"value",store:1,target:s})],family:{owners:[e,t,r],links:t},meta:{op:o},regional:1}),X("sampleSource",s,i,n),[i,s]};function qr(){return{width:window.visualViewport?.width||600,height:window.visualViewport?.height||400}}function lr(e,t,r){return{x:t.x-e.col*r,y:t.y-e.row*r}}function Vn(e){let t=new Map;return e.forEach(({col:r,row:n})=>{t.has(r)||t.set(r,new Map),t.get(r).set(n,1)}),t}function Xn(e){let t=0,r=0,n=0;return e.size===0?{col:t,row:r}:(e.forEach((o,l)=>{n+=o.size,o.forEach((i,s)=>{t+=l,r+=s})}),{col:Math.round(t/n),row:Math.round(r/n)})}function Hr(e,t){try{let r=localStorage.getItem(e);return r===null?t:r}catch(r){return console.error(r),t}}function Ur(e,t){try{localStorage.setItem(e,t)}catch(r){console.error(r)}}function Yn(){return{currentBp:_(null)}}const $e=qr();function Kn(){const e="cellSize",t=[1,100];let r=+Hr(e,"10")||10;const n=_({size:r,prevSize:r}),o=_({width:$e.width,height:$e.height}),l=n.map(({size:u},a)=>({height:Math.ceil($e.height/u),width:Math.ceil($e.width/u),prevHeight:a&&a.height||Math.ceil($e.height/u),prevWidth:a&&a.width||Math.ceil($e.width/u)})),i=b(),s=b();return n.on(s,({size:u})=>({size:Math.max(t[0],u-1),prevSize:u})).on(i,({size:u})=>({size:Math.max(t[0],u+1),prevSize:u})),n.watch(u=>{Ur(e,String(u.size))}),{options:t,$cellSize:n,$fieldSize:l,plus:i,minus:s,$viewPortSize:o}}function Gn(){const e=b(),t=b();b();const r=b(),n=b(),o=b(),l=_(null);l.on(e,(s,f)=>f).on(r,()=>null);const i=_(null);return i.on(o,(s,f)=>f).on([r],()=>null),{$hovered:l,$dragDelta:i,onHover:e,onPointerDown:t,onPointerLeave:r,onDrag:o,onPointerClick:n}}function Wr(e){var{timeout:t,start:r,stop:n,leading:o=!1,trailing:l=!1}=e,i=r??b({name:"setup",sid:"-ajedhm"}),s=n??b({name:"teardown",sid:"-ryi8gr"}),f=b({name:"tick",sid:"-cw8a02"}),u=_(!1,{name:"$isRunning",sid:"-5gspmy"}),a=Jn(t),m=u.map(v=>!v),h=b({name:"saveTimeout",sid:"satd6r"}),c=_(null,{name:"$timeoutId",sid:"hehxq7"}).on(h,(v,y)=>{var{timeoutId:w}=y;return w}),d=_(()=>{},{name:"$rejecter",sid:"-sc3eh9"}).on(h,(v,y)=>{var{reject:w}=y;return w}),p=er({and:{source:{timeout:a,running:u},effect:v=>{var{timeout:y,running:w}=v;return w?new Promise((S,k)=>{var P=setTimeout(S,y);h({timeoutId:P,reject:k})}):Promise.reject()}},or:{name:"timeoutFx",sid:"-xlxric"}}),g=er({and:{source:{timeoutId:c,rejecter:d},effect:v=>{var{timeoutId:y,rejecter:w}=v;w(),y&&clearTimeout(y)}},or:{name:"cleanupFx",sid:"-32ewxw"}});if(ze({and:[{clock:i,source:a,filter:m,target:p}],or:{sid:"-us95i7"}}),o){var $=ze({and:[{clock:i,filter:m}],or:{name:"onReady",sid:"farho0"}});A({and:[{clock:$,target:f}],or:{sid:"-ubrbnn"}})}return A({and:[{clock:i,fn:()=>!0,target:u}],or:{sid:"-ua3xxa"}}),ze({and:[{clock:p.done,source:a,filter:u,target:p}],or:{sid:"6lcmx8"}}),ze({and:[{clock:p.done,filter:u,target:f.prepend(()=>{})}],or:{sid:"6p772r"}}),l&&A({and:[{clock:s,target:f}],or:{sid:"75p0xb"}}),u.on(s,()=>!1),A({and:[{clock:s,target:g}],or:{sid:"7ln232"}}),{tick:f,isRunning:u,"@@trigger":()=>({setup:i,teardown:s,fired:f})}}function Jn(e){if(_e.store(e,{sid:"8i2x6t"}))return e;if(typeof e=="number")return _(e,{and:{name:"$timeout"},sid:"-jluixv"});throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof e,'" was passed'))}function sr(e){var{source:t,timeout:r,target:n=b({name:"target",sid:"r328r6"},{name:"target",sid:"r328r6"})}=e;if(!_e.unit(t))throw new TypeError("source must be unit from effector");var o=Qn(r),l=zt(u=>new Promise(a=>setTimeout(a,u)),{name:"timerFx",sid:"-pyjx8k"}),i=_(null,{and:{serialize:"ignore"},name:"$payload",sid:"hinjft"}).on(t,(u,a)=>a),s=b({name:"triggerTick",sid:"-sf8sou"}),f=_(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"-m0cqc"}).on(s,()=>!1).on(n,()=>!0);return ze({and:[{clock:t,filter:f,target:s}],or:{sid:"-hzhj9b"}}),A({and:[{source:o,clock:s,target:l}],or:{sid:"-hkn38k"}}),A({and:[{source:i,clock:l.done,target:n}],or:{sid:"-hhcboe"}}),n}function Qn(e){if(_e.store(e,{sid:"-h0ap6r"}))return e;if(typeof e=="number"){if(e<0||!Number.isFinite(e))throw new Error('timeout must be positive number or zero. Received: "'.concat(e,'"'));return _(e,{and:{name:"$timeout"},sid:"-h97n10"})}throw new TypeError('timeout parameter should be number or Store. "'.concat(typeof e,'" was passed'))}function Zn(e,t,r){const n=_(0),o=_({prev:0,delta:0}).reset(t),l=b(),i=b(),s=sr({source:l,timeout:100}),f=sr({source:r,timeout:300}),u=Wr({timeout:1e3,start:i});n.on(s,(h,c)=>c),A({source:{stepsPerSec:o,steps:e},clock:u.tick,fn:({stepsPerSec:h,steps:c})=>({prev:c,delta:c-h.prev}),target:o});const a=[];i(),m();function m(){window.requestAnimationFrame(()=>{const h=performance.now();for(;a.length>0&&a[0]<=h-1e3;)a.shift();a.push(h),m()}),l(a.length)}return{$fps:n,$stepsPerSec:o.map(h=>h.delta),$time:En(f,0)}}function eo(e,t){const r="expectedStepsPerSec";let n=+Hr(r,"10")||10;const o=b(),l=b(),i=b(),s=b(),f=b(),u=b(),a=_(!1),m=_(0),h=[1,200],c=_(n),d=c.map(y=>1e3/y),p=b(),g=b(),$=_(null),v=Wr({timeout:d,start:l,stop:_r([s,i,u])});return A({clock:[v.tick,l,f],filter:ue(a,t,(y,w)=>y&&!w),target:o}),A({clock:f,target:o}),A({source:e,clock:l,fn:y=>new Map(y),target:$}),a.on(l,()=>!0).on([i,s],()=>!1).reset(u),c.on(p,y=>{if(y===1)return 5;let w=y+5;return w>h[1]?h[1]:w}).on(g,y=>{let w=y-5;return w<1?1:w}),$.on(u,()=>null),m.on(o,y=>y+1).on(i,()=>0).reset(u),c.watch(y=>{Ur(r,String(y))}),{$currentStep:m,$expectedStepsPerSec:c,$isRunning:a,$startFauna:$,start:l,stop:i,pause:s,incExpectedStepsPerSec:p,decExpectedStepsPerSec:g,speedRange:h,gameTick:o,reset:u,oneStep:f}}const M=Gn(),N=Kn();Yn();const H=_({fauna:Vn([]),time:0,size:0}),to=_([]),Vr=_(!1),qt=b(),dt=b();Vr.on(qt,()=>!0).on(dt,()=>!1);const j=eo(H.map(e=>e.fauna),Vr),kt=Zn(j.$currentStep,j.reset,dt.map(e=>e.time)),re=_({x:0,y:0}),ro=b(),Ht=b(),Ut=b();A({source:[re,M.$hovered],clock:N.$cellSize,fn:([e,t],{size:r,prevSize:n})=>{if(t){let o={col:(t.x-e.x)/n,row:(t.y-e.y)/n};return lr(o,t,r)}else{let o=qr(),l={x:o.width/2,y:o.height/2},i={col:(l.x-e.x)/n,row:(l.y-e.y)/n};return lr(i,l,r)}},target:re});const Xr=ue(H,re,N.$cellSize,N.$viewPortSize,({fauna:e},t,{size:r},n)=>{const o=[];return e.forEach((l,i)=>{l.forEach((s,f)=>{const u=i*r+t.x,a=f*r+t.y;u>=0&&u<n.width&&a>=0&&a<n.height&&o.push([u,a])})}),o}),no=ue(Xr,H,(e,t)=>({fieldCellsAmount:e.length,faunaCellsAmount:t.size})),oo=ue(to,N.$fieldSize,N.$cellSize,re,(e,{width:t,height:r},{size:n},o)=>{const l=[];return e.forEach(({col:i,row:s,label:f})=>{const u=i+o.x/n,a=s+o.y/n;u>=0&&u<t&&a>=0&&a<r&&l.push({col:u,row:a,label:f})}),l}),io=ue(Xr,N.$cellSize,(e,t)=>({size:t,field:e})),lo=ue(M.$hovered,N.$cellSize,re,(e,{size:t},r)=>{if(e){const n=Math.floor((e.x-r.x)/t),o=Math.floor((e.y-r.y)/t),l=(n*t+r.x).toFixed(0),i=(o*t+r.y).toFixed(0);return[{x:l,y:i}]}return[]}),so=ue(oo,N.$cellSize,(e,{size:t})=>e.map(({row:r,col:n,label:o})=>({y:r*t+"px",x:n*t+"px",label:o})));A({source:H,clock:j.gameTick,fn:e=>e.fauna,target:qt});H.on(dt,(e,t)=>t).reset(Ut);const Yr=_({x:0,y:0});A({source:re,clock:M.onPointerDown,target:Yr});A({source:Yr,clock:M.onDrag,fn:(e,{from:t,to:r})=>({x:e.x+r.x-t.x,y:e.y+r.y-t.y}),target:re});re.reset(ro);A({source:{faunaData:H,fieldSize:N.$fieldSize,cellSize:N.$cellSize},clock:Ht,fn:({faunaData:e,fieldSize:t,cellSize:r})=>{const n=Xn(e.fauna);return{x:(t.width/2-n.col)*r.size,y:(t.height/2-n.row)*r.size}},target:re});A({source:{faunaData:H,screenOffsetXY:re,cellSize:N.$cellSize},clock:M.onPointerClick,fn:({faunaData:e,screenOffsetXY:t,cellSize:{size:r}},n)=>{const o=new Map(e.fauna),l=Math.floor((n.x-t.x)/r),i=Math.floor((n.y-t.y)/r);return o.has(l)||o.set(l,new Map),o.get(l).has(i)?o.get(l).delete(i):o.get(l).set(i,1),{...e,fauna:o}},target:H});const pt=_(""),Kr=b(),Wt=b(),ht=b();b();b();pt.on(Kr,(e,t)=>t);var De={},Gr={},mt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNone=e.isSome=e.None=e.Some=e.OptionType=void 0,e.OptionType={Some:Symbol(":some"),None:Symbol(":none")};function t(i){return typeof i>"u"?n():r(i)}e.Some=t,e.None=n();function r(i){return{type:e.OptionType.Some,isSome(){return!0},isNone(){return!1},match(s){return s.some(i)},map(s){return r(s(i))},andThen(s){return s(i)},or(s){return this},and(s){return s},unwrapOr(s){return i},unwrap(){return i}}}function n(){return{type:e.OptionType.None,isSome(){return!1},isNone(){return!0},match(i){const{none:s}=i;return typeof s=="function"?s():s},map(i){return n()},andThen(i){return n()},or(i){return i},and(i){return n()},unwrapOr(i){if(i==null)throw new Error("Cannot call unwrapOr with a missing value.");return i},unwrap(){throw new ReferenceError("Trying to unwrap None.")}}}function o(i){return i.isSome()}e.isSome=o;function l(i){return i.isNone()}e.isNone=l})(mt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isRight=e.isLeft=e.Right=e.Left=e.EitherType=void 0;const t=mt;e.EitherType={Left:Symbol(":left"),Right:Symbol(":right")};function r(i){return{type:e.EitherType.Left,isLeft(){return!0},isRight(){return!1},left(){return(0,t.Some)(i)},leftAndThen(s){return s(i)},right(){return t.None},rightAndThen(s){return r(i)},unwrap(){return i},unwrapLeft(){return i},unwrapLeftOr(s){return i},unwrapLeftOrElse(s){return i},unwrapRight(){throw new ReferenceError("Cannot unwrap Right value of Either.Left")},unwrapRightOr(s){return s},unwrapRightOrElse(s){return s(i)},match(s){return s.left(i)},map(s){return r(s(i))},mapLeft(s){return r(s(i))},mapRight(s){return r(i)}}}e.Left=r;function n(i){return{type:e.EitherType.Right,isLeft(){return!1},isRight(){return!0},left(){return t.None},leftAndThen(s){return n(i)},right(){return(0,t.Some)(i)},rightAndThen(s){return s(i)},unwrap(){return i},unwrapLeft(){throw new ReferenceError("Cannot unwrap Left value of Either.Right")},unwrapLeftOr(s){return s},unwrapLeftOrElse(s){return s(i)},unwrapRight(){return i},unwrapRightOr(s){return i},unwrapRightOrElse(s){return i},match(s){return s.right(i)},map(s){return n(s(i))},mapLeft(s){return n(i)},mapRight(s){return n(s(i))}}}e.Right=n;function o(i){return i.isLeft()}e.isLeft=o;function l(i){return i.isRight()}e.isRight=l})(Gr);var Jr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isErr=e.isOk=e.Err=e.Ok=e.ResultType=void 0;const t=mt;e.ResultType={Ok:Symbol(":ok"),Err:Symbol(":err")};function r(i){return{type:e.ResultType.Ok,isOk(){return!0},isErr(){return!1},ok(){return(0,t.Some)(i)},err(){return t.None},unwrap(){return i},unwrapOr(s){return i},unwrapOrElse(s){return i},unwrapErr(){throw new ReferenceError("Cannot unwrap Err value of Result.Ok")},match(s){return s.ok(i)},map(s){return r(s(i))},mapErr(s){return r(i)},andThen(s){return s(i)},orElse(s){return r(i)}}}e.Ok=r;function n(i){return{type:e.ResultType.Err,isOk(){return!1},isErr(){return!0},ok(){return t.None},err(){return(0,t.Some)(i)},unwrap(){throw new ReferenceError("Cannot unwrap Ok value of Result.Err")},unwrapOr(s){return s},unwrapOrElse(s){return s(i)},unwrapErr(){return i},match(s){return s.err(i)},map(s){return n(i)},mapErr(s){return n(s(i))},andThen(s){return n(i)},orElse(s){return s(i)}}}e.Err=n;function o(i){return i.isOk()}e.isOk=o;function l(i){return i.isErr()}e.isErr=l})(Jr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Ok=e.isOk=e.isErr=e.Err=e.Some=e.None=e.isSome=e.isNone=e.Right=e.Left=e.isRight=e.isLeft=void 0;var t=Gr;Object.defineProperty(e,"isLeft",{enumerable:!0,get:function(){return t.isLeft}}),Object.defineProperty(e,"isRight",{enumerable:!0,get:function(){return t.isRight}}),Object.defineProperty(e,"Left",{enumerable:!0,get:function(){return t.Left}}),Object.defineProperty(e,"Right",{enumerable:!0,get:function(){return t.Right}});var r=mt;Object.defineProperty(e,"isNone",{enumerable:!0,get:function(){return r.isNone}}),Object.defineProperty(e,"isSome",{enumerable:!0,get:function(){return r.isSome}}),Object.defineProperty(e,"None",{enumerable:!0,get:function(){return r.None}}),Object.defineProperty(e,"Some",{enumerable:!0,get:function(){return r.Some}});var n=Jr;Object.defineProperty(e,"Err",{enumerable:!0,get:function(){return n.Err}}),Object.defineProperty(e,"isErr",{enumerable:!0,get:function(){return n.isErr}}),Object.defineProperty(e,"isOk",{enumerable:!0,get:function(){return n.isOk}}),Object.defineProperty(e,"Ok",{enumerable:!0,get:function(){return n.Ok}})})(De);const uo="b",ur="o";function ao(e){let t=co(e);if(t.isNone())return[];let r=t.unwrap(),n=r.right-r.left+1,o=r.bottom-r.top+1,l=Array(o).fill(0).map(()=>Array(n).fill(0));for(let[i,s]of e.entries())for(let[f,u]of s.entries())l[f-r.top][i-r.left]=1;return l}function Qr(e){let t=new Map;const r="b",n="o",o="$";let l="",i=0,s=0;for(let f=0;f<e.length;f++){let u=e[f];if(!(u===`
`||u==="\r"||u==="!"))if(u.charCodeAt(0)>=48&&u.charCodeAt(0)<=57)l+=u;else{let a=+l||1;if(u===r)s+=a;else if(u===n)for(let m=0;m<a;m++)t.has(s)||t.set(s,new Map),t.get(s).set(i,1),s++;else if(u===o)i+=a,s=0;else return De.Err(`Unknown character: ${u}`);l=""}}return De.Ok(t)}function co(e){let t=1/0,r=-1/0,n=1/0,o=-1/0;for(let[l,i]of e.entries())for(let[s,f]of i.entries())l<n&&(n=l),l>o&&(o=l),s<t&&(t=s),s>r&&(r=s);return Number.isFinite(t)&&Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(o)?De.Some({top:t,bottom:r,left:n,right:o}):De.None}function Zr(e){let t=ao(e);return fo(t.map(n=>r(n)).join("$"))+"!";function r(n){let o="",l=n[0],i=1;for(let s=1;s<n.length;s++){let f=n[s];if(l===f){i++;continue}i>1&&(o+=i),o+=l===0?uo:ur,l=f,i=1}return l===1&&(i>1&&(o+=i),o+=ur),o}}function fo(e){let t="",r=0;for(let n=0;n<e.length;n++){let o=e[n];o!="$"?(r===1&&(t+="$"),r>1&&(t+=r+"$"),t+=o,r=0):r++}return t}const gt=_(ho()||[]),en=b(),tn=b(),rn=b(),yt=b(),nn=b();gt.on(en,(e,t)=>{let r=0;for(;e.find(n=>n.name===`save #${r}`);)r++;return[...e,{rle:Zr(t),name:`save #${r}`,removed:!1}]}).on(tn,(e,t)=>e.map(r=>r.name===t?{...r,removed:!0}:r)).on(rn,(e,t)=>e.map(r=>r.name===t?{...r,removed:!1}:r));A({source:gt,target:zt(e=>{po("history",e)})});function po(e,t){let r=t.filter(n=>!n.removed).map(({name:n,rle:o})=>({rle:o,name:n}));localStorage.setItem(e,JSON.stringify(r))}function ho(){try{return(JSON.parse(localStorage.getItem("history")||"null")||[]).map(({rle:r,name:n})=>({rle:r,name:n,removed:!1}))}catch(e){return console.error(e),[]}}A({source:H,clock:nn,fn:e=>e.fauna,target:en});A({source:gt,clock:yt,fn:(e,t)=>{const r=e.find(n=>n.name===t).rle;return{fauna:Qr(r).unwrapOr(new Map),time:0,size:0}},target:H});A({clock:[yt,Ut,Wt,ht],target:j.reset});A({source:H,clock:Wt,fn:({fauna:e})=>Zr(e),target:pt});A({source:pt,clock:ht,fn:e=>({fauna:Qr(e).unwrapOr(new Map),time:0,size:0}),target:H});A({clock:[yt,ht],target:Ht});const ar="#5583e5",mo="_field_2r2xy_1",go="_cell_2r2xy_17",yo="_on1_2r2xy_25",wo="_on2_2r2xy_28",bo="_hoveredCell_2r2xy_32",vo="_heartMode_2r2xy_36",$o="_label_2r2xy_44",Xe={field:mo,cell:go,on1:yo,on2:wo,hoveredCell:bo,heartMode:vo,label:$o};function we(e,t){var r;return((n,o)=>{let l=!_e.unit(n)&&typeof n=="object",i={};n&&"@@unitShape"in n?typeof n["@@unitShape"]=="function"?i=n["@@unitShape"]():Pt("expect @@unitShape to be a function"):i=l?n:{unit:n};let s=Array.isArray(i),f=Object.entries(i),u=s?[]:{},a=[],m={},h={};for(let[d,p]of f)if(_e.store(p))if(m[p.graphite.id]){let g=m[p.graphite.id];u[d]=u[g],h[d]=u[g]}else{a.push(p),m[p.graphite.id]=d;let[g,$]=hr(cr(p,o));u[d]=g,h[d]=$}else _e.unit(p)||Pt("expected useUnit argument to be a unit"),u[d]=o?Cn(p,{scope:o}):p;let c=[vt.compute({priority:"effect"}),vt.compute({priority:"sampler",batch:1}),vt.run({fn:()=>{an(()=>{for(let d of a)h[m[d.graphite.id]](()=>cr(d,o))})}})];if(o){let d=le({node:c}),p=o.additionalLinks,g=[];a.forEach($=>{let v=$.graphite.id,y=p[v]||[];p[v]=y,y.push(d),g.push(y)}),xt(()=>{g.forEach($=>{let v=$.indexOf(d);v!==-1&&$.splice(v,1)}),Lt(d)})}else{let d=le({node:c,parent:a,family:{owners:a}});xt(()=>{Lt(d)})}return l?u:u.unit})(e,((n=1)=>{let o=dn(So);return n&&!o&&Pt("No scope found, consider adding <Provider> to app root"),o})((r=t?.forceScope)!==null&&r!==void 0?r:0))}let Pt=e=>{throw Error(e)};const cr=(e,t)=>t?t.getState(e):e.getState();let So=fn(null);const _o=U("<div><canvas>"),fr=U("<div>");let de="ontouchstart"in window||navigator.maxTouchPoints>0;function ko(){let[e,t,r]=we([lo,so,N.$cellSize]),n,o=null,l=null;cn(()=>{requestAnimationFrame(s);function s(){if(!n){console.warn("no canvas");return}let{size:{size:f},field:u}=io.getState();const a=n.getContext("2d");if(!a){console.warn("no context");return}let{width:m,height:h}=n.getBoundingClientRect();a.clearRect(0,0,m,h),a.fillStyle=ar,a.beginPath(),f>10?u.forEach(c=>{a.rect(c[0]+1,c[1]+1,f-1,f-1)}):u.forEach(c=>{a.rect(c[0],c[1],f,f)}),a.fill(),requestAnimationFrame(s)}});let i=0;return(()=>{const s=_o(),f=s.firstChild;return s.style.setProperty("--color1",ar),Pn(u=>n=u,f),f.addEventListener("wheel",u=>{i+=u.deltaY,i>20&&(N.minus(),i=0),i<-20&&(N.plus(),i=0)}),f.$$mouseup=u=>{de||(o&&!l&&M.onPointerClick(o),o=null,l=null)},f.addEventListener("mouseleave",()=>{de||(M.onPointerLeave(),o&&!l&&M.onPointerClick(o),o=null,l=null)}),f.$$mousemove=u=>{de||(o?(l={x:u.clientX,y:u.clientY},M.onDrag({from:o,to:l})):M.onHover({x:u.clientX,y:u.clientY}))},f.$$mousedown=u=>{de||(M.onPointerDown({x:u.clientX,y:u.clientY}),o={x:u.clientX,y:u.clientY},l=null)},f.$$touchend=u=>{de&&(o&&!l&&M.onPointerClick(o),o=null,l=null)},f.$$touchmove=u=>{de&&(u.touches.length!==1&&(console.warn("onTouchMove ERROR"),o=null,l=null),o&&(l={x:u.touches[0].clientX,y:u.touches[0].clientY},M.onDrag({from:o,to:l})))},f.$$touchstart=u=>{de&&u.touches.length===1&&(M.onPointerDown({x:u.touches[0].clientX,y:u.touches[0].clientY}),o={x:u.touches[0].clientX,y:u.touches[0].clientY},l=null)},C(s,()=>e().map(u=>(()=>{const a=fr();return B(m=>{const h=u.x+"px",c=u.y+"px",d={[Xe.cell]:!0,[Xe.hoveredCell]:!0};return h!==m._v$5&&((m._v$5=h)!=null?a.style.setProperty("left",h):a.style.removeProperty("left")),c!==m._v$6&&((m._v$6=c)!=null?a.style.setProperty("top",c):a.style.removeProperty("top")),m._v$7=Gt(a,d,m._v$7),m},{_v$5:void 0,_v$6:void 0,_v$7:void 0}),a})()),null),C(s,()=>t().map(u=>(()=>{const a=fr();return C(a,()=>u.label),B(m=>{const h=u.x,c=u.y,d={[Xe.label]:!0};return h!==m._v$8&&((m._v$8=h)!=null?a.style.setProperty("left",h):a.style.removeProperty("left")),c!==m._v$9&&((m._v$9=c)!=null?a.style.setProperty("top",c):a.style.removeProperty("top")),m._v$10=Gt(a,d,m._v$10),m},{_v$8:void 0,_v$9:void 0,_v$10:void 0}),a})()),null),B(u=>{const a=Xe.field,m=r().size+"px",h=window.innerWidth,c=document.body.offsetHeight;return a!==u._v$&&Le(s,u._v$=a),m!==u._v$2&&((u._v$2=m)!=null?s.style.setProperty("--cellSize",m):s.style.removeProperty("--cellSize")),h!==u._v$3&&Kt(f,"width",u._v$3=h),c!==u._v$4&&Kt(f,"height",u._v$4=c),u},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),s})()}Te(["touchstart","touchmove","touchend","mousedown","mousemove","mouseup"]);const Po="_roundBox_hgest_1",xo="_history_hgest_9",Eo="_colorBtn_hgest_15",Co="_currentColor_hgest_22",Ao="_arrowBtn_hgest_26",Oo="_whiteBox_hgest_54",qe={roundBox:Po,history:xo,colorBtn:Eo,currentColor:Co,arrowBtn:Ao,whiteBox:Oo},Ro=U("<div><button>-</button><button>+");function on(e){return(()=>{const t=Ro(),r=t.firstChild,n=r.nextSibling;return Z(r,"click",e.onMinusClicked,!0),C(t,()=>` ${e.value} `,n),Z(n,"click",e.onPlusClicked,!0),B(o=>{const l=e.class,i=e.value<=e.range[0],s=e.value>=e.range[1];return l!==o._v$&&Le(t,o._v$=l),i!==o._v$2&&(r.disabled=o._v$2=i),s!==o._v$3&&(n.disabled=o._v$3=s),o},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}Te(["click"]);const No=U("<div><button>to center</button><div>");function To(){const[e]=we([N.$cellSize]);return(()=>{const t=No(),r=t.firstChild,n=r.nextSibling;return Z(r,"click",Ht,!0),n.style.setProperty("position","absolute"),n.style.setProperty("right","150px"),n.style.setProperty("bottom","20px"),n.style.setProperty("z-index","1"),C(n,W(on,{get value(){return e().size},get onPlusClicked(){return N.plus},get onMinusClicked(){return N.minus},get range(){return N.options},get class(){return qe.roundBox}})),B(()=>Le(r,qe.arrowBtn)),t})()}Te(["click"]);const Lo=U("<button>STOP"),Mo=U("<button>START"),zo=U("<p><button>Step</button>timer: ");function jo(){let[e,t]=we([j.$isRunning,j.$currentStep]);return(()=>{const r=zo(),n=r.firstChild;return n.nextSibling,r.style.setProperty("display","flex"),r.style.setProperty("gap","4px"),r.style.setProperty("position","absolute"),Z(n,"click",j.oneStep,!0),C(r,W(Xt,{get when(){return e()},get children(){const o=Lo();return Z(o,"click",j.stop,!0),o.style.setProperty("color","#f8f8f8"),o.style.setProperty("background-color","#de4040"),o.style.setProperty("border","0"),o}}),null),C(r,W(Xt,{get when(){return!e()},get children(){const o=Mo();return Z(o,"click",j.start,!0),o.style.setProperty("color","#f8f8f8"),o.style.setProperty("background-color","#50c40e"),o.style.setProperty("border","0"),o}}),null),C(r,()=>`steps: ${t()}`,null),B(()=>Le(r,qe.whiteBox)),r})()}Te(["click"]);const Fo=U("<div><span>FPS: </span><span>STEPS PER SEC: </span><span>EXPECTED STEPS:</span><span>CALC TIME: <!> msec</span><span>CELLS: </span><span>CELLS ON SCREEN: ");function Io(){const[e,t,r]=we([kt.$stepsPerSec,kt.$time,kt.$fps]),[n,o]=we([no,j.$expectedStepsPerSec]);return(()=>{const l=Fo(),i=l.firstChild;i.firstChild;const s=i.nextSibling;s.firstChild;const f=s.nextSibling,u=f.nextSibling,a=u.firstChild,m=a.nextSibling;m.nextSibling;const h=u.nextSibling;h.firstChild;const c=h.nextSibling;return c.firstChild,l.style.setProperty("position","absolute"),l.style.setProperty("display","grid"),l.style.setProperty("top","10px"),l.style.setProperty("right","10px"),C(i,r,null),C(s,e,null),C(l,W(on,{get value(){return o()},get onPlusClicked(){return j.incExpectedStepsPerSec},get onMinusClicked(){return j.decExpectedStepsPerSec},get range(){return j.speedRange}}),u),C(u,t,m),C(h,()=>n().faunaCellsAmount,null),C(c,()=>n().fieldCellsAmount,null),B(()=>Le(l,qe.whiteBox)),l})()}const Bo=U("<div><p>History: </p><button>Save"),Do=U("<div><button>"),qo=U("<button>x");function Ho(){let[e]=we([gt]);return(()=>{const t=Bo(),r=t.firstChild,n=r.nextSibling;return r.style.setProperty("margin","0"),Z(n,"click",nn,!0),n.style.setProperty("margin-right","20px"),C(t,W(Sn,{get each(){return e()},children:o=>(()=>{const l=Do(),i=l.firstChild;return i.$$click=()=>{o.removed?rn(o.name):yt(o.name)},C(i,()=>o.removed?`restore ${o.name}`:o.name),C(l,(()=>{const s=Pe(()=>!!o.removed);return()=>s()?null:(()=>{const f=qo();return f.$$click=()=>{tn(o.name)},f})()})(),null),l})()}),null),B(()=>Le(t,qe.history)),t})()}Te(["click"]);const Uo=U("<div><div><h1>Game of Life</h1></div><button>Reset</button><div><button>Export</button><button>Import</button><br><textarea>");function Wo(){let[e]=we([pt]);return(()=>{const t=Uo(),r=t.firstChild;r.firstChild;const n=r.nextSibling,o=n.nextSibling,l=o.firstChild,i=l.nextSibling,s=i.nextSibling,f=s.nextSibling;return C(t,W(To,{}),r),C(t,W(ko,{}),r),r.style.setProperty("position","absolute"),r.style.setProperty("width","100%"),r.style.setProperty("background-color","rgba(255,255,255, 0.9)"),r.style.setProperty("border-bottom","1px solid #ccc"),C(r,W(Ho,{}),null),C(r,W(jo,{}),null),C(t,W(Io,{}),n),Z(n,"click",Ut,!0),n.style.setProperty("position","absolute"),n.style.setProperty("bottom","20px"),n.style.setProperty("left","20px"),o.style.setProperty("position","absolute"),o.style.setProperty("bottom","50px"),o.style.setProperty("left","20px"),Z(l,"click",Wt,!0),Z(i,"click",ht,!0),f.addEventListener("change",u=>Kr(u.target.value)),f.style.setProperty("font-size","8px"),f.style.setProperty("width","100%"),f.style.setProperty("height","100px"),f.style.setProperty("line-height","1"),B(()=>f.value=e()),t})()}Vo();function Vo(){const e=new Worker("./webworkerGo.js");e.addEventListener("message",t=>{dt(t.data)}),e.addEventListener("error",t=>{console.log("main.error err",t)}),qt.watch(t=>{e.postMessage(t)})}kn(()=>W(Wo,{}),document.querySelector("#app"));Te(["click"]);
